(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[144],{7201:function(e){/*!
 * surveyjs - Survey JavaScript library v1.12.11
 * Copyright (c) 2015-2024 Devsoft Baltic OÃœ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */e.exports=function(e){var t={};function __nested_webpack_require_749__(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,__nested_webpack_require_749__),n.l=!0,n.exports}return __nested_webpack_require_749__.m=e,__nested_webpack_require_749__.c=t,__nested_webpack_require_749__.d=function(e,t,o){__nested_webpack_require_749__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},__nested_webpack_require_749__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__nested_webpack_require_749__.t=function(e,t){if(1&t&&(e=__nested_webpack_require_749__(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(__nested_webpack_require_749__.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__nested_webpack_require_749__.d(o,n,(function(t){return e[t]}).bind(null,n));return o},__nested_webpack_require_749__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __nested_webpack_require_749__.d(t,"a",t),t},__nested_webpack_require_749__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__nested_webpack_require_749__.p="",__nested_webpack_require_749__(__nested_webpack_require_749__.s="./src/entries/core.ts")}({"./packages/survey-core/src/images-v1 sync recursive \\.svg$":function(e,t,o){var n={"./ChooseFile.svg":"./packages/survey-core/src/images-v1/ChooseFile.svg","./ModernBooleanCheckChecked.svg":"./packages/survey-core/src/images-v1/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./packages/survey-core/src/images-v1/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./packages/survey-core/src/images-v1/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./packages/survey-core/src/images-v1/ModernCheck.svg","./ModernRadio.svg":"./packages/survey-core/src/images-v1/ModernRadio.svg","./ProgressButton.svg":"./packages/survey-core/src/images-v1/ProgressButton.svg","./RemoveFile.svg":"./packages/survey-core/src/images-v1/RemoveFile.svg","./TimerCircle.svg":"./packages/survey-core/src/images-v1/TimerCircle.svg","./add-24x24.svg":"./packages/survey-core/src/images-v1/add-24x24.svg","./arrowleft-16x16.svg":"./packages/survey-core/src/images-v1/arrowleft-16x16.svg","./arrowright-16x16.svg":"./packages/survey-core/src/images-v1/arrowright-16x16.svg","./camera-24x24.svg":"./packages/survey-core/src/images-v1/camera-24x24.svg","./camera-32x32.svg":"./packages/survey-core/src/images-v1/camera-32x32.svg","./cancel-24x24.svg":"./packages/survey-core/src/images-v1/cancel-24x24.svg","./check-16x16.svg":"./packages/survey-core/src/images-v1/check-16x16.svg","./check-24x24.svg":"./packages/survey-core/src/images-v1/check-24x24.svg","./chevrondown-24x24.svg":"./packages/survey-core/src/images-v1/chevrondown-24x24.svg","./chevronright-16x16.svg":"./packages/survey-core/src/images-v1/chevronright-16x16.svg","./clear-16x16.svg":"./packages/survey-core/src/images-v1/clear-16x16.svg","./clear-24x24.svg":"./packages/survey-core/src/images-v1/clear-24x24.svg","./close-16x16.svg":"./packages/survey-core/src/images-v1/close-16x16.svg","./close-24x24.svg":"./packages/survey-core/src/images-v1/close-24x24.svg","./collapse-16x16.svg":"./packages/survey-core/src/images-v1/collapse-16x16.svg","./collapsedetails-16x16.svg":"./packages/survey-core/src/images-v1/collapsedetails-16x16.svg","./delete-24x24.svg":"./packages/survey-core/src/images-v1/delete-24x24.svg","./drag-24x24.svg":"./packages/survey-core/src/images-v1/drag-24x24.svg","./draghorizontal-24x16.svg":"./packages/survey-core/src/images-v1/draghorizontal-24x16.svg","./expand-16x16.svg":"./packages/survey-core/src/images-v1/expand-16x16.svg","./expanddetails-16x16.svg":"./packages/survey-core/src/images-v1/expanddetails-16x16.svg","./file-72x72.svg":"./packages/survey-core/src/images-v1/file-72x72.svg","./flip-24x24.svg":"./packages/survey-core/src/images-v1/flip-24x24.svg","./folder-24x24.svg":"./packages/survey-core/src/images-v1/folder-24x24.svg","./fullsize-16x16.svg":"./packages/survey-core/src/images-v1/fullsize-16x16.svg","./image-48x48.svg":"./packages/survey-core/src/images-v1/image-48x48.svg","./loading-48x48.svg":"./packages/survey-core/src/images-v1/loading-48x48.svg","./maximize-16x16.svg":"./packages/survey-core/src/images-v1/maximize-16x16.svg","./minimize-16x16.svg":"./packages/survey-core/src/images-v1/minimize-16x16.svg","./more-24x24.svg":"./packages/survey-core/src/images-v1/more-24x24.svg","./navmenu-24x24.svg":"./packages/survey-core/src/images-v1/navmenu-24x24.svg","./noimage-48x48.svg":"./packages/survey-core/src/images-v1/noimage-48x48.svg","./ranking-arrows.svg":"./packages/survey-core/src/images-v1/ranking-arrows.svg","./rankingundefined-16x16.svg":"./packages/survey-core/src/images-v1/rankingundefined-16x16.svg","./rating-star-2.svg":"./packages/survey-core/src/images-v1/rating-star-2.svg","./rating-star-small-2.svg":"./packages/survey-core/src/images-v1/rating-star-small-2.svg","./rating-star-small.svg":"./packages/survey-core/src/images-v1/rating-star-small.svg","./rating-star.svg":"./packages/survey-core/src/images-v1/rating-star.svg","./reorder-24x24.svg":"./packages/survey-core/src/images-v1/reorder-24x24.svg","./restoredown-16x16.svg":"./packages/survey-core/src/images-v1/restoredown-16x16.svg","./search-24x24.svg":"./packages/survey-core/src/images-v1/search-24x24.svg","./smiley-rate1-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate1-24x24.svg","./smiley-rate10-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate10-24x24.svg","./smiley-rate2-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate2-24x24.svg","./smiley-rate3-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate3-24x24.svg","./smiley-rate4-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate4-24x24.svg","./smiley-rate5-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate5-24x24.svg","./smiley-rate6-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate6-24x24.svg","./smiley-rate7-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate7-24x24.svg","./smiley-rate8-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate8-24x24.svg","./smiley-rate9-24x24.svg":"./packages/survey-core/src/images-v1/smiley-rate9-24x24.svg"};function webpackContext(e){return o(webpackContextResolve(e))}function webpackContextResolve(e){if(!o.o(n,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}webpackContext.keys=function(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id="./packages/survey-core/src/images-v1 sync recursive \\.svg$"},"./packages/survey-core/src/images-v1/ChooseFile.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./packages/survey-core/src/images-v1/ModernBooleanCheckChecked.svg":function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./packages/survey-core/src/images-v1/ModernBooleanCheckInd.svg":function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./packages/survey-core/src/images-v1/ModernBooleanCheckUnchecked.svg":function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./packages/survey-core/src/images-v1/ModernCheck.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./packages/survey-core/src/images-v1/ModernRadio.svg":function(e,t){e.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./packages/survey-core/src/images-v1/ProgressButton.svg":function(e,t){e.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./packages/survey-core/src/images-v1/RemoveFile.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./packages/survey-core/src/images-v1/TimerCircle.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./packages/survey-core/src/images-v1/add-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 11H17V13H13V17H11V13H7V11H11V7H13V11ZM23 12C23 18.1 18.1 23 12 23C5.9 23 1 18.1 1 12C1 5.9 5.9 1 12 1C18.1 1 23 5.9 23 12ZM21 12C21 7 17 3 12 3C7 3 3 7 3 12C3 17 7 21 12 21C17 21 21 17 21 12Z"></path></svg>'},"./packages/survey-core/src/images-v1/arrowleft-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.4L8.7 13.3L7.3 14.7L0.599998 7.99999L7.3 1.29999L8.7 2.69999L4.4 6.99999H15V8.99999Z"></path></svg>'},"./packages/survey-core/src/images-v1/arrowright-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./packages/survey-core/src/images-v1/camera-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z"></path></svg>'},"./packages/survey-core/src/images-v1/camera-32x32.svg":function(e,t){e.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 6H23.8C23.34 6 22.92 5.77 22.66 5.39L22.25 4.78C21.51 3.66 20.26 3 18.92 3H13.06C11.72 3 10.48 3.67 9.73 4.78L9.32 5.39C9.07 5.77 8.64 6 8.18 6H4.98C2.79 6 1 7.79 1 10V24C1 26.21 2.79 28 5 28H27C29.21 28 31 26.21 31 24V10C31 7.79 29.21 6 27 6ZM29 24C29 25.1 28.1 26 27 26H5C3.9 26 3 25.1 3 24V10C3 8.9 3.9 8 5 8H8.2C9.33 8 10.38 7.44 11 6.5L11.41 5.89C11.78 5.33 12.41 5 13.07 5H18.93C19.6 5 20.22 5.33 20.59 5.89L21 6.5C21.62 7.44 22.68 8 23.8 8H27C28.1 8 29 8.9 29 10V24ZM16 9C12.13 9 9 12.13 9 16C9 19.87 12.13 23 16 23C19.87 23 23 19.87 23 16C23 12.13 19.87 9 16 9ZM16 21C13.24 21 11 18.76 11 16C11 13.24 13.24 11 16 11C18.76 11 21 13.24 21 16C21 18.76 18.76 21 16 21ZM17 13C17 13.55 16.55 14 16 14C14.9 14 14 14.9 14 16C14 16.55 13.55 17 13 17C12.45 17 12 16.55 12 16C12 13.79 13.79 12 16 12C16.55 12 17 12.45 17 13Z"></path></svg>'},"./packages/survey-core/src/images-v1/cancel-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./packages/survey-core/src/images-v1/check-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.003 14.413L0.292999 9.70303L1.703 8.29303L5.003 11.583L14.293 2.29303L15.703 3.70303L5.003 14.413Z"></path></svg>'},"./packages/survey-core/src/images-v1/check-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>'},"./packages/survey-core/src/images-v1/chevrondown-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>'},"./packages/survey-core/src/images-v1/chevronright-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.64648 12.6465L6.34648 13.3465L11.7465 8.04648L6.34648 2.64648L5.64648 3.34648L10.2465 8.04648L5.64648 12.6465Z"></path></svg>'},"./packages/survey-core/src/images-v1/clear-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./packages/survey-core/src/images-v1/clear-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.40005 14.6C0.600049 15.4 0.600049 16.6 1.40005 17.4L6.00005 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.80005L2.80005 16L6.20005 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.60005 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./packages/survey-core/src/images-v1/close-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.43 8.0025L13.7 3.7225C14.09 3.3325 14.09 2.6925 13.7 2.2925C13.31 1.9025 12.67 1.9025 12.27 2.2925L7.99 6.5725L3.72 2.3025C3.33 1.9025 2.69 1.9025 2.3 2.3025C1.9 2.6925 1.9 3.3325 2.3 3.7225L6.58 8.0025L2.3 12.2825C1.91 12.6725 1.91 13.3125 2.3 13.7125C2.69 14.1025 3.33 14.1025 3.73 13.7125L8.01 9.4325L12.29 13.7125C12.68 14.1025 13.32 14.1025 13.72 13.7125C14.11 13.3225 14.11 12.6825 13.72 12.2825L9.44 8.0025H9.43Z"></path></svg>'},"./packages/survey-core/src/images-v1/close-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.4101 12L20.7001 4.71C21.0901 4.32 21.0901 3.69 20.7001 3.3C20.3101 2.91 19.6801 2.91 19.2901 3.3L12.0001 10.59L4.71006 3.29C4.32006 2.9 3.68006 2.9 3.29006 3.29C2.90006 3.68 2.90006 4.32 3.29006 4.71L10.5801 12L3.29006 19.29C2.90006 19.68 2.90006 20.31 3.29006 20.7C3.49006 20.9 3.74006 20.99 4.00006 20.99C4.26006 20.99 4.51006 20.89 4.71006 20.7L12.0001 13.41L19.2901 20.7C19.4901 20.9 19.7401 20.99 20.0001 20.99C20.2601 20.99 20.5101 20.89 20.7101 20.7C21.1001 20.31 21.1001 19.68 20.7101 19.29L13.4201 12H13.4101Z"></path></svg>'},"./packages/survey-core/src/images-v1/collapse-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 6L3 5L8 10L13 5L14 6L8 12L2 6Z"></path></svg>'},"./packages/survey-core/src/images-v1/collapsedetails-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images-v1/delete-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./packages/survey-core/src/images-v1/drag-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 6C13 4.9 13.9 4 15 4C16.1 4 17 4.9 17 6C17 7.1 16.1 8 15 8C13.9 8 13 7.1 13 6ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16ZM9 16C7.9 16 7 16.9 7 18C7 19.1 7.9 20 9 20C10.1 20 11 19.1 11 18C11 16.9 10.1 16 9 16Z"></path></svg>'},"./packages/survey-core/src/images-v1/draghorizontal-24x16.svg":function(e,t){e.exports='<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M18 9C19.1 9 20 9.9 20 11C20 12.1 19.1 13 18 13C16.9 13 16 12.1 16 11C16 9.9 16.9 9 18 9ZM20 5C20 3.9 19.1 3 18 3C16.9 3 16 3.9 16 5C16 6.1 16.9 7 18 7C19.1 7 20 6.1 20 5ZM14 11C14 9.9 13.1 9 12 9C10.9 9 10 9.9 10 11C10 12.1 10.9 13 12 13C13.1 13 14 12.1 14 11ZM14 5C14 3.9 13.1 3 12 3C10.9 3 10 3.9 10 5C10 6.1 10.9 7 12 7C13.1 7 14 6.1 14 5ZM8 11C8 9.9 7.1 9 6 9C4.9 9 4 9.9 4 11C4 12.1 4.9 13 6 13C7.1 13 8 12.1 8 11ZM8 5C8 3.9 7.1 3 6 3C4.9 3 4 3.9 4 5C4 6.1 4.9 7 6 7C7.1 7 8 6.1 8 5Z"></path></svg>'},"./packages/survey-core/src/images-v1/expand-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 14L5 13L10 8L5 3L6 2L12 8L6 14Z"></path></svg>'},"./packages/survey-core/src/images-v1/expanddetails-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images-v1/file-72x72.svg":function(e,t){e.exports='<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>'},"./packages/survey-core/src/images-v1/flip-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23 12.0037C23 14.2445 21.7794 16.3052 19.5684 17.8257C19.3984 17.9458 19.1983 18.0058 19.0082 18.0058C18.688 18.0058 18.3779 17.8557 18.1778 17.5756C17.8677 17.1155 17.9777 16.4953 18.4379 16.1852C20.0887 15.0448 21.0091 13.5643 21.0091 12.0138C21.0091 8.70262 16.9673 6.01171 12.005 6.01171C11.4948 6.01171 10.9945 6.04172 10.5043 6.09173L11.7149 7.30215C12.105 7.69228 12.105 8.32249 11.7149 8.71263C11.5148 8.9127 11.2647 9.00273 11.0045 9.00273C10.7444 9.00273 10.4943 8.90269 10.2942 8.71263L6.58254 5.00136L10.2842 1.2901C10.6744 0.899964 11.3047 0.899964 11.6949 1.2901C12.085 1.68023 12.085 2.31045 11.6949 2.70058L10.3042 4.09105C10.8545 4.03103 11.4147 4.00102 11.985 4.00102C18.0578 4.00102 22.99 7.59225 22.99 12.0037H23ZM12.2851 15.2949C11.895 15.685 11.895 16.3152 12.2851 16.7054L13.4957 17.9158C13.0055 17.9758 12.4952 17.9958 11.995 17.9958C7.03274 17.9958 2.99091 15.3049 2.99091 11.9937C2.99091 10.4332 3.90132 8.95271 5.56207 7.82232C6.02228 7.51222 6.13233 6.89201 5.82219 6.43185C5.51205 5.97169 4.89177 5.86166 4.43156 6.17176C2.22055 7.69228 1 9.76299 1 11.9937C1 16.4052 5.93224 19.9965 12.005 19.9965C12.5753 19.9965 13.1355 19.9665 13.6858 19.9064L12.2951 21.2969C11.905 21.6871 11.905 22.3173 12.2951 22.7074C12.4952 22.9075 12.7453 22.9975 13.0055 22.9975C13.2656 22.9975 13.5157 22.8975 13.7158 22.7074L17.4275 18.9961L13.7158 15.2849C13.3256 14.8947 12.6953 14.8947 12.3051 15.2849L12.2851 15.2949Z"></path></svg>'},"./packages/survey-core/src/images-v1/folder-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.93 9H21V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H10L8 3H4C3.46957 3 2.96086 3.21071 2.58579 3.58579C2.21071 3.96086 2 4.46957 2 5L2 21H21L23.89 11.63C23.9916 11.3244 24.0179 10.9988 23.9667 10.6809C23.9155 10.363 23.7882 10.0621 23.5958 9.80392C23.4034 9.54571 23.1514 9.33779 22.8614 9.19782C22.5714 9.05786 22.2519 8.99 21.93 9ZM4 5H7.17L8.59 6.41L9.17 7H19V9H6L4 15V5ZM22 11L19.54 19H4.77L7.44 11H22Z"></path></svg>'},"./packages/survey-core/src/images-v1/fullsize-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 13H4C2.9 13 2 12.1 2 11V5C2 3.9 2.9 3 4 3H12C13.1 3 14 3.9 14 5V11C14 12.1 13.1 13 12 13ZM4 5V11H12V5H4Z"></path></svg>'},"./packages/survey-core/src/images-v1/image-48x48.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M36 8H12C9.79 8 8 9.79 8 12V36C8 38.21 9.79 40 12 40H36C38.21 40 40 38.21 40 36V12C40 9.79 38.21 8 36 8ZM38 36C38 37.1 37.1 38 36 38H12C10.9 38 10 37.1 10 36V12C10 10.9 10.9 10 12 10H36C37.1 10 38 10.9 38 12V36ZM14 17C14 15.34 15.34 14 17 14C18.66 14 20 15.34 20 17C20 18.66 18.66 20 17 20C15.34 20 14 18.66 14 17ZM27 24L36 36H12L19 27L23 29L27 24Z"></path></svg>'},"./packages/survey-core/src/images-v1/loading-48x48.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z" fill="#19B394"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images-v1/maximize-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 10.71L4.42 13H6.01C6.56 13 7.01 13.45 7.01 14C7.01 14.55 6.56 15 6.01 15H2C1.45 15 1 14.55 1 14V10C1 9.45 1.45 9 2 9C2.55 9 3 9.45 3 10V11.59L5.29 9.3C5.68 8.91 6.31 8.91 6.7 9.3C7.09 9.69 7.09 10.32 6.7 10.71H6.71ZM14 1H10C9.45 1 9 1.45 9 2C9 2.55 9.45 3 10 3H11.59L9.3 5.29C8.91 5.68 8.91 6.31 9.3 6.7C9.5 6.9 9.75 6.99 10.01 6.99C10.27 6.99 10.52 6.89 10.72 6.7L13.01 4.41V6C13.01 6.55 13.46 7 14.01 7C14.56 7 15.01 6.55 15.01 6V2C15.01 1.45 14.56 1 14.01 1H14Z"></path></svg>'},"./packages/survey-core/src/images-v1/minimize-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 9H3C2.45 9 2 8.55 2 8C2 7.45 2.45 7 3 7H13C13.55 7 14 7.45 14 8C14 8.55 13.55 9 13 9Z"></path></svg>'},"./packages/survey-core/src/images-v1/more-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./packages/survey-core/src/images-v1/navmenu-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z"></path></svg>'},"./packages/survey-core/src/images-v1/noimage-48x48.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></svg>'},"./packages/survey-core/src/images-v1/ranking-arrows.svg":function(e,t){e.exports='<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>'},"./packages/survey-core/src/images-v1/rankingundefined-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images-v1/rating-star-2.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>'},"./packages/survey-core/src/images-v1/rating-star-small-2.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./packages/survey-core/src/images-v1/rating-star-small.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>'},"./packages/survey-core/src/images-v1/rating-star.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>'},"./packages/survey-core/src/images-v1/reorder-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 5L12 0L7 5H11V9H13V5H17Z"></path><path d="M13 19V15H11V19H7L12 24L17 19H13Z"></path></svg>'},"./packages/survey-core/src/images-v1/restoredown-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 6C15 6.55 14.55 7 14 7H10C9.45 7 9 6.55 9 6V2C9 1.45 9.45 1 10 1C10.55 1 11 1.45 11 2V3.59L13.29 1.29C13.49 1.09 13.74 1 14 1C14.26 1 14.51 1.1 14.71 1.29C15.1 1.68 15.1 2.31 14.71 2.7L12.42 4.99H14.01C14.56 4.99 15.01 5.44 15.01 5.99L15 6ZM6 9H2C1.45 9 0.999998 9.45 0.999998 10C0.999998 10.55 1.45 11 2 11H3.59L1.29 13.29C0.899998 13.68 0.899998 14.31 1.29 14.7C1.68 15.09 2.31 15.09 2.7 14.7L4.99 12.41V14C4.99 14.55 5.44 15 5.99 15C6.54 15 6.99 14.55 6.99 14V10C6.99 9.45 6.54 9 5.99 9H6Z"></path></svg>'},"./packages/survey-core/src/images-v1/search-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate1-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate10-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate2-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images-v1/smiley-rate3-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate4-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate5-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate6-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate7-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate8-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./packages/survey-core/src/images-v1/smiley-rate9-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'},"./packages/survey-core/src/images-v2 sync recursive \\.svg$":function(e,t,o){var n={"./ChooseFile.svg":"./packages/survey-core/src/images-v2/ChooseFile.svg","./ModernBooleanCheckChecked.svg":"./packages/survey-core/src/images-v2/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./packages/survey-core/src/images-v2/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./packages/survey-core/src/images-v2/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./packages/survey-core/src/images-v2/ModernCheck.svg","./ModernRadio.svg":"./packages/survey-core/src/images-v2/ModernRadio.svg","./ProgressButton.svg":"./packages/survey-core/src/images-v2/ProgressButton.svg","./RemoveFile.svg":"./packages/survey-core/src/images-v2/RemoveFile.svg","./TimerCircle.svg":"./packages/survey-core/src/images-v2/TimerCircle.svg","./add-24x24.svg":"./packages/survey-core/src/images-v2/add-24x24.svg","./arrowleft-16x16.svg":"./packages/survey-core/src/images-v2/arrowleft-16x16.svg","./arrowright-16x16.svg":"./packages/survey-core/src/images-v2/arrowright-16x16.svg","./camera-24x24.svg":"./packages/survey-core/src/images-v2/camera-24x24.svg","./camera-32x32.svg":"./packages/survey-core/src/images-v2/camera-32x32.svg","./cancel-24x24.svg":"./packages/survey-core/src/images-v2/cancel-24x24.svg","./check-16x16.svg":"./packages/survey-core/src/images-v2/check-16x16.svg","./check-24x24.svg":"./packages/survey-core/src/images-v2/check-24x24.svg","./chevrondown-24x24.svg":"./packages/survey-core/src/images-v2/chevrondown-24x24.svg","./chevronright-16x16.svg":"./packages/survey-core/src/images-v2/chevronright-16x16.svg","./clear-16x16.svg":"./packages/survey-core/src/images-v2/clear-16x16.svg","./clear-24x24.svg":"./packages/survey-core/src/images-v2/clear-24x24.svg","./close-16x16.svg":"./packages/survey-core/src/images-v2/close-16x16.svg","./close-24x24.svg":"./packages/survey-core/src/images-v2/close-24x24.svg","./collapse-16x16.svg":"./packages/survey-core/src/images-v2/collapse-16x16.svg","./collapsedetails-16x16.svg":"./packages/survey-core/src/images-v2/collapsedetails-16x16.svg","./delete-24x24.svg":"./packages/survey-core/src/images-v2/delete-24x24.svg","./drag-24x24.svg":"./packages/survey-core/src/images-v2/drag-24x24.svg","./draghorizontal-24x16.svg":"./packages/survey-core/src/images-v2/draghorizontal-24x16.svg","./expand-16x16.svg":"./packages/survey-core/src/images-v2/expand-16x16.svg","./expanddetails-16x16.svg":"./packages/survey-core/src/images-v2/expanddetails-16x16.svg","./file-72x72.svg":"./packages/survey-core/src/images-v2/file-72x72.svg","./flip-24x24.svg":"./packages/survey-core/src/images-v2/flip-24x24.svg","./folder-24x24.svg":"./packages/survey-core/src/images-v2/folder-24x24.svg","./fullsize-16x16.svg":"./packages/survey-core/src/images-v2/fullsize-16x16.svg","./image-48x48.svg":"./packages/survey-core/src/images-v2/image-48x48.svg","./loading-48x48.svg":"./packages/survey-core/src/images-v2/loading-48x48.svg","./maximize-16x16.svg":"./packages/survey-core/src/images-v2/maximize-16x16.svg","./minimize-16x16.svg":"./packages/survey-core/src/images-v2/minimize-16x16.svg","./more-24x24.svg":"./packages/survey-core/src/images-v2/more-24x24.svg","./navmenu-24x24.svg":"./packages/survey-core/src/images-v2/navmenu-24x24.svg","./noimage-48x48.svg":"./packages/survey-core/src/images-v2/noimage-48x48.svg","./ranking-arrows.svg":"./packages/survey-core/src/images-v2/ranking-arrows.svg","./rankingundefined-16x16.svg":"./packages/survey-core/src/images-v2/rankingundefined-16x16.svg","./rating-star-2.svg":"./packages/survey-core/src/images-v2/rating-star-2.svg","./rating-star-small-2.svg":"./packages/survey-core/src/images-v2/rating-star-small-2.svg","./rating-star-small.svg":"./packages/survey-core/src/images-v2/rating-star-small.svg","./rating-star.svg":"./packages/survey-core/src/images-v2/rating-star.svg","./reorder-24x24.svg":"./packages/survey-core/src/images-v2/reorder-24x24.svg","./restoredown-16x16.svg":"./packages/survey-core/src/images-v2/restoredown-16x16.svg","./search-24x24.svg":"./packages/survey-core/src/images-v2/search-24x24.svg","./smiley-rate1-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate1-24x24.svg","./smiley-rate10-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate10-24x24.svg","./smiley-rate2-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate2-24x24.svg","./smiley-rate3-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate3-24x24.svg","./smiley-rate4-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate4-24x24.svg","./smiley-rate5-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate5-24x24.svg","./smiley-rate6-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate6-24x24.svg","./smiley-rate7-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate7-24x24.svg","./smiley-rate8-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate8-24x24.svg","./smiley-rate9-24x24.svg":"./packages/survey-core/src/images-v2/smiley-rate9-24x24.svg"};function webpackContext(e){return o(webpackContextResolve(e))}function webpackContextResolve(e){if(!o.o(n,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}webpackContext.keys=function(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id="./packages/survey-core/src/images-v2 sync recursive \\.svg$"},"./packages/survey-core/src/images-v2/ChooseFile.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./packages/survey-core/src/images-v2/ModernBooleanCheckChecked.svg":function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./packages/survey-core/src/images-v2/ModernBooleanCheckInd.svg":function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./packages/survey-core/src/images-v2/ModernBooleanCheckUnchecked.svg":function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./packages/survey-core/src/images-v2/ModernCheck.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./packages/survey-core/src/images-v2/ModernRadio.svg":function(e,t){e.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./packages/survey-core/src/images-v2/ProgressButton.svg":function(e,t){e.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./packages/survey-core/src/images-v2/RemoveFile.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./packages/survey-core/src/images-v2/TimerCircle.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./packages/survey-core/src/images-v2/add-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.75 12C15.75 12.41 15.41 12.75 15 12.75H12.75V15C12.75 15.41 12.41 15.75 12 15.75C11.59 15.75 11.25 15.41 11.25 15V12.75H9C8.59 12.75 8.25 12.41 8.25 12C8.25 11.59 8.59 11.25 9 11.25H11.25V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9V11.25H15C15.41 11.25 15.75 11.59 15.75 12ZM21.75 12C21.75 17.38 17.38 21.75 12 21.75C6.62 21.75 2.25 17.38 2.25 12C2.25 6.62 6.62 2.25 12 2.25C17.38 2.25 21.75 6.62 21.75 12ZM20.25 12C20.25 7.45 16.55 3.75 12 3.75C7.45 3.75 3.75 7.45 3.75 12C3.75 16.55 7.45 20.25 12 20.25C16.55 20.25 20.25 16.55 20.25 12Z"></path></svg>'},"./packages/survey-core/src/images-v2/arrowleft-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.7475 7.9975C14.7475 8.4075 14.4075 8.7475 13.9975 8.7475H3.8075L7.5275 12.4675C7.8175 12.7575 7.8175 13.2375 7.5275 13.5275C7.3775 13.6775 7.1875 13.7475 6.9975 13.7475C6.8075 13.7475 6.6175 13.6775 6.4675 13.5275L1.4675 8.5275C1.1775 8.2375 1.1775 7.7575 1.4675 7.4675L6.4675 2.4675C6.7575 2.1775 7.2375 2.1775 7.5275 2.4675C7.8175 2.7575 7.8175 3.2375 7.5275 3.5275L3.8075 7.2475H13.9975C14.4075 7.2475 14.7475 7.5875 14.7475 7.9975Z"></path></svg>'},"./packages/survey-core/src/images-v2/arrowright-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 8.5275L9.53 13.5275C9.38 13.6775 9.19 13.7475 9 13.7475C8.81 13.7475 8.62 13.6775 8.47 13.5275C8.18 13.2375 8.18 12.7575 8.47 12.4675L12.19 8.7475H2C1.59 8.7475 1.25 8.4075 1.25 7.9975C1.25 7.5875 1.59 7.2475 2 7.2475H12.19L8.47 3.5275C8.18 3.2375 8.18 2.7575 8.47 2.4675C8.76 2.1775 9.24 2.1775 9.53 2.4675L14.53 7.4675C14.82 7.7575 14.82 8.2375 14.53 8.5275Z"></path></svg>'},"./packages/survey-core/src/images-v2/camera-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.19 4.25H17.12C16.72 4.25 16.35 4.03 16.17 3.67C15.73 2.8 14.86 2.25 13.88 2.25H10.12C9.14 2.25 8.27 2.79 7.83 3.67C7.65 4.03 7.29 4.25 6.88 4.25H4.81C3.4 4.25 2.25 5.4 2.25 6.81V18.19C2.25 19.6 3.4 20.75 4.81 20.75H19.19C20.6 20.75 21.75 19.6 21.75 18.19V6.81C21.75 5.4 20.6 4.25 19.19 4.25ZM20.25 18.19C20.25 18.77 19.78 19.25 19.19 19.25H4.81C4.23 19.25 3.75 18.78 3.75 18.19V6.81C3.75 6.23 4.22 5.75 4.81 5.75H6.88C7.86 5.75 8.73 5.21 9.17 4.33C9.35 3.97 9.71 3.75 10.12 3.75H13.88C14.28 3.75 14.65 3.97 14.83 4.33C15.27 5.2 16.14 5.75 17.12 5.75H19.19C19.77 5.75 20.25 6.22 20.25 6.81V18.19ZM12 6.25C8.83 6.25 6.25 8.83 6.25 12C6.25 15.17 8.83 17.75 12 17.75C15.17 17.75 17.75 15.17 17.75 12C17.75 8.83 15.17 6.25 12 6.25ZM12 16.25C9.66 16.25 7.75 14.34 7.75 12C7.75 9.66 9.66 7.75 12 7.75C14.34 7.75 16.25 9.66 16.25 12C16.25 14.34 14.34 16.25 12 16.25ZM14.75 12C14.75 13.52 13.52 14.75 12 14.75C11.59 14.75 11.25 14.41 11.25 14C11.25 13.59 11.59 13.25 12 13.25C12.69 13.25 13.25 12.69 13.25 12C13.25 11.59 13.59 11.25 14 11.25C14.41 11.25 14.75 11.59 14.75 12Z"></path></svg>'},"./packages/survey-core/src/images-v2/camera-32x32.svg":function(e,t){e.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M25 7.25H22.19C21.73 7.25 21.31 7 21.09 6.59L20.89 6.22C20.23 5.01 18.97 4.25 17.59 4.25H14.41C13.03 4.25 11.77 5 11.11 6.22L10.91 6.6C10.69 7 10.27 7.26 9.81 7.26H7C4.93 7.26 3.25 8.94 3.25 11.01V24.01C3.25 26.08 4.93 27.76 7 27.76H25C27.07 27.76 28.75 26.08 28.75 24.01V11C28.75 8.93 27.07 7.25 25 7.25ZM27.25 24C27.25 25.24 26.24 26.25 25 26.25H7C5.76 26.25 4.75 25.24 4.75 24V11C4.75 9.76 5.76 8.75 7 8.75H9.81C10.82 8.75 11.75 8.2 12.23 7.31L12.43 6.94C12.82 6.21 13.58 5.76 14.41 5.76H17.59C18.42 5.76 19.18 6.21 19.57 6.94L19.77 7.31C20.25 8.2 21.18 8.76 22.19 8.76H25C26.24 8.76 27.25 9.77 27.25 11.01V24.01V24ZM16 10.25C12.28 10.25 9.25 13.28 9.25 17C9.25 20.72 12.28 23.75 16 23.75C19.72 23.75 22.75 20.72 22.75 17C22.75 13.28 19.72 10.25 16 10.25ZM16 22.25C13.11 22.25 10.75 19.89 10.75 17C10.75 14.11 13.11 11.75 16 11.75C18.89 11.75 21.25 14.11 21.25 17C21.25 19.89 18.89 22.25 16 22.25ZM19.75 17C19.75 19.07 18.07 20.75 16 20.75C15.59 20.75 15.25 20.41 15.25 20C15.25 19.59 15.59 19.25 16 19.25C17.24 19.25 18.25 18.24 18.25 17C18.25 16.59 18.59 16.25 19 16.25C19.41 16.25 19.75 16.59 19.75 17Z"></path></svg>'},"./packages/survey-core/src/images-v2/cancel-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.8099 11.75L15.2799 9.28C15.5699 8.99 15.5699 8.51 15.2799 8.22C14.9899 7.93 14.5099 7.93 14.2199 8.22L11.7499 10.69L9.27994 8.22C8.98994 7.93 8.50994 7.93 8.21994 8.22C7.92994 8.51 7.92994 8.99 8.21994 9.28L10.6899 11.75L8.21994 14.22C7.92994 14.51 7.92994 14.99 8.21994 15.28C8.36994 15.43 8.55994 15.5 8.74994 15.5C8.93994 15.5 9.12994 15.43 9.27994 15.28L11.7499 12.81L14.2199 15.28C14.3699 15.43 14.5599 15.5 14.7499 15.5C14.9399 15.5 15.1299 15.43 15.2799 15.28C15.5699 14.99 15.5699 14.51 15.2799 14.22L12.8099 11.75Z"></path></svg>'},"./packages/survey-core/src/images-v2/check-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.0275 5.0275L6.5275 12.5275C6.3775 12.6775 6.1875 12.7475 5.9975 12.7475C5.8075 12.7475 5.6175 12.6775 5.4675 12.5275L2.4675 9.5275C2.1775 9.2375 2.1775 8.7575 2.4675 8.4675C2.7575 8.1775 3.2375 8.1775 3.5275 8.4675L5.9975 10.9375L12.9675 3.9675C13.2575 3.6775 13.7375 3.6775 14.0275 3.9675C14.3175 4.2575 14.3175 4.7375 14.0275 5.0275Z"></path></svg>'},"./packages/survey-core/src/images-v2/check-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 7.5275L9.5275 17.5275C9.3775 17.6775 9.1875 17.7475 8.9975 17.7475C8.8075 17.7475 8.6175 17.6775 8.4675 17.5275L4.4675 13.5275C4.1775 13.2375 4.1775 12.7575 4.4675 12.4675C4.7575 12.1775 5.2375 12.1775 5.5275 12.4675L8.9975 15.9375L18.4675 6.4675C18.7575 6.1775 19.2375 6.1775 19.5275 6.4675C19.8175 6.7575 19.8175 7.2375 19.5275 7.5275Z"></path></svg>'},"./packages/survey-core/src/images-v2/chevrondown-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.5275 10.5275L12.5275 14.5275C12.3775 14.6775 12.1875 14.7475 11.9975 14.7475C11.8075 14.7475 11.6175 14.6775 11.4675 14.5275L7.4675 10.5275C7.1775 10.2375 7.1775 9.7575 7.4675 9.4675C7.7575 9.1775 8.2375 9.1775 8.5275 9.4675L11.9975 12.9375L15.4675 9.4675C15.7575 9.1775 16.2375 9.1775 16.5275 9.4675C16.8175 9.7575 16.8175 10.2375 16.5275 10.5275Z"></path></svg>'},"./packages/survey-core/src/images-v2/chevronright-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.35 8.34627L7.35 12.3463C7.25 12.4463 7.12 12.4963 7 12.4963C6.88 12.4963 6.74 12.4463 6.65 12.3463C6.45 12.1463 6.45 11.8363 6.65 11.6363L10.3 7.98627L6.65 4.34627C6.45 4.15627 6.45 3.83627 6.65 3.64627C6.85 3.45627 7.16 3.44627 7.35 3.64627L11.35 7.64627C11.55 7.84627 11.55 8.15627 11.35 8.35627V8.34627Z"></path></svg>'},"./packages/survey-core/src/images-v2/clear-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 11.65C12.55 11.85 12.55 12.16 12.35 12.36C12.25 12.46 12.12 12.51 12 12.51C11.88 12.51 11.74 12.46 11.65 12.36L8 8.71L4.35 12.36C4.25 12.46 4.12 12.51 4 12.51C3.88 12.51 3.74 12.46 3.65 12.36C3.45 12.16 3.45 11.85 3.65 11.65L7.3 8L3.65 4.35C3.45 4.16 3.45 3.84 3.65 3.65C3.85 3.46 4.16 3.45 4.35 3.65L8 7.3L11.65 3.65C11.85 3.45 12.16 3.45 12.36 3.65C12.56 3.85 12.56 4.16 12.36 4.36L8.71 8.01L12.36 11.66L12.35 11.65Z"></path></svg>'},"./packages/survey-core/src/images-v2/clear-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.12 10.9325C20.64 10.4125 20.93 9.7225 20.93 8.9925C20.93 8.2625 20.64 7.5725 20.12 7.0525L16.95 3.8825C15.88 2.8125 14.13 2.8125 13.06 3.8825L3.88 13.0525C3.36 13.5725 3.07 14.2625 3.07 14.9925C3.07 15.7225 3.36 16.4125 3.88 16.9325L5.64 18.6925C6.57 19.6225 7.78 20.0825 9 20.0825C10.22 20.0825 11.43 19.6225 12.36 18.6925L20.12 10.9325ZM14.12 4.9325C14.36 4.6925 14.67 4.5625 15 4.5625C15.33 4.5625 15.65 4.6925 15.88 4.9325L19.05 8.1025C19.54 8.5925 19.54 9.3825 19.05 9.8725L12.99 15.9325L8.05 10.9925L14.12 4.9325ZM6.7 17.6325L4.94 15.8725C4.45 15.3825 4.45 14.5925 4.94 14.1025L7 12.0425L11.94 16.9825L11.3 17.6225C10.07 18.8525 7.93 18.8525 6.7 17.6225V17.6325ZM22.75 20.9925C22.75 21.4025 22.41 21.7425 22 21.7425H14C13.59 21.7425 13.25 21.4025 13.25 20.9925C13.25 20.5825 13.59 20.2425 14 20.2425H22C22.41 20.2425 22.75 20.5825 22.75 20.9925ZM4.75 20.9925C4.75 21.4025 4.41 21.7425 4 21.7425H2C1.59 21.7425 1.25 21.4025 1.25 20.9925C1.25 20.5825 1.59 20.2425 2 20.2425H4C4.41 20.2425 4.75 20.5825 4.75 20.9925Z"></path></svg>'},"./packages/survey-core/src/images-v2/close-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.5275 12.4675C13.8175 12.7575 13.8175 13.2375 13.5275 13.5275C13.3775 13.6775 13.1875 13.7475 12.9975 13.7475C12.8075 13.7475 12.6175 13.6775 12.4675 13.5275L7.9975 9.0575L3.5275 13.5275C3.3775 13.6775 3.1875 13.7475 2.9975 13.7475C2.8075 13.7475 2.6175 13.6775 2.4675 13.5275C2.1775 13.2375 2.1775 12.7575 2.4675 12.4675L6.9375 7.9975L2.4675 3.5275C2.1775 3.2375 2.1775 2.7575 2.4675 2.4675C2.7575 2.1775 3.2375 2.1775 3.5275 2.4675L7.9975 6.9375L12.4675 2.4675C12.7575 2.1775 13.2375 2.1775 13.5275 2.4675C13.8175 2.7575 13.8175 3.2375 13.5275 3.5275L9.0575 7.9975L13.5275 12.4675Z"></path></svg>'},"./packages/survey-core/src/images-v2/close-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.5275 18.4675C19.8175 18.7575 19.8175 19.2375 19.5275 19.5275C19.3775 19.6775 19.1875 19.7475 18.9975 19.7475C18.8075 19.7475 18.6175 19.6775 18.4675 19.5275L11.9975 13.0575L5.5275 19.5275C5.3775 19.6775 5.1875 19.7475 4.9975 19.7475C4.8075 19.7475 4.6175 19.6775 4.4675 19.5275C4.1775 19.2375 4.1775 18.7575 4.4675 18.4675L10.9375 11.9975L4.4675 5.5275C4.1775 5.2375 4.1775 4.7575 4.4675 4.4675C4.7575 4.1775 5.2375 4.1775 5.5275 4.4675L11.9975 10.9375L18.4675 4.4675C18.7575 4.1775 19.2375 4.1775 19.5275 4.4675C19.8175 4.7575 19.8175 5.2375 19.5275 5.5275L13.0575 11.9975L19.5275 18.4675Z"></path></svg>'},"./packages/survey-core/src/images-v2/collapse-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/collapsedetails-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/delete-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.75 9V17C12.75 17.41 12.41 17.75 12 17.75C11.59 17.75 11.25 17.41 11.25 17V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9ZM14.25 9V17C14.25 17.41 14.59 17.75 15 17.75C15.41 17.75 15.75 17.41 15.75 17V9C15.75 8.59 15.41 8.25 15 8.25C14.59 8.25 14.25 8.59 14.25 9ZM9 8.25C8.59 8.25 8.25 8.59 8.25 9V17C8.25 17.41 8.59 17.75 9 17.75C9.41 17.75 9.75 17.41 9.75 17V9C9.75 8.59 9.41 8.25 9 8.25ZM20.75 6C20.75 6.41 20.41 6.75 20 6.75H18.75V18C18.75 19.52 17.52 20.75 16 20.75H8C6.48 20.75 5.25 19.52 5.25 18V6.75H4C3.59 6.75 3.25 6.41 3.25 6C3.25 5.59 3.59 5.25 4 5.25H8.25V4C8.25 3.04 9.04 2.25 10 2.25H14C14.96 2.25 15.75 3.04 15.75 4V5.25H20C20.41 5.25 20.75 5.59 20.75 6ZM9.75 5.25H14.25V4C14.25 3.86 14.14 3.75 14 3.75H10C9.86 3.75 9.75 3.86 9.75 4V5.25ZM17.25 6.75H6.75V18C6.75 18.69 7.31 19.25 8 19.25H16C16.69 19.25 17.25 18.69 17.25 18V6.75Z"></path></svg>'},"./packages/survey-core/src/images-v2/drag-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 8.75C15.19 8.75 15.75 8.19 15.75 7.5C15.75 6.81 15.19 6.25 14.5 6.25C13.81 6.25 13.25 6.81 13.25 7.5C13.25 8.19 13.81 8.75 14.5 8.75ZM14.5 7.25C14.64 7.25 14.75 7.36 14.75 7.5C14.75 7.78 14.25 7.78 14.25 7.5C14.25 7.36 14.36 7.25 14.5 7.25ZM9.5 6.25C8.81 6.25 8.25 6.81 8.25 7.5C8.25 8.19 8.81 8.75 9.5 8.75C10.19 8.75 10.75 8.19 10.75 7.5C10.75 6.81 10.19 6.25 9.5 6.25ZM9.25 7.5C9.25 7.36 9.36 7.25 9.5 7.25C9.64 7.25 9.75 7.36 9.75 7.5C9.75 7.78 9.25 7.78 9.25 7.5ZM14.5 11.25C13.81 11.25 13.25 11.81 13.25 12.5C13.25 13.19 13.81 13.75 14.5 13.75C15.19 13.75 15.75 13.19 15.75 12.5C15.75 11.81 15.19 11.25 14.5 11.25ZM14.25 12.5C14.25 12.36 14.36 12.25 14.5 12.25C14.64 12.25 14.75 12.36 14.75 12.5C14.75 12.78 14.25 12.78 14.25 12.5ZM9.5 11.25C8.81 11.25 8.25 11.81 8.25 12.5C8.25 13.19 8.81 13.75 9.5 13.75C10.19 13.75 10.75 13.19 10.75 12.5C10.75 11.81 10.19 11.25 9.5 11.25ZM9.25 12.5C9.25 12.36 9.36 12.25 9.5 12.25C9.64 12.25 9.75 12.36 9.75 12.5C9.75 12.78 9.25 12.78 9.25 12.5ZM14.5 16.25C13.81 16.25 13.25 16.81 13.25 17.5C13.25 18.19 13.81 18.75 14.5 18.75C15.19 18.75 15.75 18.19 15.75 17.5C15.75 16.81 15.19 16.25 14.5 16.25ZM14.25 17.5C14.25 17.36 14.36 17.25 14.5 17.25C14.64 17.25 14.75 17.36 14.75 17.5C14.75 17.78 14.25 17.78 14.25 17.5ZM9.5 16.25C8.81 16.25 8.25 16.81 8.25 17.5C8.25 18.19 8.81 18.75 9.5 18.75C10.19 18.75 10.75 18.19 10.75 17.5C10.75 16.81 10.19 16.25 9.5 16.25ZM9.25 17.5C9.25 17.36 9.36 17.25 9.5 17.25C9.64 17.25 9.75 17.36 9.75 17.5C9.75 17.78 9.25 17.78 9.25 17.5Z"></path></svg>'},"./packages/survey-core/src/images-v2/draghorizontal-24x16.svg":function(e,t){e.exports='<svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 9.25C16.81 9.25 16.25 9.81 16.25 10.5C16.25 11.19 16.81 11.75 17.5 11.75C18.19 11.75 18.75 11.19 18.75 10.5C18.75 9.81 18.19 9.25 17.5 9.25ZM17.25 10.5C17.25 10.36 17.36 10.25 17.5 10.25C17.64 10.25 17.75 10.36 17.75 10.5C17.75 10.78 17.25 10.78 17.25 10.5ZM17.5 6.75C18.19 6.75 18.75 6.19 18.75 5.5C18.75 4.81 18.19 4.25 17.5 4.25C16.81 4.25 16.25 4.81 16.25 5.5C16.25 6.19 16.81 6.75 17.5 6.75ZM17.5 5.25C17.64 5.25 17.75 5.36 17.75 5.5C17.75 5.78 17.25 5.78 17.25 5.5C17.25 5.36 17.36 5.25 17.5 5.25ZM12.5 9.25C11.81 9.25 11.25 9.81 11.25 10.5C11.25 11.19 11.81 11.75 12.5 11.75C13.19 11.75 13.75 11.19 13.75 10.5C13.75 9.81 13.19 9.25 12.5 9.25ZM12.25 10.5C12.25 10.36 12.36 10.25 12.5 10.25C12.64 10.25 12.75 10.36 12.75 10.5C12.75 10.78 12.25 10.78 12.25 10.5ZM12.5 4.25C11.81 4.25 11.25 4.81 11.25 5.5C11.25 6.19 11.81 6.75 12.5 6.75C13.19 6.75 13.75 6.19 13.75 5.5C13.75 4.81 13.19 4.25 12.5 4.25ZM12.25 5.5C12.25 5.36 12.36 5.25 12.5 5.25C12.64 5.25 12.75 5.36 12.75 5.5C12.75 5.78 12.25 5.78 12.25 5.5ZM7.5 9.25C6.81 9.25 6.25 9.81 6.25 10.5C6.25 11.19 6.81 11.75 7.5 11.75C8.19 11.75 8.75 11.19 8.75 10.5C8.75 9.81 8.19 9.25 7.5 9.25ZM7.25 10.5C7.25 10.36 7.36 10.25 7.5 10.25C7.64 10.25 7.75 10.36 7.75 10.5C7.75 10.78 7.25 10.78 7.25 10.5ZM7.5 4.25C6.81 4.25 6.25 4.81 6.25 5.5C6.25 6.19 6.81 6.75 7.5 6.75C8.19 6.75 8.75 6.19 8.75 5.5C8.75 4.81 8.19 4.25 7.5 4.25ZM7.25 5.5C7.25 5.36 7.36 5.25 7.5 5.25C7.64 5.25 7.75 5.36 7.75 5.5C7.75 5.78 7.25 5.78 7.25 5.5Z"></path></svg>'},"./packages/survey-core/src/images-v2/expand-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/expanddetails-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H8.75V11C8.75 11.41 8.41 11.75 8 11.75C7.59 11.75 7.25 11.41 7.25 11V8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H7.25V5C7.25 4.59 7.59 4.25 8 4.25C8.41 4.25 8.75 4.59 8.75 5V7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/file-72x72.svg":function(e,t){e.exports='<svg viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><path d="M62.83 12.83L53.17 3.17C52.7982 2.79866 52.357 2.50421 51.8714 2.30346C51.3858 2.1027 50.8654 1.99959 50.34 2H14C12.4087 2 10.8826 2.63214 9.75735 3.75736C8.63214 4.88258 8 6.4087 8 8V64C8 65.5913 8.63214 67.1174 9.75735 68.2426C10.8826 69.3679 12.4087 70 14 70H58C59.5913 70 61.1174 69.3679 62.2426 68.2426C63.3679 67.1174 64 65.5913 64 64V15.66C64.0004 15.1346 63.8973 14.6142 63.6965 14.1286C63.4958 13.643 63.2013 13.2018 62.83 12.83ZM52 4.83L61.17 14H56C54.9391 14 53.9217 13.5786 53.1716 12.8284C52.4214 12.0783 52 11.0609 52 10V4.83ZM62 64C62 65.0609 61.5786 66.0783 60.8284 66.8284C60.0783 67.5786 59.0609 68 58 68H14C12.9391 68 11.9217 67.5786 11.1716 66.8284C10.4214 66.0783 10 65.0609 10 64V8C10 6.93914 10.4214 5.92172 11.1716 5.17157C11.9217 4.42143 12.9391 4 14 4H50V10C50 11.5913 50.6321 13.1174 51.7574 14.2426C52.8826 15.3679 54.4087 16 56 16H62V64ZM22 26H50V28H22V26ZM22 32H50V34H22V32ZM22 38H50V40H22V38ZM22 44H50V46H22V44Z"></path></svg>'},"./packages/survey-core/src/images-v2/flip-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.53 17.4775C14.82 17.7675 14.82 18.2475 14.53 18.5375L11.53 21.5375C11.38 21.6875 11.19 21.7575 11 21.7575C10.81 21.7575 10.62 21.6875 10.47 21.5375C10.18 21.2475 10.18 20.7675 10.47 20.4775L12.2 18.7475C12.13 18.7475 12.07 18.7475 12 18.7475C6.62 18.7475 2.25 15.7475 2.25 12.0575C2.25 10.2975 3.22 8.6375 4.99 7.3875C5.33 7.1475 5.8 7.2275 6.03 7.5675C6.27 7.9075 6.19 8.3775 5.85 8.6075C4.49 9.5675 3.74 10.7875 3.74 12.0575C3.74 14.9175 7.44 17.2475 11.99 17.2475C12.05 17.2475 12.11 17.2475 12.17 17.2475L10.46 15.5375C10.17 15.2475 10.17 14.7675 10.46 14.4775C10.75 14.1875 11.23 14.1875 11.52 14.4775L14.52 17.4775H14.53ZM12 5.2575C11.93 5.2575 11.87 5.2575 11.8 5.2575L13.53 3.5275C13.82 3.2375 13.82 2.7575 13.53 2.4675C13.24 2.1775 12.76 2.1775 12.47 2.4675L9.47 5.4675C9.18 5.7575 9.18 6.2375 9.47 6.5275L12.47 9.5275C12.62 9.6775 12.81 9.7475 13 9.7475C13.19 9.7475 13.38 9.6775 13.53 9.5275C13.82 9.2375 13.82 8.7575 13.53 8.4675L11.82 6.7575C11.88 6.7575 11.94 6.7575 12 6.7575C16.55 6.7575 20.25 9.0875 20.25 11.9475C20.25 13.2075 19.5 14.4375 18.14 15.3975C17.8 15.6375 17.72 16.1075 17.96 16.4475C18.11 16.6575 18.34 16.7675 18.57 16.7675C18.72 16.7675 18.87 16.7275 19 16.6275C20.77 15.3775 21.75 13.7175 21.75 11.9575C21.75 8.2675 17.38 5.2675 12 5.2675V5.2575Z"></path></svg>'},"./packages/survey-core/src/images-v2/folder-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.72 9.24C21.45 8.92 21.12 8.67 20.75 8.5V8C20.75 6.48 19.52 5.25 18 5.25H10.65C10.32 4.1 9.26 3.25 8 3.25H6C4.48 3.25 3.25 4.48 3.25 6V18C3.25 19.52 4.48 20.75 6 20.75H18.33C19.66 20.75 20.8 19.8 21.04 18.49L22.31 11.49C22.46 10.69 22.24 9.86 21.72 9.24ZM4.75 18V6C4.75 5.31 5.31 4.75 6 4.75H8C8.69 4.75 9.25 5.31 9.25 6C9.25 6.41 9.59 6.75 10 6.75H18C18.69 6.75 19.25 7.31 19.25 8V8.25H9.27C7.94 8.25 6.8 9.2 6.56 10.51L5.29 17.51C5.19 18.07 5.27 18.64 5.51 19.15C5.06 18.96 4.75 18.52 4.75 18ZM20.83 11.22L19.56 18.22C19.45 18.81 18.94 19.25 18.33 19.25H8C7.63 19.25 7.28 19.09 7.04 18.8C6.8 18.51 6.7 18.14 6.77 17.78L8.04 10.78C8.15 10.19 8.66 9.75 9.27 9.75H19.6C19.97 9.75 20.32 9.91 20.56 10.2C20.8 10.49 20.9 10.86 20.83 11.22Z"></path></svg>'},"./packages/survey-core/src/images-v2/fullsize-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 3.25H4C3.04 3.25 2.25 4.04 2.25 5V11C2.25 11.96 3.04 12.75 4 12.75H12C12.96 12.75 13.75 11.96 13.75 11V5C13.75 4.04 12.96 3.25 12 3.25ZM12.25 11C12.25 11.14 12.14 11.25 12 11.25H4C3.86 11.25 3.75 11.14 3.75 11V5C3.75 4.86 3.86 4.75 4 4.75H12C12.14 4.75 12.25 4.86 12.25 5V11Z"></path></svg>'},"./packages/survey-core/src/images-v2/image-48x48.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M33 10.25H15C12.38 10.25 10.25 12.38 10.25 15V33C10.25 35.62 12.38 37.75 15 37.75H33C35.62 37.75 37.75 35.62 37.75 33V15C37.75 12.38 35.62 10.25 33 10.25ZM36.25 33C36.25 34.79 34.79 36.25 33 36.25H15C13.21 36.25 11.75 34.79 11.75 33V15C11.75 13.21 13.21 11.75 15 11.75H33C34.79 11.75 36.25 13.21 36.25 15V33ZM30.5 14.25C28.71 14.25 27.25 15.71 27.25 17.5C27.25 19.29 28.71 20.75 30.5 20.75C32.29 20.75 33.75 19.29 33.75 17.5C33.75 15.71 32.29 14.25 30.5 14.25ZM30.5 19.25C29.54 19.25 28.75 18.46 28.75 17.5C28.75 16.54 29.54 15.75 30.5 15.75C31.46 15.75 32.25 16.54 32.25 17.5C32.25 18.46 31.46 19.25 30.5 19.25ZM29.26 26.28C28.94 25.92 28.49 25.71 28.01 25.7C27.54 25.68 27.07 25.87 26.73 26.2L24.95 27.94L22.28 25.23C21.94 24.89 21.5 24.71 21 24.71C20.52 24.71 20.06 24.93 19.74 25.28L14.74 30.78C14.25 31.3 14.12 32.06 14.41 32.72C14.69 33.36 15.28 33.75 15.95 33.75H32.07C32.74 33.75 33.33 33.35 33.61 32.72C33.89 32.06 33.77 31.31 33.29 30.79L29.27 26.29L29.26 26.28ZM32.22 32.12C32.18 32.2 32.13 32.25 32.06 32.25H15.94C15.87 32.25 15.81 32.21 15.78 32.12C15.77 32.09 15.71 31.93 15.83 31.8L20.84 26.29C20.9 26.22 20.99 26.21 21.02 26.21C21.06 26.21 21.14 26.22 21.2 26.29L24.4 29.54C24.69 29.83 25.16 29.84 25.46 29.54L27.77 27.27C27.83 27.21 27.9 27.2 27.94 27.2C28.01 27.2 28.06 27.21 28.13 27.28L32.16 31.79C32.16 31.79 32.16 31.79 32.17 31.8C32.29 31.93 32.23 32.09 32.22 32.12Z"></path></svg>'},"./packages/survey-core/src/images-v2/loading-48x48.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_19679_369428)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z" fill="#19B394"></path></g><defs><clipPath id="clip0_19679_369428"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images-v2/maximize-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 3V7C13.75 7.41 13.41 7.75 13 7.75C12.59 7.75 12.25 7.41 12.25 7V4.81L9.53 7.53C9.38 7.68 9.19 7.75 9 7.75C8.81 7.75 8.62 7.68 8.47 7.53C8.18 7.24 8.18 6.76 8.47 6.47L11.19 3.75H9C8.59 3.75 8.25 3.41 8.25 3C8.25 2.59 8.59 2.25 9 2.25H13C13.1 2.25 13.19 2.27 13.29 2.31C13.47 2.39 13.62 2.53 13.7 2.72C13.74 2.81 13.76 2.91 13.76 3.01L13.75 3ZM7.53 8.47C7.24 8.18 6.76 8.18 6.47 8.47L3.75 11.19V9C3.75 8.59 3.41 8.25 3 8.25C2.59 8.25 2.25 8.59 2.25 9V13C2.25 13.1 2.27 13.19 2.31 13.29C2.39 13.47 2.53 13.62 2.72 13.7C2.81 13.74 2.91 13.76 3.01 13.76H7.01C7.42 13.76 7.76 13.42 7.76 13.01C7.76 12.6 7.42 12.26 7.01 12.26H4.82L7.54 9.54C7.83 9.25 7.83 8.77 7.54 8.48L7.53 8.47Z"></path></svg>'},"./packages/survey-core/src/images-v2/minimize-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.75 8C13.75 8.41 13.41 8.75 13 8.75H3C2.59 8.75 2.25 8.41 2.25 8C2.25 7.59 2.59 7.25 3 7.25H13C13.41 7.25 13.75 7.59 13.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/more-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 10.25C11.04 10.25 10.25 11.04 10.25 12C10.25 12.96 11.04 13.75 12 13.75C12.96 13.75 13.75 12.96 13.75 12C13.75 11.04 12.96 10.25 12 10.25ZM11.75 12C11.75 11.86 11.86 11.75 12 11.75C12.14 11.75 12.25 11.86 12.25 12C12.25 12.28 11.75 12.28 11.75 12ZM19 10.25C18.04 10.25 17.25 11.04 17.25 12C17.25 12.96 18.04 13.75 19 13.75C19.96 13.75 20.75 12.96 20.75 12C20.75 11.04 19.96 10.25 19 10.25ZM18.75 12C18.75 11.86 18.86 11.75 19 11.75C19.14 11.75 19.25 11.86 19.25 12C19.25 12.28 18.75 12.28 18.75 12ZM5 10.25C4.04 10.25 3.25 11.04 3.25 12C3.25 12.96 4.04 13.75 5 13.75C5.96 13.75 6.75 12.96 6.75 12C6.75 11.04 5.96 10.25 5 10.25ZM4.75 12C4.75 11.86 4.86 11.75 5 11.75C5.14 11.75 5.25 11.86 5.25 12C5.25 12.28 4.75 12.28 4.75 12Z"></path></svg>'},"./packages/survey-core/src/images-v2/navmenu-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.25 7C3.25 6.59 3.59 6.25 4 6.25H15C15.41 6.25 15.75 6.59 15.75 7C15.75 7.41 15.41 7.75 15 7.75H4C3.59 7.75 3.25 7.41 3.25 7ZM20 11.25H4C3.59 11.25 3.25 11.59 3.25 12C3.25 12.41 3.59 12.75 4 12.75H20C20.41 12.75 20.75 12.41 20.75 12C20.75 11.59 20.41 11.25 20 11.25ZM9 16.25H4C3.59 16.25 3.25 16.59 3.25 17C3.25 17.41 3.59 17.75 4 17.75H9C9.41 17.75 9.75 17.41 9.75 17C9.75 16.59 9.41 16.25 9 16.25Z"></path></svg>'},"./packages/survey-core/src/images-v2/noimage-48x48.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M30.4975 14.2475C28.7075 14.2475 27.2475 15.7075 27.2475 17.4975C27.2475 19.2875 28.7075 20.7475 30.4975 20.7475C32.2875 20.7475 33.7475 19.2875 33.7475 17.4975C33.7475 15.7075 32.2875 14.2475 30.4975 14.2475ZM30.4975 19.2475C29.5375 19.2475 28.7475 18.4575 28.7475 17.4975C28.7475 16.5375 29.5375 15.7475 30.4975 15.7475C31.4575 15.7475 32.2475 16.5375 32.2475 17.4975C32.2475 18.4575 31.4575 19.2475 30.4975 19.2475ZM13.5175 11.2175C13.4375 10.8075 13.7075 10.4175 14.1175 10.3375C14.4275 10.2775 14.7175 10.2475 14.9975 10.2475H32.9975C35.6175 10.2475 37.7475 12.3775 37.7475 14.9975V32.9975C37.7475 33.2775 37.7175 33.5675 37.6575 33.8775C37.5875 34.2375 37.2775 34.4875 36.9175 34.4875C36.8675 34.4875 36.8275 34.4875 36.7775 34.4775C36.3675 34.3975 36.1075 34.0075 36.1775 33.5975C36.2175 33.3775 36.2375 33.1775 36.2375 32.9975V14.9975C36.2375 13.2075 34.7775 11.7475 32.9875 11.7475H14.9975C14.8075 11.7475 14.6175 11.7675 14.3975 11.8075C13.9875 11.8875 13.5975 11.6175 13.5175 11.2075V11.2175ZM34.4775 36.7775C34.5575 37.1875 34.2875 37.5775 33.8775 37.6575C33.5675 37.7175 33.2775 37.7475 32.9975 37.7475H14.9975C12.3775 37.7475 10.2475 35.6175 10.2475 32.9975V14.9975C10.2475 14.7175 10.2775 14.4275 10.3375 14.1175C10.4175 13.7075 10.8075 13.4375 11.2175 13.5175C11.6275 13.5975 11.8875 13.9875 11.8175 14.3975C11.7775 14.6175 11.7575 14.8175 11.7575 14.9975V32.9975C11.7575 34.7875 13.2175 36.2475 15.0075 36.2475H33.0075C33.1975 36.2475 33.3875 36.2275 33.6075 36.1875C34.0075 36.1075 34.4075 36.3775 34.4875 36.7875L34.4775 36.7775ZM15.8275 31.7975C15.6975 31.9375 15.7575 32.0875 15.7775 32.1175C15.8175 32.1975 15.8675 32.2475 15.9375 32.2475H29.8175C30.2275 32.2475 30.5675 32.5875 30.5675 32.9975C30.5675 33.4075 30.2275 33.7475 29.8175 33.7475H15.9375C15.2675 33.7475 14.6775 33.3475 14.3975 32.7175C14.1075 32.0575 14.2375 31.2975 14.7275 30.7775L19.7275 25.2775C20.0475 24.9275 20.5075 24.7175 20.9875 24.7075C21.4875 24.7275 21.9375 24.8875 22.2675 25.2275L25.4675 28.4775C25.7575 28.7675 25.7575 29.2475 25.4675 29.5375C25.1675 29.8275 24.6975 29.8275 24.4075 29.5375L21.2075 26.2875C21.1475 26.2175 21.0675 26.1875 21.0275 26.2075C20.9875 26.2075 20.9075 26.2175 20.8475 26.2875L15.8375 31.7975H15.8275ZM38.5275 38.5275C38.3775 38.6775 38.1875 38.7475 37.9975 38.7475C37.8075 38.7475 37.6175 38.6775 37.4675 38.5275L9.4675 10.5275C9.1775 10.2375 9.1775 9.7575 9.4675 9.4675C9.7575 9.1775 10.2375 9.1775 10.5275 9.4675L38.5275 37.4675C38.8175 37.7575 38.8175 38.2375 38.5275 38.5275Z"></path></svg>'},"./packages/survey-core/src/images-v2/ranking-arrows.svg":function(e,t){e.exports='<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>'},"./packages/survey-core/src/images-v2/rankingundefined-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 8C11.75 8.41 11.41 8.75 11 8.75H5C4.59 8.75 4.25 8.41 4.25 8C4.25 7.59 4.59 7.25 5 7.25H11C11.41 7.25 11.75 7.59 11.75 8Z"></path></svg>'},"./packages/survey-core/src/images-v2/rating-star-2.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>'},"./packages/survey-core/src/images-v2/rating-star-small-2.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./packages/survey-core/src/images-v2/rating-star-small.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>'},"./packages/survey-core/src/images-v2/rating-star.svg":function(e,t){e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>'},"./packages/survey-core/src/images-v2/reorder-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.9444 10.75H15.0544C15.7144 10.75 16.3144 10.39 16.6144 9.80002C16.9144 9.22002 16.8644 8.52002 16.4844 7.98002L13.4244 3.71002C12.7644 2.79002 11.2344 2.79002 10.5744 3.71002L7.5244 7.99002C7.1444 8.53002 7.0944 9.22002 7.3944 9.81002C7.6944 10.4 8.2944 10.76 8.9544 10.76L8.9444 10.75ZM8.7444 8.86002L11.7944 4.58002C11.8644 4.49002 11.9544 4.48002 11.9944 4.48002C12.0344 4.48002 12.1344 4.49002 12.1944 4.58002L15.2544 8.86002C15.3344 8.97002 15.3044 9.07002 15.2744 9.12002C15.2444 9.17002 15.1844 9.26002 15.0544 9.26002H8.9444C8.8144 9.26002 8.7444 9.18002 8.7244 9.12002C8.7044 9.06002 8.6644 8.97002 8.7444 8.86002ZM15.0544 13.25H8.9444C8.2844 13.25 7.6844 13.61 7.3844 14.2C7.0844 14.78 7.1344 15.48 7.5144 16.02L10.5744 20.3C10.9044 20.76 11.4344 21.03 11.9944 21.03C12.5544 21.03 13.0944 20.76 13.4144 20.3L16.4744 16.02C16.8544 15.48 16.9044 14.79 16.6044 14.2C16.3044 13.61 15.7044 13.25 15.0444 13.25H15.0544ZM15.2644 15.15L12.2044 19.43C12.0744 19.61 11.9244 19.61 11.7944 19.43L8.7344 15.15C8.6544 15.04 8.6844 14.94 8.7144 14.89C8.7444 14.84 8.8044 14.75 8.9344 14.75H15.0444C15.1744 14.75 15.2444 14.83 15.2644 14.89C15.2844 14.95 15.3244 15.04 15.2444 15.15H15.2644Z"></path></svg>'},"./packages/survey-core/src/images-v2/restoredown-16x16.svg":function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.69 8.71C7.73 8.8 7.75 8.9 7.75 9V13C7.75 13.41 7.41 13.75 7 13.75C6.59 13.75 6.25 13.41 6.25 13V10.81L3.53 13.53C3.38 13.68 3.19 13.75 3 13.75C2.81 13.75 2.62 13.68 2.47 13.53C2.18 13.24 2.18 12.76 2.47 12.47L5.19 9.75H3C2.59 9.75 2.25 9.41 2.25 9C2.25 8.59 2.59 8.25 3 8.25H7C7.1 8.25 7.19 8.27 7.29 8.31C7.47 8.39 7.62 8.53 7.7 8.72L7.69 8.71ZM13 6.25H10.81L13.53 3.53C13.82 3.24 13.82 2.76 13.53 2.47C13.24 2.18 12.76 2.18 12.47 2.47L9.75 5.19V3C9.75 2.59 9.41 2.25 9 2.25C8.59 2.25 8.25 2.59 8.25 3V7C8.25 7.1 8.27 7.19 8.31 7.29C8.39 7.47 8.53 7.62 8.72 7.7C8.81 7.74 8.91 7.76 9.01 7.76H13.01C13.42 7.76 13.76 7.42 13.76 7.01C13.76 6.6 13.42 6.26 13.01 6.26L13 6.25Z"></path></svg>'},"./packages/survey-core/src/images-v2/search-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.9975 2.25C9.7275 2.25 6.2475 5.73 6.2475 10C6.2475 11.87 6.9075 13.58 8.0175 14.92L2.4675 20.47C2.1775 20.76 2.1775 21.24 2.4675 21.53C2.6175 21.68 2.8075 21.75 2.9975 21.75C3.1875 21.75 3.3775 21.68 3.5275 21.53L9.0775 15.98C10.4175 17.08 12.1275 17.75 13.9975 17.75C18.2675 17.75 21.7475 14.27 21.7475 10C21.7475 5.73 18.2675 2.25 13.9975 2.25ZM13.9975 16.25C10.5475 16.25 7.7475 13.45 7.7475 10C7.7475 6.55 10.5475 3.75 13.9975 3.75C17.4475 3.75 20.2475 6.55 20.2475 10C20.2475 13.45 17.4475 16.25 13.9975 16.25Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate1-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate10-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate2-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.51001C4.47291 4.51001 4.08291 4.25001 3.94291 3.84001C3.76291 3.32001 4.03291 2.75001 4.55291 2.57001L8.32291 1.25001C8.84291 1.06001 9.41291 1.34001 9.59291 1.86001C9.77291 2.38001 9.50291 2.95001 8.98291 3.13001L5.20291 4.45001C5.09291 4.49001 4.98291 4.51001 4.87291 4.51001H4.88291ZM19.8129 3.89001C20.0229 3.38001 19.7729 2.79001 19.2629 2.59001L15.5529 1.07001C15.0429 0.860007 14.4529 1.11001 14.2529 1.62001C14.0429 2.13001 14.2929 2.72001 14.8029 2.92001L18.5029 4.43001C18.6229 4.48001 18.7529 4.50001 18.8829 4.50001C19.2729 4.50001 19.6529 4.27001 19.8129 3.88001V3.89001ZM3.50291 6.00001C2.64291 6.37001 1.79291 6.88001 1.00291 7.48001C0.79291 7.64001 0.64291 7.87001 0.59291 8.14001C0.48291 8.73001 0.87291 9.29001 1.45291 9.40001C2.04291 9.51001 2.60291 9.12001 2.71291 8.54001C2.87291 7.69001 3.12291 6.83001 3.50291 5.99001V6.00001ZM21.0429 8.55001C21.6029 10.48 24.2429 8.84001 22.7529 7.48001C21.9629 6.88001 21.1129 6.37001 20.2529 6.00001C20.6329 6.84001 20.8829 7.70001 21.0429 8.55001ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 10 11.8829 10C7.47291 10 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images-v2/smiley-rate3-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate4-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate5-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate6-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate7-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate8-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./packages/survey-core/src/images-v2/smiley-rate9-24x24.svg":function(e,t){e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'},"./src/entries/core.ts":function(e,t,o){"use strict";o.r(t),o.d(t,"Version",function(){return eO}),o.d(t,"ReleaseDate",function(){return eI}),o.d(t,"checkLibraryVersion",function(){return checkLibraryVersion}),o.d(t,"setLicenseKey",function(){return setLicenseKey}),o.d(t,"slk",function(){return slk}),o.d(t,"hasLicense",function(){return hasLicense}),o.d(t,"settings",function(){return t0}),o.d(t,"Helpers",function(){return eQ}),o.d(t,"AnswerCountValidator",function(){return og}),o.d(t,"EmailValidator",function(){return oy}),o.d(t,"NumericValidator",function(){return od}),o.d(t,"RegexValidator",function(){return of}),o.d(t,"SurveyValidator",function(){return oc}),o.d(t,"TextValidator",function(){return oh}),o.d(t,"ValidatorResult",function(){return ValidatorResult}),o.d(t,"ExpressionValidator",function(){return om}),o.d(t,"ValidatorRunner",function(){return op}),o.d(t,"ItemValue",function(){return oV}),o.d(t,"Base",function(){return ty}),o.d(t,"Event",function(){return tm}),o.d(t,"EventBase",function(){return tv}),o.d(t,"ArrayChanges",function(){return ArrayChanges}),o.d(t,"ComputedUpdater",function(){return tf}),o.d(t,"SurveyError",function(){return t7}),o.d(t,"SurveyElementCore",function(){return tJ}),o.d(t,"SurveyElement",function(){return t$}),o.d(t,"DragTypeOverMeEnum",function(){return eT}),o.d(t,"CalculatedValue",function(){return o_}),o.d(t,"CustomError",function(){return ol}),o.d(t,"AnswerRequiredError",function(){return t9}),o.d(t,"OneAnswerRequiredError",function(){return t3}),o.d(t,"RequreNumericError",function(){return t6}),o.d(t,"ExceedSizeError",function(){return t8}),o.d(t,"LocalizableString",function(){return tZ}),o.d(t,"LocalizableStrings",function(){return tK}),o.d(t,"HtmlConditionItem",function(){return oO}),o.d(t,"UrlConditionItem",function(){return oI}),o.d(t,"ChoicesRestful",function(){return oQ}),o.d(t,"ChoicesRestfull",function(){return oA}),o.d(t,"FunctionFactory",function(){return e2}),o.d(t,"registerFunction",function(){return e5}),o.d(t,"ConditionRunner",function(){return tc}),o.d(t,"ExpressionRunner",function(){return tp}),o.d(t,"ExpressionExecutor",function(){return tl}),o.d(t,"Operand",function(){return e4}),o.d(t,"Const",function(){return e8}),o.d(t,"BinaryOperand",function(){return e9}),o.d(t,"Variable",function(){return te}),o.d(t,"FunctionOperand",function(){return tt}),o.d(t,"ArrayOperand",function(){return e6}),o.d(t,"UnaryOperand",function(){return e3}),o.d(t,"ConditionsParser",function(){return ti}),o.d(t,"ProcessValue",function(){return e1}),o.d(t,"JsonError",function(){return eH}),o.d(t,"JsonIncorrectTypeError",function(){return eJ}),o.d(t,"JsonMetadata",function(){return eq}),o.d(t,"JsonMetadataClass",function(){return eN}),o.d(t,"JsonMissingTypeError",function(){return eW}),o.d(t,"JsonMissingTypeErrorBase",function(){return eU}),o.d(t,"JsonObject",function(){return eK}),o.d(t,"JsonObjectProperty",function(){return eB}),o.d(t,"JsonRequiredPropertyError",function(){return e$}),o.d(t,"JsonUnknownPropertyError",function(){return ez}),o.d(t,"Serializer",function(){return eY}),o.d(t,"property",function(){return jsonobject_property}),o.d(t,"propertyArray",function(){return propertyArray}),o.d(t,"MatrixDropdownCell",function(){return o9}),o.d(t,"MatrixDropdownRowModelBase",function(){return o8}),o.d(t,"QuestionMatrixDropdownModelBase",function(){return nt}),o.d(t,"MatrixDropdownColumn",function(){return oX}),o.d(t,"matrixDropdownColumnTypes",function(){return oY}),o.d(t,"QuestionMatrixDropdownRenderedCell",function(){return o0}),o.d(t,"QuestionMatrixDropdownRenderedRow",function(){return o2}),o.d(t,"QuestionMatrixDropdownRenderedErrorRow",function(){return o5}),o.d(t,"QuestionMatrixDropdownRenderedTable",function(){return o7}),o.d(t,"MatrixDropdownRowModel",function(){return nn}),o.d(t,"QuestionMatrixDropdownModel",function(){return nr}),o.d(t,"MatrixDynamicRowModel",function(){return nm}),o.d(t,"QuestionMatrixDynamicModel",function(){return nv}),o.d(t,"MatrixRowModel",function(){return ri}),o.d(t,"MatrixCells",function(){return rs}),o.d(t,"QuestionMatrixModel",function(){return ra}),o.d(t,"QuestionMatrixBaseModel",function(){return ok}),o.d(t,"MultipleTextItemModel",function(){return rv}),o.d(t,"MultipleTextCell",function(){return rP}),o.d(t,"MultipleTextErrorCell",function(){return rx}),o.d(t,"MutlipleTextErrorRow",function(){return rw}),o.d(t,"MutlipleTextRow",function(){return rC}),o.d(t,"QuestionMultipleTextModel",function(){return rb}),o.d(t,"MultipleTextEditorModel",function(){return rm}),o.d(t,"PanelModel",function(){return nN}),o.d(t,"PanelModelBase",function(){return nF}),o.d(t,"QuestionRowModel",function(){return nB}),o.d(t,"FlowPanelModel",function(){return rV}),o.d(t,"PageModel",function(){return nz}),o.d(t,"DefaultTitleModel",function(){return rS}),o.d(t,"Question",function(){return ox}),o.d(t,"QuestionNonValue",function(){return rT}),o.d(t,"QuestionEmptyModel",function(){return rO}),o.d(t,"QuestionCheckboxBase",function(){return n2}),o.d(t,"QuestionSelectBase",function(){return n0}),o.d(t,"QuestionCheckboxModel",function(){return rE}),o.d(t,"QuestionTagboxModel",function(){return rj}),o.d(t,"QuestionRankingModel",function(){return rW}),o.d(t,"QuestionCommentModel",function(){return r$}),o.d(t,"QuestionDropdownModel",function(){return rn}),o.d(t,"QuestionFactory",function(){return oJ}),o.d(t,"ElementFactory",function(){return o$}),o.d(t,"QuestionFileModel",function(){return r0}),o.d(t,"QuestionFilePage",function(){return r1}),o.d(t,"QuestionHtmlModel",function(){return r7}),o.d(t,"QuestionRadiogroupModel",function(){return r9}),o.d(t,"QuestionRatingModel",function(){return ie}),o.d(t,"RenderedRatingItem",function(){return r6}),o.d(t,"QuestionExpressionModel",function(){return oZ}),o.d(t,"QuestionTextBase",function(){return rc}),o.d(t,"CharacterCounter",function(){return ru}),o.d(t,"QuestionTextModel",function(){return rg}),o.d(t,"QuestionBooleanModel",function(){return io}),o.d(t,"QuestionImagePickerModel",function(){return is}),o.d(t,"ImageItemValue",function(){return ii}),o.d(t,"QuestionImageModel",function(){return ic}),o.d(t,"QuestionSignaturePadModel",function(){return id}),o.d(t,"QuestionPanelDynamicModel",function(){return iv}),o.d(t,"QuestionPanelDynamicItem",function(){return iy}),o.d(t,"SurveyTimer",function(){return nV}),o.d(t,"SurveyTimerModel",function(){return n_}),o.d(t,"tryFocusPage",function(){return tryFocusPage}),o.d(t,"createTOCListModel",function(){return createTOCListModel}),o.d(t,"getTocRootCss",function(){return getTocRootCss}),o.d(t,"TOCModel",function(){return n$}),o.d(t,"SurveyProgressModel",function(){return ib}),o.d(t,"ProgressButtons",function(){return nW}),o.d(t,"ProgressButtonsResponsivityManager",function(){return nJ}),o.d(t,"SurveyModel",function(){return nX}),o.d(t,"SurveyTrigger",function(){return iP}),o.d(t,"SurveyTriggerComplete",function(){return iM}),o.d(t,"SurveyTriggerSetValue",function(){return iV}),o.d(t,"SurveyTriggerVisible",function(){return ix}),o.d(t,"SurveyTriggerCopyValue",function(){return iT}),o.d(t,"SurveyTriggerRunExpression",function(){return i_}),o.d(t,"SurveyTriggerSkip",function(){return iS}),o.d(t,"Trigger",function(){return iw}),o.d(t,"PopupSurveyModel",function(){return iO}),o.d(t,"SurveyWindowModel",function(){return iI}),o.d(t,"TextPreProcessor",function(){return oj}),o.d(t,"Notifier",function(){return nR}),o.d(t,"Cover",function(){return nE}),o.d(t,"CoverCell",function(){return nI}),o.d(t,"dxSurveyService",function(){return nx}),o.d(t,"englishStrings",function(){return eA}),o.d(t,"surveyLocalization",function(){return eL}),o.d(t,"surveyStrings",function(){return ek}),o.d(t,"getLocaleString",function(){return getLocaleString}),o.d(t,"QuestionCustomWidget",function(){return ov}),o.d(t,"CustomWidgetCollection",function(){return ob}),o.d(t,"QuestionCustomModel",function(){return oz}),o.d(t,"QuestionCompositeModel",function(){return oW}),o.d(t,"ComponentQuestionJSON",function(){return oN}),o.d(t,"ComponentCollection",function(){return oq}),o.d(t,"ListModel",function(){return tR}),o.d(t,"MultiSelectListModel",function(){return rQ}),o.d(t,"PopupModel",function(){return tI}),o.d(t,"createDialogOptions",function(){return createDialogOptions}),o.d(t,"PopupBaseViewModel",function(){return n3}),o.d(t,"PopupDropdownViewModel",function(){return n8}),o.d(t,"PopupModalViewModel",function(){return iD}),o.d(t,"createPopupViewModel",function(){return createPopupViewModel}),o.d(t,"createPopupModalViewModel",function(){return createPopupModalViewModel}),o.d(t,"DropdownListModel",function(){return rt}),o.d(t,"DropdownMultiSelectListModel",function(){return rL}),o.d(t,"QuestionButtonGroupModel",function(){return iL}),o.d(t,"ButtonGroupItemModel",function(){return ik}),o.d(t,"ButtonGroupItemValue",function(){return iA}),o.d(t,"IsMobile",function(){return na}),o.d(t,"IsTouch",function(){return nc}),o.d(t,"_setIsTouch",function(){return _setIsTouch}),o.d(t,"confirmAction",function(){return confirmAction}),o.d(t,"confirmActionAsync",function(){return confirmActionAsync}),o.d(t,"detectIEOrEdge",function(){return detectIEOrEdge}),o.d(t,"doKey2ClickUp",function(){return doKey2ClickUp}),o.d(t,"doKey2ClickDown",function(){return doKey2ClickDown}),o.d(t,"doKey2ClickBlur",function(){return doKey2ClickBlur}),o.d(t,"loadFileFromBase64",function(){return loadFileFromBase64}),o.d(t,"increaseHeightByContent",function(){return increaseHeightByContent}),o.d(t,"createSvg",function(){return createSvg}),o.d(t,"chooseFiles",function(){return chooseFiles}),o.d(t,"sanitizeEditableContent",function(){return sanitizeEditableContent}),o.d(t,"prepareElementForVerticalAnimation",function(){return prepareElementForVerticalAnimation}),o.d(t,"cleanHtmlElementAfterAnimation",function(){return cleanHtmlElementAfterAnimation}),o.d(t,"classesToSelector",function(){return classesToSelector}),o.d(t,"renamedIcons",function(){return tY}),o.d(t,"getIconNameFromProxy",function(){return getIconNameFromProxy}),o.d(t,"InputMaskBase",function(){return iB}),o.d(t,"InputMaskPattern",function(){return iN}),o.d(t,"InputMaskNumeric",function(){return iH}),o.d(t,"InputMaskDateTime",function(){return iU}),o.d(t,"InputMaskCurrency",function(){return iJ}),o.d(t,"CssClassBuilder",function(){return tP}),o.d(t,"TextAreaModel",function(){return ow}),o.d(t,"surveyCss",function(){return nC}),o.d(t,"defaultV2Css",function(){return nw}),o.d(t,"defaultV2ThemeName",function(){return nP}),o.d(t,"DragDropCore",function(){return nd}),o.d(t,"DragDropChoices",function(){return rF}),o.d(t,"DragDropRankingSelectToRank",function(){return rz}),o.d(t,"StylesManager",function(){return i5}),o.d(t,"defaultStandardCss",function(){return i7}),o.d(t,"modernCss",function(){return i4}),o.d(t,"SvgIconRegistry",function(){return nG}),o.d(t,"SvgRegistry",function(){return nZ}),o.d(t,"SvgBundleViewModel",function(){return eR}),o.d(t,"svgBundle",function(){return nK}),o.d(t,"RendererFactory",function(){return oC}),o.d(t,"ResponsivityManager",function(){return tC}),o.d(t,"VerticalResponsivityManager",function(){return tw}),o.d(t,"unwrap",function(){return unwrap}),o.d(t,"getOriginalEvent",function(){return getOriginalEvent}),o.d(t,"getElement",function(){return getElement}),o.d(t,"createDropdownActionModel",function(){return createDropdownActionModel}),o.d(t,"createDropdownActionModelAdvanced",function(){return createDropdownActionModelAdvanced}),o.d(t,"createPopupModelWithListModel",function(){return createPopupModelWithListModel}),o.d(t,"getActionDropdownButtonTarget",function(){return getActionDropdownButtonTarget}),o.d(t,"BaseAction",function(){return tD}),o.d(t,"Action",function(){return tQ}),o.d(t,"ActionDropdownViewModel",function(){return tA}),o.d(t,"AnimationUtils",function(){return tB}),o.d(t,"AnimationPropertyUtils",function(){return tF}),o.d(t,"AnimationGroupUtils",function(){return tN}),o.d(t,"AnimationProperty",function(){return tq}),o.d(t,"AnimationBoolean",function(){return tH}),o.d(t,"AnimationGroup",function(){return tz}),o.d(t,"AnimationTab",function(){return tU}),o.d(t,"AdaptiveActionContainer",function(){return tk}),o.d(t,"defaultActionBarCss",function(){return tM}),o.d(t,"ActionContainer",function(){return tV}),o.d(t,"DragOrClickHelper",function(){return nf}),o.d(t,"Model",function(){return nX});var n,r,i,s,a,l,u,c,p,d,h,g,f,y,m,v,b,C,w,P,x,M,V,S,_,T,R,O,I,E,D,Q,A,L,k,j,B,F,N,q,H,z,U,W,J,$,G,Z,K,Y,X,ee,et,eo,en,er,ei,es,ea,el,eu,ec,ep,ed,eh,eg,ef,ey,em,ev,eb,eC,ew,eP,ex,eM,eV,eS,e_,eT,eR,eO,eI,eE=function(){function DomWindowHelper(){}return DomWindowHelper.isAvailable=function(){return"undefined"!=typeof window},DomWindowHelper.isFileReaderAvailable=function(){return!!DomWindowHelper.isAvailable()&&!!window.FileReader},DomWindowHelper.getLocation=function(){if(DomWindowHelper.isAvailable())return window.location},DomWindowHelper.getVisualViewport=function(){return DomWindowHelper.isAvailable()?window.visualViewport:null},DomWindowHelper.getInnerWidth=function(){if(DomWindowHelper.isAvailable())return window.innerWidth},DomWindowHelper.getInnerHeight=function(){return DomWindowHelper.isAvailable()?window.innerHeight:null},DomWindowHelper.getWindow=function(){if(DomWindowHelper.isAvailable())return window},DomWindowHelper.hasOwn=function(e){if(DomWindowHelper.isAvailable())return e in window},DomWindowHelper.getSelection=function(){if(DomWindowHelper.isAvailable()&&window.getSelection)return window.getSelection()},DomWindowHelper.requestAnimationFrame=function(e){if(DomWindowHelper.isAvailable())return window.requestAnimationFrame(e)},DomWindowHelper.addEventListener=function(e,t){DomWindowHelper.isAvailable()&&window.addEventListener(e,t)},DomWindowHelper.removeEventListener=function(e,t){DomWindowHelper.isAvailable()&&window.removeEventListener(e,t)},DomWindowHelper.matchMedia=function(e){return DomWindowHelper.isAvailable()&&void 0!==window.matchMedia?window.matchMedia(e):null},DomWindowHelper}(),eD=function(){function DomDocumentHelper(){}return DomDocumentHelper.isAvailable=function(){return"undefined"!=typeof document},DomDocumentHelper.getBody=function(){if(DomDocumentHelper.isAvailable())return document.body},DomDocumentHelper.getDocumentElement=function(){if(DomDocumentHelper.isAvailable())return document.documentElement},DomDocumentHelper.getDocument=function(){if(DomDocumentHelper.isAvailable())return document},DomDocumentHelper.getCookie=function(){if(DomDocumentHelper.isAvailable())return document.cookie},DomDocumentHelper.setCookie=function(e){DomDocumentHelper.isAvailable()&&(document.cookie=e)},DomDocumentHelper.activeElementBlur=function(){if(DomDocumentHelper.isAvailable()){var e=document.activeElement;e&&e.blur&&e.blur()}},DomDocumentHelper.createElement=function(e){if(DomDocumentHelper.isAvailable())return document.createElement(e)},DomDocumentHelper.getComputedStyle=function(e){return DomDocumentHelper.isAvailable()?document.defaultView.getComputedStyle(e):new CSSStyleDeclaration},DomDocumentHelper.addEventListener=function(e,t){DomDocumentHelper.isAvailable()&&document.addEventListener(e,t)},DomDocumentHelper.removeEventListener=function(e,t){DomDocumentHelper.isAvailable()&&document.removeEventListener(e,t)},DomDocumentHelper}(),eQ=function(){function Helpers(){}return Helpers.isValueEmpty=function(e){if(Array.isArray(e)&&0===e.length)return!0;if(e&&Helpers.isValueObject(e)&&e.constructor===Object){for(var t in e)if(!Helpers.isValueEmpty(e[t]))return!1;return!0}return!e&&0!==e&&!1!==e},Helpers.isArrayContainsEqual=function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var o=0;o<e.length;o++){for(var n=0;n<t.length&&!Helpers.isTwoValueEquals(e[o],t[n]);n++);if(n===t.length)return!1}return!0},Helpers.isArraysEqual=function(e,t,o,n,r){if(void 0===o&&(o=!1),!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;if(o){for(var i=[],s=[],a=0;a<e.length;a++)i.push(e[a]),s.push(t[a]);i.sort(),s.sort(),e=i,t=s}for(var a=0;a<e.length;a++)if(!Helpers.isTwoValueEquals(e[a],t[a],o,n,r))return!1;return!0},Helpers.compareStrings=function(e,t){var o=t0.comparator.normalizeTextCallback;if(e&&(e=o(e,"compare").trim()),t&&(t=o(t,"compare").trim()),!e&&!t)return 0;if(!e)return -1;if(!t)return 1;if(e===t)return 0;for(var n=-1,r=0;r<e.length&&r<t.length;r++){if(this.isCharDigit(e[r])&&this.isCharDigit(t[r])){n=r;break}if(e[r]!==t[r])break}if(n>-1){var i=this.getNumberFromStr(e,n),s=this.getNumberFromStr(t,n);if(!Number.isNaN(i)&&!Number.isNaN(s)&&i!==s)return i>s?1:-1}return e>t?1:-1},Helpers.isTwoValueEquals=function(e,t,o,n,r){if(void 0===o&&(o=!1),e===t||Array.isArray(e)&&0===e.length&&void 0===t||Array.isArray(t)&&0===t.length&&void 0===e||null==e&&""===t||null==t&&""===e)return!0;if(void 0===r&&(r=t0.comparator.trimStrings),void 0===n&&(n=t0.comparator.caseSensitive),"string"==typeof e&&"string"==typeof t){var i=t0.comparator.normalizeTextCallback;return e=i(e,"compare"),t=i(t,"compare"),r&&(e=e.trim(),t=t.trim()),n||(e=e.toLowerCase(),t=t.toLowerCase()),e===t}if(e instanceof Date&&t instanceof Date)return e.getTime()==t.getTime();if(Helpers.isConvertibleToNumber(e)&&Helpers.isConvertibleToNumber(t)&&parseInt(e)===parseInt(t)&&parseFloat(e)===parseFloat(t))return!0;if(!Helpers.isValueEmpty(e)&&Helpers.isValueEmpty(t)||Helpers.isValueEmpty(e)&&!Helpers.isValueEmpty(t))return!1;if((!0===e||!1===e)&&"string"==typeof t)return e.toString()===t.toLocaleLowerCase();if((!0===t||!1===t)&&"string"==typeof e)return t.toString()===e.toLocaleLowerCase();if(!Helpers.isValueObject(e)&&!Helpers.isValueObject(t))return e==t;if(!Helpers.isValueObject(e)||!Helpers.isValueObject(t))return!1;if(e.equals&&t.equals)return e.equals(t);if(Array.isArray(e)&&Array.isArray(t))return Helpers.isArraysEqual(e,t,o,n,r);for(var s in e)if(e.hasOwnProperty(s)&&(!t.hasOwnProperty(s)||!this.isTwoValueEquals(e[s],t[s],o,n,r)))return!1;for(s in t)if(t.hasOwnProperty(s)&&!e.hasOwnProperty(s))return!1;return!0},Helpers.randomizeArray=function(e){for(var t=e.length-1;t>0;t--){var o=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[o],e[o]=n}return e},Helpers.getUnbindValue=function(e){if(Array.isArray(e)){for(var t=[],o=0;o<e.length;o++)t.push(Helpers.getUnbindValue(e[o]));return t}return e&&Helpers.isValueObject(e)&&!(e instanceof Date)?JSON.parse(JSON.stringify(e)):e},Helpers.createCopy=function(e){var t={};if(!e)return t;for(var o in e)t[o]=e[o];return t},Helpers.isConvertibleToNumber=function(e){return null!=e&&!Array.isArray(e)&&!isNaN(e)},Helpers.isValueObject=function(e,t){return e instanceof Object&&(!t||!Array.isArray(e))},Helpers.isNumber=function(e){return!isNaN(this.getNumber(e))},Helpers.getNumber=function(e){var t=Helpers.getNumberCore(e);return t0.parseNumber(e,t)},Helpers.getNumberCore=function(e){if("string"==typeof e){if(!e.trim())return NaN;if(0==e.indexOf("0x"))return e.length>32?NaN:parseInt(e);if(Helpers.isStringHasOperator(e))return NaN}var t=parseFloat(e=this.prepareStringToNumber(e));return isNaN(t)||!isFinite(e)?NaN:t},Helpers.isStringHasOperator=function(e){if(e.lastIndexOf("-")>0||e.lastIndexOf("+")>0)return!1;for(var t="*^/%",o=0;o<t.length;o++)if(e.indexOf(t[o])>-1)return!0;return!1},Helpers.prepareStringToNumber=function(e){if("string"!=typeof e||!e)return e;var t=e.indexOf(",");return t>-1&&0>e.indexOf(",",t+1)?e.replace(",","."):e},Helpers.getMaxLength=function(e,t){return e<0&&(e=t),e>0?e:null},Helpers.getRemainingCharacterCounterText=function(e,t){return t&&!(t<=0)&&t0.showMaxLengthIndicator?[e?e.length:"0",t].join("/"):""},Helpers.getNumberByIndex=function(e,t,o){if(e<0)return"";var n=1,r="",i=".",s=!0,a="A",l="",hasDigitFunc=function(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(Helpers.isCharDigit(e[t]))return!0;return!1};if(t){for(var u=(l=t).length-1,c=hasDigitFunc(l),checkLetter=function(){return c&&!Helpers.isCharDigit(l[u])||Helpers.isCharNotLetterAndDigit(l[u])};u>=0&&checkLetter();)u--;var p="";for(u<l.length-1&&(p=l.substring(u+1),l=l.substring(0,u+1)),u=l.length-1;u>=0&&!checkLetter()&&(u--,c););a=l.substring(u+1),r=l.substring(0,u+1),parseInt(a)?n=parseInt(a):1==a.length&&(s=!1),(p||r)&&(i=p)}if(o>-1&&hasDigitFunc(r)&&(r=this.getNumberByIndex(o,r)),s){for(var d=(e+n).toString();d.length<a.length;)d="0"+d;return r+d+i}return r+String.fromCharCode(a.charCodeAt(0)+e)+i},Helpers.isCharNotLetterAndDigit=function(e){return e.toUpperCase()==e.toLowerCase()&&!Helpers.isCharDigit(e)},Helpers.isCharDigit=function(e){return e>="0"&&e<="9"},Helpers.getNumberFromStr=function(e,t){if(!this.isCharDigit(e[t]))return NaN;for(var o="";t<e.length&&this.isCharDigit(e[t]);)o+=e[t],t++;return o?this.getNumber(o):NaN},Helpers.countDecimals=function(e){if(Helpers.isNumber(e)&&Math.floor(e)!==e){var t=e.toString().split(".");return t.length>1&&t[1].length||0}return 0},Helpers.correctAfterPlusMinis=function(e,t,o){var n=Helpers.countDecimals(e),r=Helpers.countDecimals(t);if(n>0||r>0){var i=Math.max(n,r);o=parseFloat(o.toFixed(i))}return o},Helpers.sumAnyValues=function(e,t){if(!Helpers.isNumber(e)||!Helpers.isNumber(t)){if(Array.isArray(e)&&Array.isArray(t))return[].concat(e).concat(t);if(Array.isArray(e)||Array.isArray(t)){var o=Array.isArray(e)?e:t,n=o===e?t:e;if("string"==typeof n){var r=o.join(", ");return o===e?r+n:n+r}if("number"==typeof n){for(var i=0,s=0;s<o.length;s++)"number"==typeof o[s]&&(i=Helpers.correctAfterPlusMinis(i,o[s],i+o[s]));return Helpers.correctAfterPlusMinis(i,n,i+n)}}return e+t}return"string"==typeof e||"string"==typeof t?e+t:Helpers.correctAfterPlusMinis(e,t,e+t)},Helpers.correctAfterMultiple=function(e,t,o){var n=Helpers.countDecimals(e)+Helpers.countDecimals(t);return n>0&&(o=parseFloat(o.toFixed(n))),o},Helpers.convertArrayValueToObject=function(e,t,o){void 0===o&&(o=void 0);var n=[];if(!e||!Array.isArray(e))return n;for(var r=0;r<e.length;r++){var i=void 0;Array.isArray(o)&&(i=Helpers.findObjByPropValue(o,t,e[r])),i||((i={})[t]=e[r]),n.push(i)}return n},Helpers.findObjByPropValue=function(e,t,o){for(var n=0;n<e.length;n++)if(Helpers.isTwoValueEquals(e[n][t],o))return e[n]},Helpers.convertArrayObjectToValue=function(e,t){var o=[];if(!e||!Array.isArray(e))return o;for(var n=0;n<e.length;n++){var r=e[n]?e[n][t]:void 0;Helpers.isValueEmpty(r)||o.push(r)}return o},Helpers.convertDateToString=function(e){var toStr=function(e){return e<10?"0"+e.toString():e.toString()};return e.getFullYear()+"-"+toStr(e.getMonth()+1)+"-"+toStr(e.getDate())},Helpers.convertDateTimeToString=function(e){var toStr=function(e){return e<10?"0"+e.toString():e.toString()};return this.convertDateToString(e)+" "+toStr(e.getHours())+":"+toStr(e.getMinutes())},Helpers.convertValToQuestionVal=function(e,t){return e instanceof Date?"datetime-local"===t?Helpers.convertDateTimeToString(e):Helpers.convertDateToString(e):this.getUnbindValue(e)},Helpers.compareVerions=function(e,t){if(!e&&!t)return 0;for(var o=e.split("."),n=t.split("."),r=o.length,i=n.length,s=0;s<r&&s<i;s++){var a=o[s],l=n[s];if(a.length!==l.length)return a.length<l.length?-1:1;if(a!==l)return a<l?-1:1}return r===i?0:r<i?-1:1},Helpers.isUrlYoutubeVideo=function(e){if(!e)return!1;var t=["www.youtube.com","m.youtube.com","youtube.com","youtu.be"];e=(e=e.toLowerCase()).replace(/^https?:\/\//,"");for(var o=0;o<t.length;o++)if(0===e.indexOf(t[o]+"/"))return!0;return!1},Helpers}();String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,o){return void 0!==e[o]?e[o]:t})});var eA={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",refuseItemText:"Refuse to answer",dontKnowItemText:"Don't know",selectAllItemText:"Select All",deselectAllItemText:"Deselect all",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain any visible elements.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"You have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",eachRowUniqueError:"Each row must have a unique value.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textNoDigitsAllow:"Numbers are not allowed.",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} option(s).",maxSelectError:"Please select no more than {0} option(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",noUploadFilesHandler:"Files cannot be uploaded. Please add a handler for the 'onUploadFiles' event.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file selected",filePlaceholder:"Drag and drop a file here or click the button below to select a file to upload.",confirmDelete:"Are you sure you want to delete this record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",showDetails:"Show Details",hideDetails:"Hide Details",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",savingExceedSize:"Your response exceeds 64KB. Please reduce the size of your file(s) and try again or contact the survey owner.",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",signaturePlaceHolderReadOnly:"No signature",chooseFileCaption:"Select File",takePhotoCaption:"Take Photo",photoPlaceholder:"Click the button below to take a photo using the camera.",fileOrPhotoPlaceholder:"Drag and drop or select a file to upload or take a photo using the camera.",replaceFileCaption:"Replace file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:"No entries yet.\nClick the button below to add a new entry.",noEntriesReadonlyText:"No entries",tabTitlePlaceholder:"New Panel",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are selected for ranking",selectToRankEmptyUnrankedAreaText:"Drag choices here to rank them",ok:"OK",cancel:"Cancel"},eL={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},localeNamesInEnglish:{},localeDirections:{},supportedLocales:[],useEnglishNames:!1,get showNamesInEnglish(){return this.useEnglishNames},set showNamesInEnglish(val){this.useEnglishNames=val},setupLocale:function(e,t,o,n,r){this.locales[e]=t,this.localeNames[e]=o,this.localeNamesInEnglish[e]=n,void 0!==r&&(this.localeDirections[e]=r)},get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(val){"cz"===val&&(val="cs"),this.currentLocaleValue=val},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(val){"cz"===val&&(val="cs"),this.defaultLocaleValue=val},getLocaleStrings:function(e){return this.locales[e]},getString:function(e,t){var o=this;void 0===t&&(t=null);var n=[],addLocaleCore=function(e){var t=o.locales[e];t&&n.push(t)},addLocale=function(e){if(e){addLocaleCore(e);var t=e.indexOf("-");t<1||addLocaleCore(e=e.substring(0,t))}};addLocale(t),addLocale(this.currentLocale),addLocale(this.defaultLocale),"en"!==this.defaultLocale&&addLocaleCore("en");for(var r=0;r<n.length;r++){var i=n[r][e];if(void 0!==i)return i}return this.onGetExternalString(e,t)},getLocaleName:function(e,t){if(!e)return"";void 0===t&&(t=this.showNamesInEnglish);var o=t?this.localeNamesInEnglish:this.localeNames,n=t?this.localeNames:this.localeNamesInEnglish;return o[e]||n[e]||e},getLocales:function(e){var t=this;void 0===e&&(e=!1);var o=[];o.push("");var n=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){n={};for(var r=0;r<this.supportedLocales.length;r++)n[this.supportedLocales[r]]=!0}for(var i in n)e&&i==this.defaultLocale||o.push(i);var locName=function(e){return t.getLocaleName(e).toLowerCase()};return o.sort(function(e,t){var o=locName(e),n=locName(t);return o===n?0:o<n?-1:1}),o},onGetExternalString:function(e,t){}};function getLocaleString(e,t){return void 0===t&&(t=null),eL.getString(e,t)}var ek=eA;eL.locales.en=eA,eL.localeNames.en="english";var ej=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),__spreadArray=function(e,t){for(var o=0,n=t.length,r=e.length;o<n;o++,r++)e[r]=t[o];return e};function ensureLocString(e,t,o){var n=e.getLocalizableString(o);if(!n){var r=void 0;"object"==typeof t.localizable&&t.localizable.defaultStr&&(r=t.localizable.defaultStr),n=e.createLocalizableString(o,e,!0,r),"object"==typeof t.localizable&&"function"==typeof t.localizable.onGetTextCallback&&(n.onGetTextCallback=t.localizable.onGetTextCallback)}}function jsonobject_property(e){return void 0===e&&(e={}),function(t,o){var processComputedUpdater=function(e,t){if(t&&"object"==typeof t&&t.type===tf.ComputedUpdaterType){ty.startCollectDependencies(function(){return e[o]=t.updater()},e,o);var n=t.updater(),r=ty.finishCollectDependencies();return t.setDependencies(r),e.dependencies[o]&&e.dependencies[o].dispose(),e.dependencies[o]=t,n}return t};e&&e.localizable?(Object.defineProperty(t,o,{get:function(){return function(e,t,o){ensureLocString(e,t,o);var n=e.getLocalizableStringText(o);if(n)return n;if("object"==typeof t.localizable&&t.localizable.defaultStr){var r=e.getLocale?e.getLocale():"";return getLocaleString(t.localizable.defaultStr,r)}return""}(this,e,o)},set:function(t){ensureLocString(this,e,o);var n=processComputedUpdater(this,t);this.setLocalizableStringText(o,n),e&&e.onSet&&e.onSet(n,this)}}),Object.defineProperty(t,"object"==typeof e.localizable&&e.localizable.name?e.localizable.name:"loc"+o.charAt(0).toUpperCase()+o.slice(1),{get:function(){return ensureLocString(this,e,o),this.getLocalizableString(o)}})):Object.defineProperty(t,o,{get:function(){var t=null;return e&&("function"==typeof e.getDefaultValue&&(t=e.getDefaultValue(this)),void 0!==e.defaultValue&&(t=e.defaultValue)),this.getPropertyValue(o,t)},set:function(t){var n=processComputedUpdater(this,t),r=this.getPropertyValue(o);this.setPropertyValue(o,n),e&&e.onSet&&e.onSet(n,this,r)}})}}function ensureArray(e,t,o){e.ensureArray(o,function(o,n){var r=t?t.onPush:null;r&&r(o,n,e)},function(o,n){var r=t?t.onRemove:null;r&&r(o,n,e)})}function propertyArray(e){return function(t,o){Object.defineProperty(t,o,{get:function(){return ensureArray(this,e,o),this.getPropertyValue(o)},set:function(t){ensureArray(this,e,o);var n=this.getPropertyValue(o);t!==n&&(n?n.splice.apply(n,__spreadArray([0,n.length],t||[])):this.setPropertyValue(o,t),e&&e.onSet&&e.onSet(t,this))}})}}var eB=function(){function JsonObjectProperty(e,t,o){void 0===o&&(o=!1),this.name=t,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=e,this.isRequiredValue=o,this.idValue=JsonObjectProperty.Index++}return Object.defineProperty(JsonObjectProperty.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(JsonObjectProperty.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(JsonObjectProperty.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(e){"itemvalues"===e&&(e="itemvalue[]"),"textitems"===e&&(e="textitem[]"),this.typeValue=e,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(JsonObjectProperty.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(e){e!==this.isRequired&&(this.isRequiredValue=e,this.classInfo&&this.classInfo.resetAllProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(JsonObjectProperty.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(e){this.isUniqueValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(JsonObjectProperty.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(e){this.uniquePropertyValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(JsonObjectProperty.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),JsonObjectProperty.prototype.getDefaultValue=function(e){var t=this.defaultValueFunc?this.defaultValueFunc(e):this.defaultValueValue;return JsonObjectProperty.getItemValuesDefaultValue&&eY.isDescendantOf(this.className,"itemvalue")&&(t=JsonObjectProperty.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),t},Object.defineProperty(JsonObjectProperty.prototype,"defaultValue",{get:function(){return this.getDefaultValue(void 0)},set:function(e){this.defaultValueValue=e},enumerable:!1,configurable:!0}),JsonObjectProperty.prototype.isDefaultValue=function(e){return this.isDefaultValueByObj(void 0,e)},JsonObjectProperty.prototype.isDefaultValueByObj=function(e,t){if(this.isLocalizable)return null==t;var o=this.getDefaultValue(e);return eQ.isValueEmpty(o)?!1===t&&("boolean"==this.type||"switch"==this.type)&&!this.defaultValueFunc||""===t||eQ.isValueEmpty(t):eQ.isTwoValueEquals(t,o,!1,!0,!1)},JsonObjectProperty.prototype.getSerializableValue=function(e,t){if(this.onSerializeValue)return this.onSerializeValue(e);var o=this.getValue(e);if(null!=o&&!(!t&&this.isDefaultValueByObj(e,o)))return o},JsonObjectProperty.prototype.getValue=function(e){return this.onGetValue?(e=this.getOriginalObj(e),this.onGetValue(e)):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].getJson():e[this.name]},JsonObjectProperty.prototype.getPropertyValue=function(e){return this.isLocalizable?e[this.serializationProperty]?e[this.serializationProperty].text:null:this.getValue(e)},Object.defineProperty(JsonObjectProperty.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),JsonObjectProperty.prototype.settingValue=function(e,t){return!this.onSettingValue||e.isLoadingFromJson?t:this.onSettingValue(e,t)},JsonObjectProperty.prototype.setValue=function(e,t,o){this.onSetValue?(e=this.getOriginalObj(e),this.onSetValue(e,t,o)):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].setJson(t,!0):(t&&"string"==typeof t&&("number"==this.type&&(t=parseInt(t)),("boolean"==this.type||"switch"==this.type)&&(t="true"===t.toLowerCase())),e[this.name]=t)},JsonObjectProperty.prototype.validateValue=function(e){var t=this.choices;return!Array.isArray(t)||0===t.length||t.indexOf(e)>-1},JsonObjectProperty.prototype.getObjType=function(e){return this.classNamePart?e.replace(this.classNamePart,""):e},Object.defineProperty(JsonObjectProperty.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(JsonObjectProperty.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),JsonObjectProperty.prototype.getChoices=function(e,t){return(void 0===t&&(t=null),null!=this.choicesValue)?this.choicesValue:null!=this.choicesfunc?this.choicesfunc(e,t):null},JsonObjectProperty.prototype.setChoices=function(e,t){void 0===t&&(t=null),this.choicesValue=e,this.choicesfunc=t},JsonObjectProperty.prototype.getBaseValue=function(){return this.baseValue?"function"==typeof this.baseValue?this.baseValue():this.baseValue:""},JsonObjectProperty.prototype.setBaseValue=function(e){this.baseValue=e},Object.defineProperty(JsonObjectProperty.prototype,"readOnly",{get:function(){return null!=this.readOnlyValue&&this.readOnlyValue},set:function(e){this.readOnlyValue=e},enumerable:!1,configurable:!0}),JsonObjectProperty.prototype.isEnable=function(e){return!this.readOnly&&(!e||!this.enableIf||this.enableIf(this.getOriginalObj(e)))},JsonObjectProperty.prototype.isVisible=function(e,t){void 0===t&&(t=null);var o=!this.layout||!e||this.layout===e;return!!this.visible&&!!o&&(!this.visibleIf||!t||this.visibleIf(this.getOriginalObj(t)))},JsonObjectProperty.prototype.getOriginalObj=function(e){if(e&&e.getOriginalObj){var t=e.getOriginalObj();if(t&&eY.findProperty(t.getType(),this.name))return t}return e},Object.defineProperty(JsonObjectProperty.prototype,"visible",{get:function(){return null==this.visibleValue||this.visibleValue},set:function(e){this.visibleValue=e},enumerable:!1,configurable:!0}),JsonObjectProperty.prototype.isAvailableInVersion=function(e){return!!this.alternativeName||!!this.oldName||this.isAvailableInVersionCore(e)},JsonObjectProperty.prototype.getSerializedName=function(e){return this.alternativeName?this.isAvailableInVersionCore(e)?this.name:this.alternativeName||this.oldName:this.name},JsonObjectProperty.prototype.getSerializedProperty=function(e,t){return!this.oldName||this.isAvailableInVersionCore(t)?this:e&&e.getType?eY.findProperty(e.getType(),this.oldName):null},JsonObjectProperty.prototype.isAvailableInVersionCore=function(e){return!e||!this.version||0>=eQ.compareVerions(this.version,e)},Object.defineProperty(JsonObjectProperty.prototype,"isLocalizable",{get:function(){return null!=this.isLocalizableValue&&this.isLocalizableValue},set:function(e){this.isLocalizableValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(JsonObjectProperty.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(e){this.dataListValue=e},enumerable:!1,configurable:!0}),JsonObjectProperty.prototype.mergeWith=function(e){for(var t=JsonObjectProperty.mergableValues,o=0;o<t.length;o++)this.mergeValue(e,t[o])},JsonObjectProperty.prototype.addDependedProperty=function(e){this.dependedProperties||(this.dependedProperties=[]),0>this.dependedProperties.indexOf(e)&&this.dependedProperties.push(e)},JsonObjectProperty.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},JsonObjectProperty.prototype.schemaType=function(){if("choicesByUrl"!==this.className)return"string"===this.className?this.className:this.className||this.baseClassName?"array":"switch"==this.type?"boolean":"boolean"==this.type||"number"==this.type?this.type:"string"},JsonObjectProperty.prototype.schemaRef=function(){if(this.className)return this.className},JsonObjectProperty.prototype.mergeValue=function(e,t){null==this[t]&&null!=e[t]&&(this[t]=e[t])},JsonObjectProperty.Index=1,JsonObjectProperty.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","oldName","layout","version","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","showMode","dependedProperties","visibleIf","enableIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],JsonObjectProperty}(),eF=function(){function CustomPropertiesCollection(){}return CustomPropertiesCollection.addProperty=function(e,t){e=e.toLowerCase();var o=CustomPropertiesCollection.properties;o[e]||(o[e]=[]),o[e].push(t)},CustomPropertiesCollection.removeProperty=function(e,t){e=e.toLowerCase();var o=CustomPropertiesCollection.properties;if(o[e]){for(var n=o[e],r=0;r<n.length;r++)if(n[r].name==t){o[e].splice(r,1);break}}},CustomPropertiesCollection.removeAllProperties=function(e){e=e.toLowerCase(),delete CustomPropertiesCollection.properties[e]},CustomPropertiesCollection.addClass=function(e,t){e=e.toLowerCase(),t&&(t=t.toLowerCase()),CustomPropertiesCollection.parentClasses[e]=t},CustomPropertiesCollection.getProperties=function(e){e=e.toLowerCase();for(var t=[],o=CustomPropertiesCollection.properties;e;){var n=o[e];if(n)for(var r=0;r<n.length;r++)t.push(n[r]);e=CustomPropertiesCollection.parentClasses[e]}return t},CustomPropertiesCollection.createProperties=function(e){e&&e.getType&&CustomPropertiesCollection.createPropertiesCore(e,e.getType())},CustomPropertiesCollection.createPropertiesCore=function(e,t){var o=CustomPropertiesCollection.properties;o[t]&&CustomPropertiesCollection.createPropertiesInObj(e,o[t]);var n=CustomPropertiesCollection.parentClasses[t];n&&CustomPropertiesCollection.createPropertiesCore(e,n)},CustomPropertiesCollection.createPropertiesInObj=function(e,t){for(var o=0;o<t.length;o++)CustomPropertiesCollection.createPropertyInObj(e,t[o])},CustomPropertiesCollection.createPropertyInObj=function(e,t){if(!CustomPropertiesCollection.checkIsPropertyExists(e,t.name)&&!(t.serializationProperty&&CustomPropertiesCollection.checkIsPropertyExists(e,t.serializationProperty))){if(t.isLocalizable&&t.serializationProperty&&e.createCustomLocalizableObj){e.createCustomLocalizableObj(t.name).defaultValue=t.defaultValue,Object.defineProperty(e,t.serializationProperty,{get:function(){return e.getLocalizableString(t.name)}});var o={get:function(){return e.getLocalizableStringText(t.name)},set:function(o){e.setLocalizableStringText(t.name,o)}};Object.defineProperty(e,t.name,o)}else{var n=t.defaultValue,r=t.isArray||"multiplevalues"===t.type;if("function"==typeof e.createNewArray&&(eY.isDescendantOf(t.className,"itemvalue")?(e.createNewArray(t.name,function(o){o.locOwner=e,o.ownerPropertyName=t.name}),r=!0):r&&e.createNewArray(t.name),r&&(Array.isArray(n)&&e.setPropertyValue(t.name,n),n=null)),e.getPropertyValue&&e.setPropertyValue){var o={get:function(){return t.onGetValue?t.onGetValue(e):e.getPropertyValue(t.name,n)},set:function(o){t.onSetValue?t.onSetValue(e,o,null):e.setPropertyValue(t.name,o)}};Object.defineProperty(e,t.name,o)}}("condition"===t.type||"expression"===t.type)&&t.onExecuteExpression&&e.addExpressionProperty(t.name,t.onExecuteExpression)}},CustomPropertiesCollection.checkIsPropertyExists=function(e,t){return e.hasOwnProperty(t)||e[t]},CustomPropertiesCollection.properties={},CustomPropertiesCollection.parentClasses={},CustomPropertiesCollection}(),eN=function(){function JsonMetadataClass(e,t,o,n){void 0===o&&(o=null),void 0===n&&(n=null),this.name=e,this.creator=o,this.parentName=n,e=e.toLowerCase(),this.isCustomValue=!o&&"survey"!==e,this.parentName&&(this.parentName=this.parentName.toLowerCase(),eF.addClass(e,this.parentName),o&&this.makeParentRegularClass()),this.properties=[];for(var r=0;r<t.length;r++)this.createProperty(t[r],this.isCustom)}return JsonMetadataClass.prototype.find=function(e){for(var t=0;t<this.properties.length;t++)if(this.properties[t].name==e)return this.properties[t];return null},JsonMetadataClass.prototype.findProperty=function(e){return this.fillAllProperties(),this.hashProperties[e]},JsonMetadataClass.prototype.getAllProperties=function(){return this.fillAllProperties(),this.allProperties},JsonMetadataClass.prototype.getRequiredProperties=function(){if(this.requiredProperties)return this.requiredProperties;this.requiredProperties=[];for(var e=this.getAllProperties(),t=0;t<e.length;t++)e[t].isRequired&&this.requiredProperties.push(e[t]);return this.requiredProperties},JsonMetadataClass.prototype.resetAllProperties=function(){this.allProperties=void 0,this.requiredProperties=void 0,this.hashProperties=void 0;for(var e=eY.getChildrenClasses(this.name),t=0;t<e.length;t++)e[t].resetAllProperties()},Object.defineProperty(JsonMetadataClass.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),JsonMetadataClass.prototype.fillAllProperties=function(){var e=this;if(!this.allProperties){this.allProperties=[],this.hashProperties={};var t={};this.properties.forEach(function(e){return t[e.name]=e});var o=this.parentName?eY.findClass(this.parentName):null;o&&o.getAllProperties().forEach(function(o){var n=t[o.name];n?(n.mergeWith(o),e.addPropCore(n)):e.addPropCore(o)}),this.properties.forEach(function(t){e.hashProperties[t.name]||e.addPropCore(t)})}},JsonMetadataClass.prototype.addPropCore=function(e){this.allProperties.push(e),this.hashProperties[e.name]=e,e.alternativeName&&(this.hashProperties[e.alternativeName]=e)},JsonMetadataClass.prototype.isOverridedProp=function(e){return!!this.parentName&&!!eY.findProperty(this.parentName,e)},JsonMetadataClass.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var e=0;e<this.properties.length;e++)this.properties[e].isCustom=!1;eF.removeAllProperties(this.name),this.makeParentRegularClass()}},JsonMetadataClass.prototype.makeParentRegularClass=function(){if(this.parentName){var e=eY.findClass(this.parentName);e&&e.hasRegularChildClass()}},JsonMetadataClass.prototype.createProperty=function(e,t){void 0===t&&(t=!1);var o="string"==typeof e?e:e.name;if(o){var n=null,r=o.indexOf(JsonMetadataClass.typeSymbol);r>-1&&(n=o.substring(r+1),o=o.substring(0,r));var i=this.getIsPropertyNameRequired(o)||!!e.isRequired;o=this.getPropertyName(o);var s=new eB(this,o,i);if(n&&(s.type=n),"object"==typeof e){if(e.type&&(s.type=e.type),void 0!==e.default&&(s.defaultValue=e.default),void 0!==e.defaultFunc&&(s.defaultValueFunc=e.defaultFunc),eQ.isValueEmpty(e.isSerializable)||(s.isSerializable=e.isSerializable),eQ.isValueEmpty(e.isLightSerializable)||(s.isLightSerializable=e.isLightSerializable),eQ.isValueEmpty(e.maxLength)||(s.maxLength=e.maxLength),void 0!==e.displayName&&(s.displayName=e.displayName),eQ.isValueEmpty(e.category)||(s.category=e.category),eQ.isValueEmpty(e.categoryIndex)||(s.categoryIndex=e.categoryIndex),eQ.isValueEmpty(e.nextToProperty)||(s.nextToProperty=e.nextToProperty),eQ.isValueEmpty(e.overridingProperty)||(s.overridingProperty=e.overridingProperty),eQ.isValueEmpty(e.visibleIndex)||(s.visibleIndex=e.visibleIndex),eQ.isValueEmpty(e.showMode)||(s.showMode=e.showMode),eQ.isValueEmpty(e.maxValue)||(s.maxValue=e.maxValue),eQ.isValueEmpty(e.minValue)||(s.minValue=e.minValue),eQ.isValueEmpty(e.dataList)||(s.dataList=e.dataList),eQ.isValueEmpty(e.isDynamicChoices)||(s.isDynamicChoices=e.isDynamicChoices),eQ.isValueEmpty(e.isBindable)||(s.isBindable=e.isBindable),eQ.isValueEmpty(e.isUnique)||(s.isUnique=e.isUnique),eQ.isValueEmpty(e.uniqueProperty)||(s.uniquePropertyName=e.uniqueProperty),eQ.isValueEmpty(e.isArray)||(s.isArray=e.isArray),(!0===e.visible||!1===e.visible)&&(s.visible=e.visible),e.visibleIf&&(s.visibleIf=e.visibleIf),e.enableIf&&(s.enableIf=e.enableIf),e.onExecuteExpression&&(s.onExecuteExpression=e.onExecuteExpression),e.onPropertyEditorUpdate&&(s.onPropertyEditorUpdate=e.onPropertyEditorUpdate),!0===e.readOnly&&(s.readOnly=!0),!0===e.availableInMatrixColumn&&(s.availableInMatrixColumn=!0),e.choices){var a="function"==typeof e.choices?e.choices:null,l="function"!=typeof e.choices?e.choices:null;s.setChoices(l,a)}e.baseValue&&s.setBaseValue(e.baseValue),e.onSerializeValue&&(s.onSerializeValue=e.onSerializeValue),e.onGetValue&&(s.onGetValue=e.onGetValue),e.onSetValue&&(s.onSetValue=e.onSetValue),e.onSettingValue&&(s.onSettingValue=e.onSettingValue),e.isLocalizable&&(e.serializationProperty="loc"+s.name),e.serializationProperty&&(s.serializationProperty=e.serializationProperty,s.serializationProperty&&0==s.serializationProperty.indexOf("loc")&&(s.isLocalizable=!0)),e.isLocalizable&&(s.isLocalizable=e.isLocalizable),e.className&&(s.className=e.className),e.baseClassName&&(s.baseClassName=e.baseClassName,s.isArray=!0),!0===s.isArray&&(s.isArray=!0),e.classNamePart&&(s.classNamePart=e.classNamePart),e.alternativeName&&(s.alternativeName=e.alternativeName),e.oldName&&(s.oldName=e.oldName),e.layout&&(s.layout=e.layout),e.version&&(s.version=e.version),e.dependsOn&&this.addDependsOnProperties(s,e.dependsOn)}return this.properties.push(s),t&&!this.isOverridedProp(s.name)&&(s.isCustom=!0,eF.addProperty(this.name,s)),s}},JsonMetadataClass.prototype.addDependsOnProperties=function(e,t){var o=Array.isArray(t)?t:[t];e.dependsOn=o;for(var n=0;n<o.length;n++)this.addDependsOnProperty(e,o[n])},JsonMetadataClass.prototype.addDependsOnProperty=function(e,t){var o=this.find(t);o||(o=eY.findProperty(this.parentName,t)),o&&o.addDependedProperty(e.name)},JsonMetadataClass.prototype.getIsPropertyNameRequired=function(e){return e.length>0&&e[0]==JsonMetadataClass.requiredSymbol},JsonMetadataClass.prototype.getPropertyName=function(e){return this.getIsPropertyNameRequired(e)?e=e.slice(1):e},JsonMetadataClass.requiredSymbol="!",JsonMetadataClass.typeSymbol=":",JsonMetadataClass}(),eq=function(){function JsonMetadata(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.dynamicPropsCache={}}return JsonMetadata.prototype.getObjPropertyValue=function(e,t){if(this.isObjWrapper(e)&&this.isNeedUseObjWrapper(e,t)){var o=e.getOriginalObj(),n=eY.findProperty(o.getType(),t);if(n)return this.getObjPropertyValueCore(o,n)}var r=eY.findProperty(e.getType(),t);return r?this.getObjPropertyValueCore(e,r):e[t]},JsonMetadata.prototype.setObjPropertyValue=function(e,t,o){if(e[t]!==o){if(e[t]&&e[t].setJson)e[t].setJson(o,!0);else{if(Array.isArray(o)){for(var n=[],r=0;r<o.length;r++)n.push(o[r]);o=n}e[t]=o}}},JsonMetadata.prototype.getObjPropertyValueCore=function(e,t){if(!t.isSerializable)return e[t.name];if(t.isLocalizable){if(t.isArray)return e[t.name];if(t.serializationProperty)return e[t.serializationProperty].text}return e.getPropertyValue(t.name)},JsonMetadata.prototype.isObjWrapper=function(e){return!!e.getOriginalObj&&!!e.getOriginalObj()},JsonMetadata.prototype.isNeedUseObjWrapper=function(e,t){if(!e.getDynamicProperties)return!0;var o=e.getDynamicProperties();if(!Array.isArray(o))return!1;for(var n=0;n<o.length;n++)if(o[n].name===t)return!0;return!1},JsonMetadata.prototype.addClass=function(e,t,o,n){void 0===o&&(o=null),void 0===n&&(n=null),e=e.toLowerCase();var r=new eN(e,t,o,n);return this.classes[e]=r,n&&(n=n.toLowerCase(),this.childrenClasses[n]||(this.childrenClasses[n]=[]),this.childrenClasses[n].push(r)),r},JsonMetadata.prototype.removeClass=function(e){var t=this.findClass(e);if(t&&(delete this.classes[t.name],t.parentName)){var o=this.childrenClasses[t.parentName].indexOf(t);o>-1&&this.childrenClasses[t.parentName].splice(o,1)}},JsonMetadata.prototype.overrideClassCreatore=function(e,t){this.overrideClassCreator(e,t)},JsonMetadata.prototype.overrideClassCreator=function(e,t){e=e.toLowerCase();var o=this.findClass(e);o&&(o.creator=t)},JsonMetadata.prototype.getProperties=function(e){var t=this.findClass(e);return t?t.getAllProperties():[]},JsonMetadata.prototype.getPropertiesByObj=function(e){var t=e&&e.getType?e.getType():void 0;if(!t)return[];for(var o=this.getProperties(t),n=this.getDynamicPropertiesByObj(e),r=n.length-1;r>=0;r--)this.findProperty(t,n[r].name)&&n.splice(r,1);return 0===n.length?o:[].concat(o).concat(n)},JsonMetadata.prototype.addDynamicPropertiesIntoObj=function(e,t,o){var n=this;o.forEach(function(o){n.addDynamicPropertyIntoObj(e,t,o.name,!1),o.serializationProperty&&n.addDynamicPropertyIntoObj(e,t,o.serializationProperty,!0),o.alternativeName&&n.addDynamicPropertyIntoObj(e,t,o.alternativeName,!1)})},JsonMetadata.prototype.addDynamicPropertyIntoObj=function(e,t,o,n){var r={configurable:!0,get:function(){return t[o]}};n||(r.set=function(e){t[o]=e}),Object.defineProperty(e,o,r)},JsonMetadata.prototype.getDynamicPropertiesByObj=function(e,t){if(void 0===t&&(t=null),!e||!e.getType)return[];if(e.getDynamicProperties)return e.getDynamicProperties();if(!e.getDynamicType&&!t)return[];var o=t||e.getDynamicType();return this.getDynamicPropertiesByTypes(e.getType(),o)},JsonMetadata.prototype.getDynamicPropertiesByTypes=function(e,t,o){if(!t)return[];var n=t+"-"+e;if(this.dynamicPropsCache[n])return this.dynamicPropsCache[n];var r=this.getProperties(t);if(!r||0==r.length)return[];for(var i={},s=this.getProperties(e),a=0;a<s.length;a++)i[s[a].name]=s[a];var l=[];o||(o=[]);for(var u=0;u<r.length;u++){var c=r[u];0>o.indexOf(c.name)&&this.canAddDybamicProp(c,i[c.name])&&l.push(c)}return this.dynamicPropsCache[n]=l,l},JsonMetadata.prototype.canAddDybamicProp=function(e,t){if(!t)return!0;if(e===t)return!1;for(var o=e.classInfo;o&&o.parentName;){if((e=this.findProperty(o.parentName,e.name))&&e===t)return!0;o=e?e.classInfo:void 0}return!1},JsonMetadata.prototype.hasOriginalProperty=function(e,t){return!!this.getOriginalProperty(e,t)},JsonMetadata.prototype.getOriginalProperty=function(e,t){return this.findProperty(e.getType(),t)||(this.isObjWrapper(e)?this.findProperty(e.getOriginalObj().getType(),t):null)},JsonMetadata.prototype.getProperty=function(e,t){var o=this.findProperty(e,t);if(!o)return o;var n=this.findClass(e);if(o.classInfo===n)return o;var r=new eB(n,o.name,o.isRequired);return r.mergeWith(o),r.isArray=o.isArray,n.properties.push(r),n.resetAllProperties(),r},JsonMetadata.prototype.findProperty=function(e,t){var o=this.findClass(e);return o?o.findProperty(t):null},JsonMetadata.prototype.findProperties=function(e,t){var o=[],n=this.findClass(e);if(!n)return o;for(var r=0;r<t.length;r++){var i=n.findProperty(t[r]);i&&o.push(i)}return o},JsonMetadata.prototype.getAllPropertiesByName=function(e){for(var t=[],o=this.getAllClasses(),n=0;n<o.length;n++)for(var r=this.findClass(o[n]),i=0;i<r.properties.length;i++)if(r.properties[i].name==e){t.push(r.properties[i]);break}return t},JsonMetadata.prototype.getAllClasses=function(){var e=[];for(var t in this.classes)e.push(t);return e},JsonMetadata.prototype.createClass=function(e,t){void 0===t&&(t=void 0),e=e.toLowerCase();var o=this.findClass(e);if(!o)return null;if(o.creator)return o.creator(t);for(var n=o.parentName;n&&(o=this.findClass(n));)if(n=o.parentName,o.creator)return this.createCustomType(e,o.creator,t);return null},JsonMetadata.prototype.createCustomType=function(e,t,o){void 0===o&&(o=void 0),e=e.toLowerCase();var n=t(o),r=e,i=n.getTemplate?n.getTemplate():n.getType();return n.getType=function(){return r},n.getTemplate=function(){return i},eF.createProperties(n),n},JsonMetadata.prototype.getChildrenClasses=function(e,t){void 0===t&&(t=!1),e=e.toLowerCase();var o=[];return this.fillChildrenClasses(e,t,o),o},JsonMetadata.prototype.getRequiredProperties=function(e){var t=this.findClass(e);if(!t)return[];for(var o=t.getRequiredProperties(),n=[],r=0;r<o.length;r++)n.push(o[r].name);return n},JsonMetadata.prototype.addProperties=function(e,t){e=e.toLowerCase();for(var o=this.findClass(e),n=0;n<t.length;n++)this.addCustomPropertyCore(o,t[n])},JsonMetadata.prototype.addProperty=function(e,t){return this.addCustomPropertyCore(this.findClass(e),t)},JsonMetadata.prototype.addCustomPropertyCore=function(e,t){if(!e)return null;var o=e.createProperty(t,!0);return o&&(this.clearDynamicPropsCache(e),e.resetAllProperties()),o},JsonMetadata.prototype.removeProperty=function(e,t){var o=this.findClass(e);if(!o)return!1;var n=o.find(t);n&&(this.clearDynamicPropsCache(o),this.removePropertyFromClass(o,n),o.resetAllProperties(),eF.removeProperty(o.name,t))},JsonMetadata.prototype.clearDynamicPropsCache=function(e){this.dynamicPropsCache={}},JsonMetadata.prototype.removePropertyFromClass=function(e,t){var o=e.properties.indexOf(t);o<0||e.properties.splice(o,1)},JsonMetadata.prototype.fillChildrenClasses=function(e,t,o){var n=this.childrenClasses[e];if(n)for(var r=0;r<n.length;r++)(!t||n[r].creator)&&o.push(n[r]),this.fillChildrenClasses(n[r].name,t,o)},JsonMetadata.prototype.findClass=function(e){e=e.toLowerCase();var t=this.classes[e];if(!t){var o=this.alternativeNames[e];if(o&&o!=e)return this.findClass(o)}return t},JsonMetadata.prototype.isDescendantOf=function(e,t){if(!e||!t)return!1;e=e.toLowerCase(),t=t.toLowerCase();var o=this.findClass(e);if(!o)return!1;var n=o;do{if(n.name===t)return!0;n=this.classes[n.parentName]}while(!!n);return!1},JsonMetadata.prototype.addAlterNativeClassName=function(e,t){this.alternativeNames[t.toLowerCase()]=e.toLowerCase()},JsonMetadata.prototype.generateSchema=function(e){void 0===e&&(e=void 0),e||(e="survey");var t=this.findClass(e);if(!t)return null;var o={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(t,o,o.definitions,!0),o},JsonMetadata.prototype.generateLocStrClass=function(){var e={},t=eY.findProperty("survey","locale");if(t){var o=t.getChoices(null);Array.isArray(o)&&(0>o.indexOf("en")&&o.splice(0,0,"en"),o.splice(0,0,"default"),o.forEach(function(t){t&&(e[t]={type:"string"})}))}return{$id:"locstring",type:"object",properties:e}},JsonMetadata.prototype.generateSchemaProperties=function(e,t,o,n){if(e){var r=t.properties,i=[];("question"===e.name||"panel"===e.name)&&(r.type={type:"string"},i.push("type"));for(var s=0;s<e.properties.length;s++){var a=e.properties[s];!(e.parentName&&eY.findProperty(e.parentName,a.name))&&(r[a.name]=this.generateSchemaProperty(a,o,n),a.isRequired&&i.push(a.name))}i.length>0&&(t.required=i)}},JsonMetadata.prototype.generateSchemaProperty=function(e,t,o){if(e.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",o)}]};var n=e.schemaType(),r=e.schemaRef(),i={};if(n&&(i.type=n),e.hasChoices){var s=e.getChoices(null);Array.isArray(s)&&s.length>0&&(i.enum=this.getChoicesValues(s))}if(r&&("array"===n?"string"===e.className?i.items={type:e.className}:i.items={$ref:this.getChemeRefName(e.className,o)}:i.$ref=this.getChemeRefName(r,o),this.generateChemaClass(e.className,t,!1)),e.baseClassName){var a=this.getChildrenClasses(e.baseClassName,!0);"question"==e.baseClassName&&a.push(this.findClass("panel")),i.items={anyOf:[]};for(var l=0;l<a.length;l++){var u=a[l].name;i.items.anyOf.push({$ref:this.getChemeRefName(u,o)}),this.generateChemaClass(u,t,!1)}}return i},JsonMetadata.prototype.getChemeRefName=function(e,t){return t?"#/definitions/"+e:e},JsonMetadata.prototype.generateChemaClass=function(e,t,o){if(!t[e]){var n=this.findClass(e);if(n){var r=!!n.parentName&&"base"!=n.parentName;r&&this.generateChemaClass(n.parentName,t,o);var i={type:"object",$id:e};t[e]=i;var s={properties:{}};this.generateSchemaProperties(n,s,t,o),r?i.allOf=[{$ref:this.getChemeRefName(n.parentName,o)},{properties:s.properties}]:i.properties=s.properties,Array.isArray(s.required)&&(i.required=s.required)}}},JsonMetadata.prototype.getChoicesValues=function(e){var t=[];return e.forEach(function(e){"object"==typeof e&&void 0!==e.value?t.push(e.value):t.push(e)}),t},JsonMetadata}(),eH=function(){function JsonError(e,t){this.type=e,this.message=t,this.description="",this.at=-1,this.end=-1}return JsonError.prototype.getFullDescription=function(){return this.message+(this.description?"\n"+this.description:"")},JsonError}(),ez=function(e){function JsonUnknownPropertyError(t,o){var n=e.call(this,"unknownproperty","Unknown property in class '"+o+"': '"+t+"'.")||this;return n.propertyName=t,n.className=o,n}return ej(JsonUnknownPropertyError,e),JsonUnknownPropertyError}(eH),eU=function(e){function JsonMissingTypeErrorBase(t,o,n){var r=e.call(this,o,n)||this;return r.baseClassName=t,r.type=o,r.message=n,r}return ej(JsonMissingTypeErrorBase,e),JsonMissingTypeErrorBase}(eH),eW=function(e){function JsonMissingTypeError(t,o){var n=e.call(this,o,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+t+"'.")||this;return n.propertyName=t,n.baseClassName=o,n}return ej(JsonMissingTypeError,e),JsonMissingTypeError}(eU),eJ=function(e){function JsonIncorrectTypeError(t,o){var n=e.call(this,o,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+t+"'.")||this;return n.propertyName=t,n.baseClassName=o,n}return ej(JsonIncorrectTypeError,e),JsonIncorrectTypeError}(eU),e$=function(e){function JsonRequiredPropertyError(t,o){var n=e.call(this,"requiredproperty","The property '"+t+"' is required in class '"+o+"'.")||this;return n.propertyName=t,n.className=o,n}return ej(JsonRequiredPropertyError,e),JsonRequiredPropertyError}(eH),eG=function(e){function JsonRequiredArrayPropertyError(t,o){var n=e.call(this,"arrayproperty","The property '"+t+"' should be an array in '"+o+"'.")||this;return n.propertyName=t,n.className=o,n}return ej(JsonRequiredArrayPropertyError,e),JsonRequiredArrayPropertyError}(eH),eZ=function(e){function JsonIncorrectPropertyValueError(t,o){var n=e.call(this,"incorrectvalue","The property value: '"+o+"' is incorrect for property '"+t.name+"'.")||this;return n.property=t,n.value=o,n}return ej(JsonIncorrectPropertyValueError,e),JsonIncorrectPropertyValueError}(eH),eK=function(){function JsonObject(){this.errors=[],this.lightSerializing=!1}return Object.defineProperty(JsonObject,"metaData",{get:function(){return JsonObject.metaDataValue},enumerable:!1,configurable:!0}),JsonObject.prototype.toJsonObject=function(e,t){return this.toJsonObjectCore(e,null,t)},JsonObject.prototype.toObject=function(e,t,o){this.toObjectCore(e,t,o);var n=this.getRequiredError(t,e);n&&this.addNewError(n,e,t)},JsonObject.prototype.toObjectCore=function(e,t,o){if(e){var n=null,r=void 0,i=!0;if(t.getType&&(r=t.getType(),n=eY.getProperties(r),i=!!r&&!eY.isDescendantOf(r,"itemvalue")),n){t.startLoadingFromJson&&t.startLoadingFromJson(e),n=this.addDynamicProperties(t,e,n),this.options=o;var s={};s[JsonObject.typePropertyName]=!0;var a={};for(var l in e)this.setPropertyValueToObj(e,t,l,n,s,a,r,i,o);this.options=void 0,t.endLoadingFromJson&&t.endLoadingFromJson()}}},JsonObject.prototype.setPropertyValueToObj=function(e,t,o,n,r,i,s,a,l){var u=this;if(!r[o]){if(o===JsonObject.positionPropertyName){t[o]=e[o];return}var c=this.findProperty(n,o);if(!c&&a&&this.addNewError(new ez(o.toString(),s),e,t),c){var p=c.dependsOn;Array.isArray(p)&&(i[o]=!0,p.forEach(function(o){i[o]||u.setPropertyValueToObj(e,t,o,n,r,i,s,!1,l)})),this.valueToObj(e[o],t,c,e,l),r[o]=!0}}},JsonObject.prototype.toJsonObjectCore=function(e,t,o){if(!e||!e.getType)return e;if(!e.isSurvey&&"function"==typeof e.getData)return e.getData();var n={};null==t||t.className||(n[JsonObject.typePropertyName]=t.getObjType(e.getType()));var r=!0===o;return o&&!0!==o||(o={}),r&&(o.storeDefaults=r),this.propertiesToJson(e,eY.getProperties(e.getType()),n,o),this.propertiesToJson(e,this.getDynamicProperties(e),n,o),n},JsonObject.prototype.getDynamicProperties=function(e){return eY.getDynamicPropertiesByObj(e)},JsonObject.prototype.addDynamicProperties=function(e,t,o){if(!e.getDynamicPropertyName&&!e.getDynamicProperties)return o;if(e.getDynamicPropertyName){var n=e.getDynamicPropertyName();if(!n)return o;n&&t[n]&&(e[n]=t[n])}var r=this.getDynamicProperties(e);return 0===r.length?o:[].concat(o).concat(r)},JsonObject.prototype.propertiesToJson=function(e,t,o,n){for(var r=0;r<t.length;r++)this.valueToJson(e,o,t[r],n)},JsonObject.prototype.valueToJson=function(e,t,o,n){n||(n={}),!1!==o.isSerializable&&(!1!==o.isLightSerializable||!this.lightSerializing)&&(!n.version||o.isAvailableInVersion(n.version))&&this.valueToJsonCore(e,t,o,n)},JsonObject.prototype.valueToJsonCore=function(e,t,o,n){var r=o.getSerializedProperty(e,n.version);if(r&&r!==o){this.valueToJsonCore(e,t,r,n);return}var i=o.getSerializableValue(e,n.storeDefaults);if(void 0!==i){if(this.isValueArray(i)){for(var s=[],a=0;a<i.length;a++)s.push(this.toJsonObjectCore(i[a],o,n));i=s.length>0?s:null}else i=this.toJsonObjectCore(i,o,n);if(null!=i){var l=o.getSerializedName(n.version),u="function"==typeof e.getPropertyValue&&null!==e.getPropertyValue(l,null);(!n.storeDefaults||!u)&&o.isDefaultValueByObj(e,i)||eY.onSerializingProperty&&eY.onSerializingProperty(e,o,i,t)||(t[l]=this.removePosOnValueToJson(o,i))}}},JsonObject.prototype.valueToObj=function(e,t,o,n,r){if(null!=e){if(this.removePos(o,e),null!=o&&o.hasToUseSetValue){o.setValue(t,e,this);return}if(o.isArray&&!Array.isArray(e)&&e){e=[e];var i=n&&o.alternativeName&&n[o.alternativeName]?o.alternativeName:o.name;this.addNewError(new eG(i,t.getType()),n||e,t)}if(this.isValueArray(e)){this.valueToArray(e,t,o.name,o,r);return}var s=this.createNewObj(e,o);s.newObj&&(this.toObjectCore(e,s.newObj,r),e=s.newObj),!s.error&&(null!=o?(o.setValue(t,e,this),r&&r.validatePropertyValues&&!o.validateValue(e)&&this.addNewError(new eZ(o,e),n,t)):t[o.name]=e)}},JsonObject.prototype.removePosOnValueToJson=function(e,t){return e.isCustom&&t&&this.removePosFromObj(t),t},JsonObject.prototype.removePos=function(e,t){!e||!e.type||0>e.type.indexOf("value")||this.removePosFromObj(t)},JsonObject.prototype.removePosFromObj=function(e){if(e&&"function"!=typeof e.getType){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.removePosFromObj(e[t]);if("object"==typeof e)for(var o in e[JsonObject.positionPropertyName]&&delete e[JsonObject.positionPropertyName],e)this.removePosFromObj(e[o])}},JsonObject.prototype.isValueArray=function(e){return e&&Array.isArray(e)},JsonObject.prototype.createNewObj=function(e,t){var o={newObj:null,error:null},n=this.getClassNameForNewObj(e,t);return o.newObj=n?eY.createClass(n,e):null,o.error=this.checkNewObjectOnErrors(o.newObj,e,t,n),o},JsonObject.prototype.getClassNameForNewObj=function(e,t){var o=null!=t&&t.className?t.className:void 0;if(o||(o=e[JsonObject.typePropertyName]),!o)return o;o=o.toLowerCase();var n=t.classNamePart;return n&&0>o.indexOf(n)&&(o+=n),o},JsonObject.prototype.checkNewObjectOnErrors=function(e,t,o,n){var r=null;return e?r=this.getRequiredError(e,t):o.baseClassName&&(r=n?new eJ(o.name,o.baseClassName):new eW(o.name,o.baseClassName)),r&&this.addNewError(r,t,e),r},JsonObject.prototype.getRequiredError=function(e,t){if(!e.getType||"function"==typeof e.getData)return null;var o=eY.findClass(e.getType());if(!o)return null;var n=o.getRequiredProperties();if(!Array.isArray(n))return null;for(var r=0;r<n.length;r++){var i=n[r];if(eQ.isValueEmpty(i.defaultValue)&&!t[i.name])return new e$(i.name,e.getType())}return null},JsonObject.prototype.addNewError=function(e,t,o){if(e.jsonObj=t,e.element=o,this.errors.push(e),t){var n=t[JsonObject.positionPropertyName];n&&(e.at=n.start,e.end=n.end)}},JsonObject.prototype.valueToArray=function(e,t,o,n,r){if(!t[o]||this.isValueArray(t[o])){t[o]&&e.length>0&&t[o].splice(0,t[o].length);var i=t[o]?t[o]:[];this.addValuesIntoArray(e,i,n,r),t[o]||(t[o]=i)}},JsonObject.prototype.addValuesIntoArray=function(e,t,o,n){for(var r=0;r<e.length;r++){var i=this.createNewObj(e[r],o);i.newObj?(e[r].name&&(i.newObj.name=e[r].name),e[r].valueName&&(i.newObj.valueName=e[r].valueName.toString()),t.push(i.newObj),this.toObjectCore(e[r],i.newObj,n)):i.error||t.push(e[r])}},JsonObject.prototype.findProperty=function(e,t){if(!e)return null;for(var o=0;o<e.length;o++){var n=e[o];if(n.name==t||n.alternativeName==t)return n}return null},JsonObject.typePropertyName="type",JsonObject.positionPropertyName="pos",JsonObject.metaDataValue=new eq,JsonObject}(),eY=eK.metaData,eX="@survey",e1=function(){function ProcessValue(){this.values=null,this.properties=null,this.asyncValues={}}return ProcessValue.prototype.getFirstName=function(e,t){if(void 0===t&&(t=null),!e)return e;var o="";if(t&&(o=this.getFirstPropertyName(e,t)))return o;for(var n=0;n<e.length;n++){var r=e[n];if("."==r||"["==r)break;o+=r}return o},ProcessValue.prototype.hasValue=function(e,t){return void 0===t&&(t=null),t||(t=this.values),this.getValueCore(e,t).hasValue},ProcessValue.prototype.getValue=function(e,t){return void 0===t&&(t=null),t||(t=this.values),this.getValueCore(e,t).value},ProcessValue.prototype.setValue=function(e,t,o){if(t){var n=this.getNonNestedObject(e,t,!0);n&&(e=n.value,t=n.text,e&&t&&(e[t]=o))}},ProcessValue.prototype.getValueInfo=function(e){if(e.path){e.value=this.getValueFromPath(e.path,this.values),e.hasValue=null!==e.value&&!eQ.isValueEmpty(e.value),!e.hasValue&&e.path.length>1&&"length"==e.path[e.path.length-1]&&(e.hasValue=!0,e.value=0);return}var t=this.getValueCore(e.name,this.values);e.value=t.value,e.hasValue=t.hasValue,e.path=t.hasValue?t.path:null,e.sctrictCompare=t.sctrictCompare},ProcessValue.prototype.isAnyKeyChanged=function(e,t){for(var o=0;o<t.length;o++){var n=t[o];if(n){var r=n.toLowerCase();if(e.hasOwnProperty(n)||n!==r&&e.hasOwnProperty(r))return!0;var i=this.getFirstName(n);if(e.hasOwnProperty(i)){if(n===i)return!0;var s=e[i];if(void 0!=s){if(!s.hasOwnProperty("oldValue")||!s.hasOwnProperty("newValue"))return!0;var a={};a[i]=s.oldValue;var l=this.getValue(n,a);a[i]=s.newValue;var u=this.getValue(n,a);if(!eQ.isTwoValueEquals(l,u,!1,!1,!1))return!0}}}}return!1},ProcessValue.prototype.getValueFromPath=function(e,t){if(2===e.length&&e[0]===eX)return this.getValueFromSurvey(e[1]);for(var o=0;t&&o<e.length;){var n=e[o];if(eQ.isNumber(n)&&Array.isArray(t)&&n>=t.length)return null;t=t[n],o++}return t},ProcessValue.prototype.getValueCore=function(e,t){var o=this.getQuestionDirectly(e);if(o)return{hasValue:!0,value:o.value,path:[e],sctrictCompare:o.requireStrictCompare};var n=this.getValueFromValues(e,t);if(e&&!n.hasValue){var r=this.getValueFromSurvey(e);void 0!==r&&(n.hasValue=!0,n.value=r,n.path=[eX,e])}return n},ProcessValue.prototype.getQuestionDirectly=function(e){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(e)},ProcessValue.prototype.getValueFromSurvey=function(e){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(e.toLocaleLowerCase())},ProcessValue.prototype.getValueFromValues=function(e,t){var o={hasValue:!1,value:null,path:null};if(!t&&0!==t&&!1!==t)return o;e&&e.lastIndexOf(".length")>-1&&e.lastIndexOf(".length")===e.length-7&&(o.value=0,o.hasValue=!0);var n=this.getNonNestedObject(t,e,!1);return n&&(o.path=n.path,o.value=n.text?this.getObjectValue(n.value,n.text):n.value,o.hasValue=!eQ.isValueEmpty(o.value)),o},ProcessValue.prototype.getNonNestedObject=function(e,t,o){for(var n=[],r=0,i=this.getNonNestedObjectCore(e,t,o,n);!i&&r<n.length;)r=n.length,i=this.getNonNestedObjectCore(e,t,o,n);return i},ProcessValue.prototype.getNonNestedObjectCore=function(e,t,o,n){var r=this.getFirstPropertyName(t,e,o,n);r&&n.push(r);for(var i=r?[r]:null;t!=r&&e;){if("["==t[0]){var s=this.getObjInArray(e,t);if(!s)return null;e=s.value,t=s.text,i.push(s.index)}else{if(!r&&t==this.getFirstName(t))return{value:e,text:t,path:i};if(e=this.getObjectValue(e,r),eQ.isValueEmpty(e)&&!o)return null;t=t.substring(r.length)}t&&"."==t[0]&&(t=t.substring(1)),(r=this.getFirstPropertyName(t,e,o,n))&&i.push(r)}return{value:e,text:t,path:i}},ProcessValue.prototype.getObjInArray=function(e,t){if(!Array.isArray(e))return null;for(var o=1,n="";o<t.length&&"]"!=t[o];)n+=t[o],o++;return(t=o<t.length?t.substring(o+1):"",(o=this.getIntValue(n))<0||o>=e.length)?null:{value:e[o],text:t,index:o}},ProcessValue.prototype.getFirstPropertyName=function(e,t,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=void 0),!e||(t||(t={}),t.hasOwnProperty(e)))return e;var r=e.toLowerCase(),i=r[0],s=i.toUpperCase();for(var a in t)if(!(Array.isArray(n)&&n.indexOf(a)>-1)){var l=a[0];if(l===s||l===i){var u=a.toLowerCase();if(u==r)return a;if(r.length<=u.length)continue;var c=r[u.length];if("."!=c&&"["!=c)continue;if(u==r.substring(0,u.length))return a}}if(o&&"["!==e[0]){var p=e.indexOf(".");return p>-1&&(t[e=e.substring(0,p)]={}),e}return""},ProcessValue.prototype.getObjectValue=function(e,t){return t?e[t]:null},ProcessValue.prototype.getIntValue=function(e){return"0"==e||(0|e)>0&&e%1==0?Number(e):-1},ProcessValue}(),e0=function(){function ConsoleWarnings(){}return ConsoleWarnings.disposedObjectChangedProperty=function(e,t){ConsoleWarnings.warn('An attempt to set a property "'+e+'" of a disposed object "'+t+'"')},ConsoleWarnings.inCorrectQuestionValue=function(e,t){var o=JSON.stringify(t,null,3);ConsoleWarnings.warn("An attempt to assign an incorrect value"+o+' to the following question: "'+e+'"')},ConsoleWarnings.warn=function(e){console.warn(e)},ConsoleWarnings.error=function(e){console.error(e)},ConsoleWarnings}(),e2=function(){function FunctionFactory(){this.functionHash={},this.isAsyncHash={}}return FunctionFactory.prototype.register=function(e,t,o){void 0===o&&(o=!1),this.functionHash[e]=t,o&&(this.isAsyncHash[e]=!0)},FunctionFactory.prototype.unregister=function(e){delete this.functionHash[e],delete this.isAsyncHash[e]},FunctionFactory.prototype.hasFunction=function(e){return!!this.functionHash[e]},FunctionFactory.prototype.isAsyncFunction=function(e){return!!this.isAsyncHash[e]},FunctionFactory.prototype.clear=function(){this.functionHash={}},FunctionFactory.prototype.getAll=function(){var e=[];for(var t in this.functionHash)e.push(t);return e.sort()},FunctionFactory.prototype.run=function(e,t,o,n){void 0===o&&(o=null);var r=this.functionHash[e];if(!r)return e0.warn("Unknown function name: "+e),null;var i={func:r};if(o)for(var s in o)i[s]=o[s];return i.func(t,n)},FunctionFactory.Instance=new FunctionFactory,FunctionFactory}(),e5=e2.Instance.register;function getParamsAsArray(e,t){if(null!=e){if(Array.isArray(e))for(var o=0;o<e.length;o++)getParamsAsArray(e[o],t);else eQ.isNumber(e)&&(e=eQ.getNumber(e)),t.push(e)}}function sum(e){var t=[];getParamsAsArray(e,t);for(var o=0,n=0;n<t.length;n++)o=eQ.correctAfterPlusMinis(o,t[n],o+t[n]);return o}function min_max(e,t){var o=[];getParamsAsArray(e,o);for(var n=void 0,r=0;r<o.length;r++)void 0===n&&(n=o[r]),t?n>o[r]&&(n=o[r]):n<o[r]&&(n=o[r]);return n}function processItemInArray(e,t,o,n,r,i){var s;return!e||eQ.isValueEmpty(e[t])||i&&!i.run(e)?o:n(o,r?"string"==typeof(s=e[t])?eQ.isNumber(s)?eQ.getNumber(s):void 0:s:1)}function calcInArray(e,t,o,n){void 0===n&&(n=!0);var r=function(e,t){if(e.length<2||e.length>3)return null;var o=e[0];if(!o||!Array.isArray(o)&&!Array.isArray(Object.keys(o)))return null;var n=e[1];if("string"!=typeof n&&!(n instanceof String))return null;var r=e.length>2?e[2]:void 0;if("string"==typeof r||r instanceof String||(r=void 0),!r){var i=Array.isArray(t)&&t.length>2?t[2]:void 0;i&&i.toString()&&(r=i.toString())}return{data:o,name:n,expression:r}}(e,t);if(r){var i=r.expression?new tc(r.expression):void 0;i&&i.isAsync&&(i=void 0);var s=void 0;if(Array.isArray(r.data))for(var a=0;a<r.data.length;a++)s=processItemInArray(r.data[a],r.name,s,o,n,i);else for(var l in r.data)s=processItemInArray(r.data[l],r.name,s,o,n,i);return s}}function sumInArray(e,t){var o=calcInArray(e,t,function(e,t){return(void 0==e&&(e=0),void 0==t||null==t)?e:eQ.correctAfterPlusMinis(e,t,e+t)});return void 0!==o?o:0}function countInArray(e,t){var o=calcInArray(e,t,function(e,t){return(void 0==e&&(e=0),void 0==t||null==t)?e:e+1},!1);return void 0!==o?o:0}function dateDiffMonths(e,t,o){if("days"===o)return diffDays([e,t]);var n=e?new Date(e):new Date,r=t?new Date(t):new Date,i=r.getFullYear()-n.getFullYear();o=o||"years";var s=12*i+r.getMonth()-n.getMonth();return r.getDate()<n.getDate()&&(s-=1),"months"===o?s:~~(s/12)}function isContainerReadyCore(e){if(!e)return!1;for(var t=e.questions,o=0;o<t.length;o++)if(!t[o].validate(!1))return!1;return!0}function today(e){var t=new Date;return t0.localization.useLocalTimeZone?t.setHours(0,0,0,0):t.setUTCHours(0,0,0,0),Array.isArray(e)&&1==e.length&&t.setDate(t.getDate()+e[0]),t}function diffDays(e){if(!Array.isArray(e)||2!==e.length||!e[0]||!e[1])return 0;var t=new Date(e[0]);return Math.ceil(Math.abs(new Date(e[1])-t)/864e5)}function dateFromFirstParameterOrToday(e){var t=today(void 0);return e&&e[0]&&(t=new Date(e[0])),t}function getQuestionValueByContext(e,t){if(e&&t){for(var o=e.question;o&&o.parent;){var n=o.parent.getQuestionByName(t);if(n)return n;o=o.parentQuestion}for(var r=["row","panel","survey"],i=0;i<r.length;i++){var s=e[r[i]];if(s&&s.getQuestionByName){var n=s.getQuestionByName(t);if(n)return n}}return null}}function getDisplayValueReturnResult(e,t){return t.length>1&&!eQ.isValueEmpty(t[1])?e.getDisplayValue(!0,t[1]):e.displayValue}e2.Instance.register("sum",sum),e2.Instance.register("min",function(e){return min_max(e,!0)}),e2.Instance.register("max",function(e){return min_max(e,!1)}),e2.Instance.register("count",function(e){var t=[];return getParamsAsArray(e,t),t.length}),e2.Instance.register("avg",function(e){var t=[];getParamsAsArray(e,t);var o=sum(e);return t.length>0?o/t.length:0}),e2.Instance.register("sumInArray",sumInArray),e2.Instance.register("minInArray",function(e,t){return calcInArray(e,t,function(e,t){return void 0==e?t:void 0==t||null==t?e:e<t?e:t})}),e2.Instance.register("maxInArray",function(e,t){return calcInArray(e,t,function(e,t){return void 0==e?t:void 0==t||null==t?e:e>t?e:t})}),e2.Instance.register("countInArray",countInArray),e2.Instance.register("avgInArray",function(e,t){var o=countInArray(e,t);return 0==o?0:sumInArray(e,t)/o}),e2.Instance.register("iif",function(e){return e||3===e.length?e[0]?e[1]:e[2]:""}),e2.Instance.register("getDate",function(e){return(e||!(e.length<1))&&e[0]?new Date(e[0]):null}),e2.Instance.register("age",function(e){return Array.isArray(e)&&!(e.length<1)&&e[0]?dateDiffMonths(e[0],void 0,(e.length>1?e[1]:"")||"years"):null}),e2.Instance.register("dateDiff",function(e){return Array.isArray(e)&&!(e.length<2)&&e[0]&&e[1]?dateDiffMonths(e[0],e[1],(e.length>2?e[2]:"")||"days"):null}),e2.Instance.register("isContainerReady",function(e){if(!e&&e.length<1||!e[0]||!this.survey)return!1;var t=e[0],o=this.survey.getPageByName(t);if(o||(o=this.survey.getPanelByName(t)),!o){var n=this.survey.getQuestionByName(t);if(!n||!Array.isArray(n.panels))return!1;if(e.length>1)e[1]<n.panels.length&&(o=n.panels[e[1]]);else{for(var r=0;r<n.panels.length;r++)if(!isContainerReadyCore(n.panels[r]))return!1;return!0}}return isContainerReadyCore(o)}),e2.Instance.register("isDisplayMode",function(){return this.survey&&this.survey.isDisplayMode}),e2.Instance.register("currentDate",function(){return new Date}),e2.Instance.register("today",today),e2.Instance.register("getYear",function(e){if(1===e.length&&e[0])return new Date(e[0]).getFullYear()}),e2.Instance.register("currentYear",function(){return new Date().getFullYear()}),e2.Instance.register("diffDays",diffDays),e2.Instance.register("year",function(e){return dateFromFirstParameterOrToday(e).getFullYear()}),e2.Instance.register("month",function(e){return dateFromFirstParameterOrToday(e).getMonth()+1}),e2.Instance.register("day",function(e){return dateFromFirstParameterOrToday(e).getDate()}),e2.Instance.register("weekday",function(e){return dateFromFirstParameterOrToday(e).getDay()}),e2.Instance.register("displayValue",function(e){var t=this,o=getQuestionValueByContext(this,e[0]);if(!o)return"";if(o.isReady)this.returnResult(getDisplayValueReturnResult(o,e));else{var displayValueOnReadyChanged_1=function(o,n){o.isReady&&(o.onReadyChanged.remove(displayValueOnReadyChanged_1),t.returnResult(getDisplayValueReturnResult(o,e)))};o.onReadyChanged.add(displayValueOnReadyChanged_1)}},!0),e2.Instance.register("propertyValue",function(e){if(2===e.length&&e[0]&&e[1]){var t=getQuestionValueByContext(this,e[0]);return t?t[e[1]]:void 0}}),e2.Instance.register("substring",function(e){if(e.length<2)return"";var t=e[0];if(!t||"string"!=typeof t)return"";var o=e[1];if(!eQ.isNumber(o))return"";var n=e.length>2?e[2]:void 0;return eQ.isNumber(n)?t.substring(o,n):t.substring(o)});var e7=(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),e4=function(){function Operand(){this._id=Operand.counter++}return Object.defineProperty(Operand.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Operand.prototype.toString=function(e){return void 0===e&&(e=void 0),""},Operand.prototype.hasFunction=function(){return!1},Operand.prototype.hasAsyncFunction=function(){return!1},Operand.prototype.addToAsyncList=function(e){},Operand.prototype.isEqual=function(e){return!!e&&e.getType()===this.getType()&&this.isContentEqual(e)},Operand.prototype.areOperatorsEquals=function(e,t){return!e&&!t||!!e&&e.isEqual(t)},Operand.counter=1,Operand}(),e9=function(e){function BinaryOperand(t,o,n,r){void 0===o&&(o=null),void 0===n&&(n=null),void 0===r&&(r=!1);var i=e.call(this)||this;return i.operatorName=t,i.left=o,i.right=n,i.isArithmeticValue=r,r?i.consumer=to.binaryFunctions.arithmeticOp(t):i.consumer=to.binaryFunctions[t],null==i.consumer&&to.throwInvalidOperatorError(t),i}return e7(BinaryOperand,e),Object.defineProperty(BinaryOperand.prototype,"requireStrictCompare",{get:function(){return this.getIsOperandRequireStrict(this.left)||this.getIsOperandRequireStrict(this.right)},enumerable:!1,configurable:!0}),BinaryOperand.prototype.getIsOperandRequireStrict=function(e){return!!e&&e.requireStrictCompare},BinaryOperand.prototype.getType=function(){return"binary"},Object.defineProperty(BinaryOperand.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(BinaryOperand.prototype,"isConjunction",{get:function(){return"or"==this.operatorName||"and"==this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(BinaryOperand.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(BinaryOperand.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(BinaryOperand.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(BinaryOperand.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),BinaryOperand.prototype.isContentEqual=function(e){return e.operator===this.operator&&this.areOperatorsEquals(this.left,e.left)&&this.areOperatorsEquals(this.right,e.right)},BinaryOperand.prototype.evaluateParam=function(e,t){return null==e?null:e.evaluate(t)},BinaryOperand.prototype.evaluate=function(e){return this.consumer.call(this,this.evaluateParam(this.left,e),this.evaluateParam(this.right,e),this.requireStrictCompare)},BinaryOperand.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return"("+to.safeToString(this.left,e)+" "+to.operatorToString(this.operatorName)+" "+to.safeToString(this.right,e)+")"},BinaryOperand.prototype.setVariables=function(e){null!=this.left&&this.left.setVariables(e),null!=this.right&&this.right.setVariables(e)},BinaryOperand.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},BinaryOperand.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},BinaryOperand.prototype.addToAsyncList=function(e){this.left&&this.left.addToAsyncList(e),this.right&&this.right.addToAsyncList(e)},BinaryOperand}(e4),e3=function(e){function UnaryOperand(t,o){var n=e.call(this)||this;return n.expressionValue=t,n.operatorName=o,n.consumer=to.unaryFunctions[o],null==n.consumer&&to.throwInvalidOperatorError(o),n}return e7(UnaryOperand,e),Object.defineProperty(UnaryOperand.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(UnaryOperand.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),UnaryOperand.prototype.getType=function(){return"unary"},UnaryOperand.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return to.operatorToString(this.operatorName)+" "+this.expression.toString(e)},UnaryOperand.prototype.isContentEqual=function(e){return e.operator==this.operator&&this.areOperatorsEquals(this.expression,e.expression)},UnaryOperand.prototype.hasFunction=function(){return this.expression.hasFunction()},UnaryOperand.prototype.hasAsyncFunction=function(){return this.expression.hasAsyncFunction()},UnaryOperand.prototype.addToAsyncList=function(e){this.expression.addToAsyncList(e)},UnaryOperand.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return this.consumer.call(this,t)},UnaryOperand.prototype.setVariables=function(e){this.expression.setVariables(e)},UnaryOperand}(e4),e6=function(e){function ArrayOperand(t){var o=e.call(this)||this;return o.values=t,o}return e7(ArrayOperand,e),ArrayOperand.prototype.getType=function(){return"array"},ArrayOperand.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return"["+this.values.map(function(t){return t.toString(e)}).join(", ")+"]"},ArrayOperand.prototype.evaluate=function(e){return this.values.map(function(t){return t.evaluate(e)})},ArrayOperand.prototype.setVariables=function(e){this.values.forEach(function(t){t.setVariables(e)})},ArrayOperand.prototype.hasFunction=function(){return this.values.some(function(e){return e.hasFunction()})},ArrayOperand.prototype.hasAsyncFunction=function(){return this.values.some(function(e){return e.hasAsyncFunction()})},ArrayOperand.prototype.addToAsyncList=function(e){this.values.forEach(function(t){return t.addToAsyncList(e)})},ArrayOperand.prototype.isContentEqual=function(e){if(e.values.length!==this.values.length)return!1;for(var t=0;t<this.values.length;t++)if(!e.values[t].isEqual(this.values[t]))return!1;return!0},ArrayOperand}(e4),e8=function(e){function Const(t){var o=e.call(this)||this;return o.value=t,o}return e7(Const,e),Const.prototype.getType=function(){return"const"},Const.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return this.value.toString()},Object.defineProperty(Const.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(Const.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),Const.prototype.evaluate=function(){return this.getCorrectValue(this.value)},Const.prototype.setVariables=function(e){},Const.prototype.getCorrectValue=function(e){if(!e||"string"!=typeof e)return e;if(to.isBooleanValue(e))return"true"===e.toLowerCase();if(e.length>1&&this.isQuote(e[0])&&this.isQuote(e[e.length-1]))return e.substring(1,e.length-1);if(eQ.isNumber(e)){if("0"===e[0]&&0!=e.indexOf("0x")){var t=e.length,o=t>1&&("."===e[1]||","===e[1]);if(!o&&t>1||o&&t<2)return e}return eQ.getNumber(e)}return e},Const.prototype.isContentEqual=function(e){return e.value==this.value},Const.prototype.isQuote=function(e){return"'"==e||'"'==e},Const}(e4),te=function(e){function Variable(t){var o=e.call(this,t)||this;return o.variableName=t,o.valueInfo={},o.useValueAsItIs=!1,o.variableName&&o.variableName.length>1&&o.variableName[0]===Variable.DisableConversionChar&&(o.variableName=o.variableName.substring(1),o.useValueAsItIs=!0),o}return e7(Variable,e),Object.defineProperty(Variable,"DisableConversionChar",{get:function(){return t0.expressionDisableConversionChar},set:function(e){t0.expressionDisableConversionChar=e},enumerable:!1,configurable:!0}),Object.defineProperty(Variable.prototype,"requireStrictCompare",{get:function(){return!0===this.valueInfo.sctrictCompare},enumerable:!1,configurable:!0}),Variable.prototype.getType=function(){return"variable"},Variable.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return"{"+(this.useValueAsItIs?Variable.DisableConversionChar:"")+this.variableName+"}"},Object.defineProperty(Variable.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),Variable.prototype.evaluate=function(e){return this.valueInfo.name=this.variableName,e.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},Variable.prototype.setVariables=function(e){e.push(this.variableName)},Variable.prototype.getCorrectValue=function(t){return this.useValueAsItIs?t:e.prototype.getCorrectValue.call(this,t)},Variable.prototype.isContentEqual=function(e){return e.variable==this.variable},Variable}(e8),tt=function(e){function FunctionOperand(t,o){var n=e.call(this)||this;return n.originalValue=t,n.parameters=o,Array.isArray(o)&&0===o.length&&(n.parameters=new e6([])),n}return e7(FunctionOperand,e),FunctionOperand.prototype.getType=function(){return"function"},FunctionOperand.prototype.evaluate=function(e){var t=this.getAsynValue(e);return t?t.value:this.evaluateCore(e)},FunctionOperand.prototype.evaluateCore=function(e){var t=e.properties;if(this.isAsyncFunction){t=eQ.createCopy(e.properties);var o=this.id,n=e.asyncValues,r=e.onCompleteAsyncFunc,i=this;t.returnResult=function(e){n[o]={value:e},r(i)}}return e2.Instance.run(this.originalValue,this.parameters.evaluate(e),t,this.parameters.values)},FunctionOperand.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return this.originalValue+"("+this.parameters.toString(e)+")"},FunctionOperand.prototype.setVariables=function(e){this.parameters.setVariables(e)},FunctionOperand.prototype.isReady=function(e){return!!this.getAsynValue(e)},FunctionOperand.prototype.getAsynValue=function(e){return e.asyncValues[this.id]},FunctionOperand.prototype.hasFunction=function(){return!0},FunctionOperand.prototype.hasAsyncFunction=function(){return this.isAsyncFunction()||this.parameters.hasAsyncFunction()},FunctionOperand.prototype.isAsyncFunction=function(){return e2.Instance.isAsyncFunction(this.originalValue)},FunctionOperand.prototype.addToAsyncList=function(e){var t=void 0;if(this.isAsyncFunction()&&(t={operand:this}),this.parameters.hasAsyncFunction()){var o=[];this.parameters.addToAsyncList(o),o.forEach(function(e){return e.parent=t}),t||(t={}),t.children=o}t&&e.push(t)},FunctionOperand.prototype.isContentEqual=function(e){return e.originalValue==this.originalValue&&this.areOperatorsEquals(e.parameters,this.parameters)},FunctionOperand}(e4),to=function(){function OperandMaker(){}return OperandMaker.throwInvalidOperatorError=function(e){throw Error("Invalid operator: '"+e+"'")},OperandMaker.safeToString=function(e,t){return null==e?"":e.toString(t)},OperandMaker.toOperandString=function(e){return!e||eQ.isNumber(e)||OperandMaker.isBooleanValue(e)||(e="'"+e+"'"),e},OperandMaker.isBooleanValue=function(e){return!!e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())},OperandMaker.countDecimals=function(e){if(eQ.isNumber(e)&&Math.floor(e)!==e){var t=e.toString().split(".");return t.length>1&&t[1].length||0}return 0},OperandMaker.plusMinus=function(e,t,o){var n=OperandMaker.countDecimals(e),r=OperandMaker.countDecimals(t);if(n>0||r>0){var i=Math.max(n,r);o=parseFloat(o.toFixed(i))}return o},OperandMaker.isTwoValueEquals=function(e,t,o){return void 0===o&&(o=!0),"undefined"===e&&(e=void 0),"undefined"===t&&(t=void 0),eQ.isTwoValueEquals(e,t,o)},OperandMaker.operatorToString=function(e){var t=OperandMaker.signs[e];return null==t?e:t},OperandMaker.convertValForDateCompare=function(e,t){if(t instanceof Date&&"string"==typeof e){var o=new Date(e);return o.setHours(0,0,0),o}return e},OperandMaker.unaryFunctions={empty:function(e){return eQ.isValueEmpty(e)},notempty:function(e){return!OperandMaker.unaryFunctions.empty(e)},negate:function(e){return!e}},OperandMaker.binaryFunctions={arithmeticOp:function(e){var convertForArithmeticOp=function(e,t){return eQ.isValueEmpty(e)?"number"==typeof t?0:"string"==typeof e?e:"string"==typeof t?"":Array.isArray(t)?[]:0:e};return function(t,o){t=convertForArithmeticOp(t,o),o=convertForArithmeticOp(o,t);var n=OperandMaker.binaryFunctions[e];return null==n?null:n.call(this,t,o)}},and:function(e,t){return e&&t},or:function(e,t){return e||t},plus:function(e,t){return eQ.sumAnyValues(e,t)},minus:function(e,t){return eQ.correctAfterPlusMinis(e,t,e-t)},mul:function(e,t){return eQ.correctAfterMultiple(e,t,e*t)},div:function(e,t){return t?e/t:null},mod:function(e,t){return t?e%t:null},power:function(e,t){return Math.pow(e,t)},greater:function(e,t){return null!=e&&null!=t&&(e=OperandMaker.convertValForDateCompare(e,t),t=OperandMaker.convertValForDateCompare(t,e),e>t)},less:function(e,t){return null!=e&&null!=t&&(e=OperandMaker.convertValForDateCompare(e,t),t=OperandMaker.convertValForDateCompare(t,e),e<t)},greaterorequal:function(e,t){return!!OperandMaker.binaryFunctions.equal(e,t)||OperandMaker.binaryFunctions.greater(e,t)},lessorequal:function(e,t){return!!OperandMaker.binaryFunctions.equal(e,t)||OperandMaker.binaryFunctions.less(e,t)},equal:function(e,t,o){return e=OperandMaker.convertValForDateCompare(e,t),t=OperandMaker.convertValForDateCompare(t,e),OperandMaker.isTwoValueEquals(e,t,!0!==o)},notequal:function(e,t,o){return!OperandMaker.binaryFunctions.equal(e,t,o)},contains:function(e,t){return OperandMaker.binaryFunctions.containsCore(e,t,!0)},notcontains:function(e,t){return!(e||eQ.isValueEmpty(t))||OperandMaker.binaryFunctions.containsCore(e,t,!1)},anyof:function(e,t){if(eQ.isValueEmpty(e)&&eQ.isValueEmpty(t))return!0;if(eQ.isValueEmpty(e)||!Array.isArray(e)&&0===e.length)return!1;if(eQ.isValueEmpty(t))return!0;if(!Array.isArray(e))return OperandMaker.binaryFunctions.contains(t,e);if(!Array.isArray(t))return OperandMaker.binaryFunctions.contains(e,t);for(var o=0;o<t.length;o++)if(OperandMaker.binaryFunctions.contains(e,t[o]))return!0;return!1},allof:function(e,t){if(!e&&!eQ.isValueEmpty(t))return!1;if(!Array.isArray(t))return OperandMaker.binaryFunctions.contains(e,t);for(var o=0;o<t.length;o++)if(!OperandMaker.binaryFunctions.contains(e,t[o]))return!1;return!0},containsCore:function(e,t,o){if(!e&&0!==e&&!1!==e)return!1;if(!e.length&&(e=e.toString(),("string"==typeof t||t instanceof String)&&(e=e.toUpperCase(),t=t.toUpperCase())),"string"==typeof e||e instanceof String){if(!t)return!1;t=t.toString();var n=e.indexOf(t)>-1;return o?n:!n}for(var r=Array.isArray(t)?t:[t],i=0;i<r.length;i++){var s=0;for(t=r[i];s<e.length&&!OperandMaker.isTwoValueEquals(e[s],t);s++);if(s==e.length)return!o}return o}},OperandMaker.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},OperandMaker}(),tn=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),tr=function(e){function SyntaxError(t,o,n,r){var i=e.call(this)||this;return i.message=t,i.expected=o,i.found=n,i.location=r,i.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,SyntaxError),i}return tn(SyntaxError,e),SyntaxError.buildMessage=function(e,t){function hex(e){return e.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+hex(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+hex(e)})}function classEscape(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+hex(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+hex(e)})}function describeExpectation(e){switch(e.type){case"literal":return'"'+literalEscape(e.text)+'"';case"class":var t=e.parts.map(function(e){return Array.isArray(e)?classEscape(e[0])+"-"+classEscape(e[1]):classEscape(e)});return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,o,n=e.map(describeExpectation);if(n.sort(),n.length>0){for(t=1,o=1;t<n.length;t++)n[t-1]!==n[t]&&(n[o]=n[t],o++);n.length=o}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+(t?'"'+literalEscape(t)+'"':"end of input")+" found."},SyntaxError}(Error),parse=function(e,t){t=void 0!==t?t:{};var o,n,r,i,s,a,l,u,c={},p={Expression:peg$parseExpression},d=peg$parseExpression,peg$c0=function(e,t){return buildBinaryOperand(e,t,!0)},h=peg$literalExpectation("||",!1),g=peg$literalExpectation("or",!0),f=peg$literalExpectation("&&",!1),y=peg$literalExpectation("and",!0),peg$c11=function(e,t){return buildBinaryOperand(e,t)},m=peg$literalExpectation("<=",!1),v=peg$literalExpectation("lessorequal",!0),b=peg$literalExpectation(">=",!1),C=peg$literalExpectation("greaterorequal",!0),w=peg$literalExpectation("==",!1),P="equal",x=peg$literalExpectation("equal",!0),peg$c26=function(){return"equal"},M=peg$literalExpectation("=",!1),V=peg$literalExpectation("!=",!1),S=peg$literalExpectation("notequal",!0),_=peg$literalExpectation("<",!1),T=peg$literalExpectation("less",!0),R=peg$literalExpectation(">",!1),O=peg$literalExpectation("greater",!0),I=peg$literalExpectation("+",!1),E=peg$literalExpectation("-",!1),D=peg$literalExpectation("*",!1),Q=peg$literalExpectation("/",!1),A=peg$literalExpectation("%",!1),L=peg$literalExpectation("^",!1),k=peg$literalExpectation("power",!0),j=peg$literalExpectation("*=",!1),B=peg$literalExpectation("contains",!0),F=peg$literalExpectation("contain",!0),N=peg$literalExpectation("notcontains",!0),q=peg$literalExpectation("notcontain",!0),H=peg$literalExpectation("anyof",!0),z=peg$literalExpectation("allof",!0),U=peg$literalExpectation("(",!1),W=peg$literalExpectation(")",!1),J=peg$literalExpectation("!",!1),$=peg$literalExpectation("negate",!0),G=peg$literalExpectation("empty",!0),Z=peg$literalExpectation("notempty",!0),K="undefined",Y=peg$literalExpectation("undefined",!1),X="null",ee=peg$literalExpectation("null",!1),et=peg$literalExpectation("{",!1),eo=peg$literalExpectation("}",!1),peg$c111=function(e){return e},en=peg$literalExpectation("''",!1),peg$c114=function(){return""},er=peg$literalExpectation('""',!1),ei=peg$literalExpectation("'",!1),peg$c119=function(e){return"'"+e+"'"},es=peg$literalExpectation('"',!1),ea=peg$literalExpectation("[",!1),el=peg$literalExpectation("]",!1),eu=peg$literalExpectation(",",!1),peg$c129=function(e,t){if(null==e)return new e6([]);var o=[e];if(Array.isArray(t))for(var n=[].concat.apply([],t),r=3;r<n.length;r+=4)o.push(n[r]);return new e6(o)},ec=peg$literalExpectation("true",!0),ep=peg$literalExpectation("false",!0),ed=peg$literalExpectation("0x",!1),eh=/^[\-]/,eg=peg$classExpectation(["-"],!1,!1),ef=peg$literalExpectation(".",!1),ey=peg$literalExpectation("0",!1),peg$c149=function(e){return e.join("")},em=peg$literalExpectation("\\'",!1),ev=peg$literalExpectation('\\"',!1),eb=/^[^"']/,eC=peg$classExpectation(['"',"'"],!0,!1),peg$c158=function(){return text()},ew=/^[^{}]/,eP=peg$classExpectation(["{","}"],!0,!1),ex=/^[0-9]/,eM=peg$classExpectation([["0","9"]],!1,!1),eV=/^[1-9]/,eS=peg$classExpectation([["1","9"]],!1,!1),e_=/^[a-zA-Z_]/,eT=peg$classExpectation([["a","z"],["A","Z"],"_"],!1,!1),eR={type:"other",description:"whitespace"},eO=/^[ \t\n\r]/,eI=peg$classExpectation([" ","	","\n","\r"],!1,!1),eE=0,eD=0,eQ=[{line:1,column:1}],eA=0,eL=[],ek=0,ej={};if(void 0!==t.startRule){if(!(t.startRule in p))throw Error("Can't start parsing from rule \""+t.startRule+'".');d=p[t.startRule]}function text(){return e.substring(eD,eE)}function peg$literalExpectation(e,t){return{type:"literal",text:e,ignoreCase:t}}function peg$classExpectation(e,t,o){return{type:"class",parts:e,inverted:t,ignoreCase:o}}function peg$computePosDetails(t){var o,n=eQ[t];if(n)return n;for(o=t-1;!eQ[o];)o--;for(n={line:(n=eQ[o]).line,column:n.column};o<t;)10===e.charCodeAt(o)?(n.line++,n.column=1):n.column++,o++;return eQ[t]=n,n}function peg$fail(e){eE<eA||(eE>eA&&(eA=eE,eL=[]),eL.push(e))}function peg$parseExpression(){var e,t,o,n,r,i,s,a,l=34*eE+0,u=ej[l];if(u)return eE=u.nextPos,u.result;if(e=eE,peg$parse_()!==c){if((t=peg$parseLogicOr())!==c){for(o=[],n=eE,(r=peg$parse_())!==c&&(i=peg$parseOrSign())!==c&&(s=peg$parse_())!==c&&(a=peg$parseLogicOr())!==c?n=r=[r,i,s,a]:(eE=n,n=c);n!==c;)o.push(n),n=eE,(r=peg$parse_())!==c&&(i=peg$parseOrSign())!==c&&(s=peg$parse_())!==c&&(a=peg$parseLogicOr())!==c?n=r=[r,i,s,a]:(eE=n,n=c);o!==c&&(n=peg$parse_())!==c?(eD=e,e=peg$c0(t,o)):(eE=e,e=c)}else eE=e,e=c}else eE=e,e=c;return ej[l]={nextPos:eE,result:e},e}function peg$parseOrSign(){var t,o,n=34*eE+1,r=ej[n];return r?(eE=r.nextPos,r.result):(t=eE,"||"===e.substr(eE,2)?(o="||",eE+=2):(o=c,0===ek&&peg$fail(h)),o===c&&("or"===e.substr(eE,2).toLowerCase()?(o=e.substr(eE,2),eE+=2):(o=c,0===ek&&peg$fail(g))),o!==c&&(eD=t,o="or"),t=o,ej[n]={nextPos:eE,result:t},t)}function peg$parseLogicOr(){var e,t,o,n,r,i,s,a,l=34*eE+2,u=ej[l];if(u)return eE=u.nextPos,u.result;if(e=eE,(t=peg$parseLogicAnd())!==c){for(o=[],n=eE,(r=peg$parse_())!==c&&(i=peg$parseAndSign())!==c&&(s=peg$parse_())!==c&&(a=peg$parseLogicAnd())!==c?n=r=[r,i,s,a]:(eE=n,n=c);n!==c;)o.push(n),n=eE,(r=peg$parse_())!==c&&(i=peg$parseAndSign())!==c&&(s=peg$parse_())!==c&&(a=peg$parseLogicAnd())!==c?n=r=[r,i,s,a]:(eE=n,n=c);o!==c?(eD=e,e=t=peg$c0(t,o)):(eE=e,e=c)}else eE=e,e=c;return ej[l]={nextPos:eE,result:e},e}function peg$parseAndSign(){var t,o,n=34*eE+3,r=ej[n];return r?(eE=r.nextPos,r.result):(t=eE,"&&"===e.substr(eE,2)?(o="&&",eE+=2):(o=c,0===ek&&peg$fail(f)),o===c&&("and"===e.substr(eE,3).toLowerCase()?(o=e.substr(eE,3),eE+=3):(o=c,0===ek&&peg$fail(y))),o!==c&&(eD=t,o="and"),t=o,ej[n]={nextPos:eE,result:t},t)}function peg$parseLogicAnd(){var e,t,o,n,r,i,s,a,l=34*eE+4,u=ej[l];if(u)return eE=u.nextPos,u.result;if(e=eE,(t=peg$parseCompOps())!==c){for(o=[],n=eE,(r=peg$parse_())!==c&&(i=peg$parseComparableOperators())!==c&&(s=peg$parse_())!==c&&(a=peg$parseCompOps())!==c?n=r=[r,i,s,a]:(eE=n,n=c);n!==c;)o.push(n),n=eE,(r=peg$parse_())!==c&&(i=peg$parseComparableOperators())!==c&&(s=peg$parse_())!==c&&(a=peg$parseCompOps())!==c?n=r=[r,i,s,a]:(eE=n,n=c);o!==c?(eD=e,e=t=peg$c11(t,o)):(eE=e,e=c)}else eE=e,e=c;return ej[l]={nextPos:eE,result:e},e}function peg$parseComparableOperators(){var t,o,n=34*eE+5,r=ej[n];return r?(eE=r.nextPos,r.result):(t=eE,"<="===e.substr(eE,2)?(o="<=",eE+=2):(o=c,0===ek&&peg$fail(m)),o===c&&("lessorequal"===e.substr(eE,11).toLowerCase()?(o=e.substr(eE,11),eE+=11):(o=c,0===ek&&peg$fail(v))),o!==c&&(eD=t,o="lessorequal"),(t=o)===c&&(t=eE,">="===e.substr(eE,2)?(o=">=",eE+=2):(o=c,0===ek&&peg$fail(b)),o===c&&("greaterorequal"===e.substr(eE,14).toLowerCase()?(o=e.substr(eE,14),eE+=14):(o=c,0===ek&&peg$fail(C))),o!==c&&(eD=t,o="greaterorequal"),(t=o)===c&&(t=eE,"=="===e.substr(eE,2)?(o="==",eE+=2):(o=c,0===ek&&peg$fail(w)),o===c&&(e.substr(eE,5).toLowerCase()===P?(o=e.substr(eE,5),eE+=5):(o=c,0===ek&&peg$fail(x))),o!==c&&(eD=t,o=peg$c26()),(t=o)===c&&(t=eE,61===e.charCodeAt(eE)?(o="=",eE++):(o=c,0===ek&&peg$fail(M)),o===c&&(e.substr(eE,5).toLowerCase()===P?(o=e.substr(eE,5),eE+=5):(o=c,0===ek&&peg$fail(x))),o!==c&&(eD=t,o=peg$c26()),(t=o)===c&&(t=eE,"!="===e.substr(eE,2)?(o="!=",eE+=2):(o=c,0===ek&&peg$fail(V)),o===c&&("notequal"===e.substr(eE,8).toLowerCase()?(o=e.substr(eE,8),eE+=8):(o=c,0===ek&&peg$fail(S))),o!==c&&(eD=t,o="notequal"),(t=o)===c&&(t=eE,60===e.charCodeAt(eE)?(o="<",eE++):(o=c,0===ek&&peg$fail(_)),o===c&&("less"===e.substr(eE,4).toLowerCase()?(o=e.substr(eE,4),eE+=4):(o=c,0===ek&&peg$fail(T))),o!==c&&(eD=t,o="less"),(t=o)===c&&(t=eE,62===e.charCodeAt(eE)?(o=">",eE++):(o=c,0===ek&&peg$fail(R)),o===c&&("greater"===e.substr(eE,7).toLowerCase()?(o=e.substr(eE,7),eE+=7):(o=c,0===ek&&peg$fail(O))),o!==c&&(eD=t,o="greater"),t=o)))))),ej[n]={nextPos:eE,result:t},t)}function peg$parseCompOps(){var e,t,o,n,r,i,s,a,l=34*eE+6,u=ej[l];if(u)return eE=u.nextPos,u.result;if(e=eE,(t=peg$parsePlusMinusOps())!==c){for(o=[],n=eE,(r=peg$parse_())!==c&&(i=peg$parsePlusMinusSigns())!==c&&(s=peg$parse_())!==c&&(a=peg$parsePlusMinusOps())!==c?n=r=[r,i,s,a]:(eE=n,n=c);n!==c;)o.push(n),n=eE,(r=peg$parse_())!==c&&(i=peg$parsePlusMinusSigns())!==c&&(s=peg$parse_())!==c&&(a=peg$parsePlusMinusOps())!==c?n=r=[r,i,s,a]:(eE=n,n=c);o!==c?(eD=e,e=t=peg$c0(t,o)):(eE=e,e=c)}else eE=e,e=c;return ej[l]={nextPos:eE,result:e},e}function peg$parsePlusMinusSigns(){var t,o,n=34*eE+7,r=ej[n];return r?(eE=r.nextPos,r.result):(t=eE,43===e.charCodeAt(eE)?(o="+",eE++):(o=c,0===ek&&peg$fail(I)),o!==c&&(eD=t,o="plus"),(t=o)===c&&(t=eE,45===e.charCodeAt(eE)?(o="-",eE++):(o=c,0===ek&&peg$fail(E)),o!==c&&(eD=t,o="minus"),t=o),ej[n]={nextPos:eE,result:t},t)}function peg$parsePlusMinusOps(){var e,t,o,n,r,i,s,a,l=34*eE+8,u=ej[l];if(u)return eE=u.nextPos,u.result;if(e=eE,(t=peg$parseMulDivOps())!==c){for(o=[],n=eE,(r=peg$parse_())!==c&&(i=peg$parseMulDivSigns())!==c&&(s=peg$parse_())!==c&&(a=peg$parseMulDivOps())!==c?n=r=[r,i,s,a]:(eE=n,n=c);n!==c;)o.push(n),n=eE,(r=peg$parse_())!==c&&(i=peg$parseMulDivSigns())!==c&&(s=peg$parse_())!==c&&(a=peg$parseMulDivOps())!==c?n=r=[r,i,s,a]:(eE=n,n=c);o!==c?(eD=e,e=t=peg$c0(t,o)):(eE=e,e=c)}else eE=e,e=c;return ej[l]={nextPos:eE,result:e},e}function peg$parseMulDivSigns(){var t,o,n=34*eE+9,r=ej[n];return r?(eE=r.nextPos,r.result):(t=eE,42===e.charCodeAt(eE)?(o="*",eE++):(o=c,0===ek&&peg$fail(D)),o!==c&&(eD=t,o="mul"),(t=o)===c&&(t=eE,47===e.charCodeAt(eE)?(o="/",eE++):(o=c,0===ek&&peg$fail(Q)),o!==c&&(eD=t,o="div"),(t=o)===c&&(t=eE,37===e.charCodeAt(eE)?(o="%",eE++):(o=c,0===ek&&peg$fail(A)),o!==c&&(eD=t,o="mod"),t=o)),ej[n]={nextPos:eE,result:t},t)}function peg$parseMulDivOps(){var e,t,o,n,r,i,s,a,l=34*eE+10,u=ej[l];if(u)return eE=u.nextPos,u.result;if(e=eE,(t=peg$parseBinaryFuncOp())!==c){for(o=[],n=eE,(r=peg$parse_())!==c&&(i=peg$parsePowerSigns())!==c&&(s=peg$parse_())!==c&&(a=peg$parseBinaryFuncOp())!==c?n=r=[r,i,s,a]:(eE=n,n=c);n!==c;)o.push(n),n=eE,(r=peg$parse_())!==c&&(i=peg$parsePowerSigns())!==c&&(s=peg$parse_())!==c&&(a=peg$parseBinaryFuncOp())!==c?n=r=[r,i,s,a]:(eE=n,n=c);o!==c?(eD=e,e=t=peg$c0(t,o)):(eE=e,e=c)}else eE=e,e=c;return ej[l]={nextPos:eE,result:e},e}function peg$parsePowerSigns(){var t,o,n=34*eE+11,r=ej[n];return r?(eE=r.nextPos,r.result):(t=eE,94===e.charCodeAt(eE)?(o="^",eE++):(o=c,0===ek&&peg$fail(L)),o===c&&("power"===e.substr(eE,5).toLowerCase()?(o=e.substr(eE,5),eE+=5):(o=c,0===ek&&peg$fail(k))),o!==c&&(eD=t,o="power"),t=o,ej[n]={nextPos:eE,result:t},t)}function peg$parseBinaryFuncOp(){var e,t,o,n,r,i,s,a,l=34*eE+12,u=ej[l];if(u)return eE=u.nextPos,u.result;if(e=eE,(t=peg$parseFactor())!==c){for(o=[],n=eE,(r=peg$parse_())!==c&&(i=peg$parseBinFunctions())!==c&&(s=peg$parse_())!==c?((a=peg$parseFactor())===c&&(a=null),a!==c?n=r=[r,i,s,a]:(eE=n,n=c)):(eE=n,n=c);n!==c;)o.push(n),n=eE,(r=peg$parse_())!==c&&(i=peg$parseBinFunctions())!==c&&(s=peg$parse_())!==c?((a=peg$parseFactor())===c&&(a=null),a!==c?n=r=[r,i,s,a]:(eE=n,n=c)):(eE=n,n=c);o!==c?(eD=e,e=t=peg$c11(t,o)):(eE=e,e=c)}else eE=e,e=c;return ej[l]={nextPos:eE,result:e},e}function peg$parseBinFunctions(){var t,o,n=34*eE+13,r=ej[n];return r?(eE=r.nextPos,r.result):(t=eE,"*="===e.substr(eE,2)?(o="*=",eE+=2):(o=c,0===ek&&peg$fail(j)),o===c&&("contains"===e.substr(eE,8).toLowerCase()?(o=e.substr(eE,8),eE+=8):(o=c,0===ek&&peg$fail(B)),o===c&&("contain"===e.substr(eE,7).toLowerCase()?(o=e.substr(eE,7),eE+=7):(o=c,0===ek&&peg$fail(F)))),o!==c&&(eD=t,o="contains"),(t=o)===c&&(t=eE,"notcontains"===e.substr(eE,11).toLowerCase()?(o=e.substr(eE,11),eE+=11):(o=c,0===ek&&peg$fail(N)),o===c&&("notcontain"===e.substr(eE,10).toLowerCase()?(o=e.substr(eE,10),eE+=10):(o=c,0===ek&&peg$fail(q))),o!==c&&(eD=t,o="notcontains"),(t=o)===c&&(t=eE,"anyof"===e.substr(eE,5).toLowerCase()?(o=e.substr(eE,5),eE+=5):(o=c,0===ek&&peg$fail(H)),o!==c&&(eD=t,o="anyof"),(t=o)===c&&(t=eE,"allof"===e.substr(eE,5).toLowerCase()?(o=e.substr(eE,5),eE+=5):(o=c,0===ek&&peg$fail(z)),o!==c&&(eD=t,o="allof"),t=o))),ej[n]={nextPos:eE,result:t},t)}function peg$parseFactor(){var t,o,n,r,i,s,a,l,u,p,d,h,g,f,y,m,v,b,C,w,P,x,M,V,S,_,T,R,O,I,E=34*eE+14,D=ej[E];if(D)return eE=D.nextPos,D.result;return(T=eE,40===e.charCodeAt(eE)?(R="(",eE++):(R=c,0===ek&&peg$fail(U)),R!==c&&peg$parse_()!==c&&(O=peg$parseExpression())!==c&&peg$parse_()!==c&&(41===e.charCodeAt(eE)?(I=")",eE++):(I=c,0===ek&&peg$fail(W)),I===c&&(I=null),I!==c))?(eD=T,T=R=O):(eE=T,T=c),T===c&&(T=(l=ej[a=34*eE+15])?(eE=l.nextPos,l.result):((o=eE,(n=peg$parseLettersAndDigits())!==c&&(40===e.charCodeAt(eE)?(r="(",eE++):(r=c,0===ek&&peg$fail(U)),r!==c&&(i=peg$parseSequence())!==c&&(41===e.charCodeAt(eE)?(s=")",eE++):(s=c,0===ek&&peg$fail(W)),s===c&&(s=null),s!==c)))?(eD=o,t=n,o=n=new tt(t,i)):(eE=o,o=c),ej[a]={nextPos:eE,result:o},o))===c&&(T=(w=ej[C=34*eE+16])?(eE=w.nextPos,w.result):((m=eE,33===e.charCodeAt(eE)?(v="!",eE++):(v=c,0===ek&&peg$fail(J)),v===c&&("negate"===e.substr(eE,6).toLowerCase()?(v=e.substr(eE,6),eE+=6):(v=c,0===ek&&peg$fail($))),v!==c&&peg$parse_()!==c&&(b=peg$parseExpression())!==c)?(eD=m,g=b,m=v=new e3(g,"negate")):(eE=m,m=c),m===c&&((m=eE,(v=peg$parseAtom())!==c&&peg$parse_()!==c&&(b=(h=ej[d=34*eE+17])?(eE=h.nextPos,h.result):(u=eE,"empty"===e.substr(eE,5).toLowerCase()?(p=e.substr(eE,5),eE+=5):(p=c,0===ek&&peg$fail(G)),p!==c&&(eD=u,p="empty"),(u=p)===c&&(u=eE,"notempty"===e.substr(eE,8).toLowerCase()?(p=e.substr(eE,8),eE+=8):(p=c,0===ek&&peg$fail(Z)),p!==c&&(eD=u,p="notempty"),u=p),ej[d]={nextPos:eE,result:u},u))!==c)?(eD=m,f=v,y=b,m=v=new e3(f,y)):(eE=m,m=c)),ej[C]={nextPos:eE,result:m},m))===c&&(T=peg$parseAtom())===c&&(T=(_=ej[S=34*eE+20])?(eE=_.nextPos,_.result):((P=eE,91===e.charCodeAt(eE)?(x="[",eE++):(x=c,0===ek&&peg$fail(ea)),x!==c&&(M=peg$parseSequence())!==c&&(93===e.charCodeAt(eE)?(V="]",eE++):(V=c,0===ek&&peg$fail(el)),V!==c))?(eD=P,P=x=M):(eE=P,P=c),ej[S]={nextPos:eE,result:P},P)),ej[E]={nextPos:eE,result:T},T}function peg$parseAtom(){var t,o,n,r,i,s,a,l,u,p,d,h,g,f,y,m,v,b,C,w,P,x,M,V,S,_,T,R=34*eE+18,O=ej[R];if(O)return eE=O.nextPos,O.result;if(V=eE,peg$parse_()!==c?(e.substr(eE,9)===K?(S=K,eE+=9):(S=c,0===ek&&peg$fail(Y)),S===c&&(e.substr(eE,4)===X?(S=X,eE+=4):(S=c,0===ek&&peg$fail(ee))),S!==c?(eD=V,V=null):(eE=V,V=c)):(eE=V,V=c),V===c){if(V=eE,peg$parse_()!==c){if((S=(b=ej[v=34*eE+19])?(eE=b.nextPos,b.result):(g=eE,(f=(x=ej[P=34*eE+22])?(eE=x.nextPos,x.result):(C=eE,"true"===e.substr(eE,4).toLowerCase()?(w=e.substr(eE,4),eE+=4):(w=c,0===ek&&peg$fail(ec)),w!==c&&(eD=C,w=!0),(C=w)===c&&(C=eE,"false"===e.substr(eE,5).toLowerCase()?(w=e.substr(eE,5),eE+=5):(w=c,0===ek&&peg$fail(ep)),w!==c&&(eD=C,w=!1),C=w),ej[P]={nextPos:eE,result:C},C))!==c&&(eD=g,f=peg$c111(f)),(g=f)===c&&(g=eE,(f=(h=ej[d=34*eE+23])?(eE=h.nextPos,h.result):(l=eE,"0x"===e.substr(eE,2)?(u="0x",eE+=2):(u=c,0===ek&&peg$fail(ed)),u!==c&&(p=peg$parseDigits())!==c?(eD=l,l=u=parseInt(text(),16)):(eE=l,l=c),l===c&&((l=eE,eh.test(e.charAt(eE))?(u=e.charAt(eE),eE++):(u=c,0===ek&&peg$fail(eg)),u===c&&(u=null),u!==c&&(p=(i=ej[r=34*eE+24])?(eE=i.nextPos,i.result):(t=eE,(o=peg$parseDigits())!==c?(46===e.charCodeAt(eE)?(n=".",eE++):(n=c,0===ek&&peg$fail(ef)),n!==c&&peg$parseDigits()!==c?(eD=t,t=o=parseFloat(text())):(eE=t,t=c)):(eE=t,t=c),t===c&&(t=eE,(o=function(){var t,o,n=34*eE+31,r=ej[n];if(r)return eE=r.nextPos,r.result;if(t=[],eV.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eS)),o!==c)for(;o!==c;)t.push(o),eV.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eS));else t=c;return ej[n]={nextPos:eE,result:t},t}())!==c?((n=peg$parseDigits())===c&&(n=null),n!==c?(eD=t,t=o=parseInt(text(),10)):(eE=t,t=c)):(eE=t,t=c),t===c&&(t=eE,48===e.charCodeAt(eE)?(o="0",eE++):(o=c,0===ek&&peg$fail(ey)),o!==c&&(eD=t,o=0),t=o)),ej[r]={nextPos:eE,result:t},t))!==c)?(eD=l,s=u,a=p,l=u=null==s?a:-a):(eE=l,l=c)),ej[d]={nextPos:eE,result:l},l))!==c&&(eD=g,f=peg$c111(f)),(g=f)===c&&(g=eE,(f=peg$parseLettersAndDigits())!==c&&(eD=g,f=peg$c111(f)),(g=f)===c&&(g=eE,"''"===e.substr(eE,2)?(f="''",eE+=2):(f=c,0===ek&&peg$fail(en)),f!==c&&(eD=g,f=peg$c114()),(g=f)===c&&(g=eE,'""'===e.substr(eE,2)?(f='""',eE+=2):(f=c,0===ek&&peg$fail(er)),f!==c&&(eD=g,f=peg$c114()),(g=f)===c&&(g=eE,39===e.charCodeAt(eE)?(f="'",eE++):(f=c,0===ek&&peg$fail(ei)),f!==c&&(y=peg$parseAnyInput())!==c?(39===e.charCodeAt(eE)?(m="'",eE++):(m=c,0===ek&&peg$fail(ei)),m!==c?(eD=g,g=f=peg$c119(y)):(eE=g,g=c)):(eE=g,g=c),g===c&&(g=eE,34===e.charCodeAt(eE)?(f='"',eE++):(f=c,0===ek&&peg$fail(es)),f!==c&&(y=peg$parseAnyInput())!==c?(34===e.charCodeAt(eE)?(m='"',eE++):(m=c,0===ek&&peg$fail(es)),m!==c?(eD=g,g=f=peg$c119(y)):(eE=g,g=c)):(eE=g,g=c))))))),ej[v]={nextPos:eE,result:g},g))!==c)eD=V,M=S,V=new e8(M);else eE=V,V=c}else eE=V,V=c;V===c&&((V=eE,peg$parse_()!==c&&(123===e.charCodeAt(eE)?(S="{",eE++):(S=c,0===ek&&peg$fail(et)),S!==c&&(_=function(){var e,t,o,n=34*eE+25,r=ej[n];if(r)return eE=r.nextPos,r.result;if(e=eE,t=[],(o=peg$parseValueCharacters())!==c)for(;o!==c;)t.push(o),o=peg$parseValueCharacters();else t=c;return t!==c&&(eD=e,t=peg$c149(t)),e=t,ej[n]={nextPos:eE,result:e},e}())!==c&&(125===e.charCodeAt(eE)?(T="}",eE++):(T=c,0===ek&&peg$fail(eo)),T!==c)))?(eD=V,V=new te(_)):(eE=V,V=c))}return ej[R]={nextPos:eE,result:V},V}function peg$parseSequence(){var t,o,n,r,i,s,a,l,u=34*eE+21,p=ej[u];if(p)return eE=p.nextPos,p.result;if(t=eE,(o=peg$parseExpression())===c&&(o=null),o!==c){for(n=[],r=eE,(i=peg$parse_())!==c?(44===e.charCodeAt(eE)?(s=",",eE++):(s=c,0===ek&&peg$fail(eu)),s!==c&&(a=peg$parse_())!==c&&(l=peg$parseExpression())!==c?r=i=[i,s,a,l]:(eE=r,r=c)):(eE=r,r=c);r!==c;)n.push(r),r=eE,(i=peg$parse_())!==c?(44===e.charCodeAt(eE)?(s=",",eE++):(s=c,0===ek&&peg$fail(eu)),s!==c&&(a=peg$parse_())!==c&&(l=peg$parseExpression())!==c?r=i=[i,s,a,l]:(eE=r,r=c)):(eE=r,r=c);n!==c?(eD=t,t=o=peg$c129(o,n)):(eE=t,t=c)}else eE=t,t=c;return ej[u]={nextPos:eE,result:t},t}function peg$parseAnyInput(){var e,t,o,n=34*eE+26,r=ej[n];if(r)return eE=r.nextPos,r.result;if(e=eE,t=[],(o=peg$parseAnyCharacters())!==c)for(;o!==c;)t.push(o),o=peg$parseAnyCharacters();else t=c;return t!==c&&(eD=e,t=peg$c149(t)),e=t,ej[n]={nextPos:eE,result:e},e}function peg$parseAnyCharacters(){var t,o,n=34*eE+27,r=ej[n];return r?(eE=r.nextPos,r.result):(t=eE,"\\'"===e.substr(eE,2)?(o="\\'",eE+=2):(o=c,0===ek&&peg$fail(em)),o!==c&&(eD=t,o="'"),(t=o)===c&&(t=eE,'\\"'===e.substr(eE,2)?(o='\\"',eE+=2):(o=c,0===ek&&peg$fail(ev)),o!==c&&(eD=t,o='"'),(t=o)===c&&(t=eE,eb.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eC)),o!==c&&(eD=t,o=peg$c158()),t=o)),ej[n]={nextPos:eE,result:t},t)}function peg$parseValueCharacters(){var t,o,n=34*eE+28,r=ej[n];return r?(eE=r.nextPos,r.result):(t=eE,ew.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eP)),o!==c&&(eD=t,o=peg$c158()),t=o,ej[n]={nextPos:eE,result:t},t)}function peg$parseLettersAndDigits(){var e,t,o,n,r,i,s=34*eE+29,a=ej[s];if(a)return eE=a.nextPos,a.result;if(e=eE,peg$parseLetters()!==c){if(t=[],o=eE,(n=peg$parseDigits())!==c){for(r=[],i=peg$parseLetters();i!==c;)r.push(i),i=peg$parseLetters();r!==c?o=n=[n,r]:(eE=o,o=c)}else eE=o,o=c;for(;o!==c;)if(t.push(o),o=eE,(n=peg$parseDigits())!==c){for(r=[],i=peg$parseLetters();i!==c;)r.push(i),i=peg$parseLetters();r!==c?o=n=[n,r]:(eE=o,o=c)}else eE=o,o=c;t!==c?(eD=e,e=peg$c158()):(eE=e,e=c)}else eE=e,e=c;return ej[s]={nextPos:eE,result:e},e}function peg$parseDigits(){var t,o,n=34*eE+30,r=ej[n];if(r)return eE=r.nextPos,r.result;if(t=[],ex.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eM)),o!==c)for(;o!==c;)t.push(o),ex.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eM));else t=c;return ej[n]={nextPos:eE,result:t},t}function peg$parseLetters(){var t,o,n=34*eE+32,r=ej[n];if(r)return eE=r.nextPos,r.result;if(t=[],e_.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eT)),o!==c)for(;o!==c;)t.push(o),e_.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eT));else t=c;return ej[n]={nextPos:eE,result:t},t}function peg$parse_(){var t,o,n=34*eE+33,r=ej[n];if(r)return eE=r.nextPos,r.result;for(ek++,t=[],eO.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eI));o!==c;)t.push(o),eO.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=c,0===ek&&peg$fail(eI));return ek--,t===c&&(o=c,0===ek&&peg$fail(eR)),ej[n]={nextPos:eE,result:t},t}function buildBinaryOperand(e,t,o){return void 0===o&&(o=!1),t.reduce(function(e,t){return new e9(t[1],e,t[3],o)},e)}if((u=d())!==c&&eE===e.length)return u;throw u!==c&&eE<e.length&&peg$fail({type:"end"}),s=eL,a=eA<e.length?e.charAt(eA):null,o=eA,n=eA<e.length?eA+1:eA,r=peg$computePosDetails(o),i=peg$computePosDetails(n),l={start:{offset:o,line:r.line,column:r.column},end:{offset:n,line:i.line,column:i.column}},new tr(tr.buildMessage(s,a),s,a,l)},ConditionsParserError=function(e,t){this.at=e,this.code=t},ti=function(){function ConditionsParser(){}return ConditionsParser.prototype.patchExpression=function(e){return e.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},ConditionsParser.prototype.createCondition=function(e){return this.parseExpression(e)},ConditionsParser.prototype.parseExpression=function(e){try{var t=ConditionsParser.parserCache[e];return void 0!==t||(t=parse(this.patchExpression(e))).hasAsyncFunction()||(ConditionsParser.parserCache[e]=t),t}catch(e){e instanceof tr&&(this.conditionError=new ConditionsParserError(e.location.start.offset,e.message))}},Object.defineProperty(ConditionsParser.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),ConditionsParser.parserCache={},ConditionsParser}(),ts=(s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),ta=function(){function ExpressionExecutorRunner(e,t,o,n,r){this.operand=e,this.id=t,this.onComplete=o,this.processValue=new e1,this.processValue.values=n,this.processValue.properties=r}return ExpressionExecutorRunner.prototype.run=function(e){var t=this;if(!e)return this.runValues();this.processValue.values=eQ.createCopy(this.processValue.values),this.processValue.onCompleteAsyncFunc=function(e){var o=t.getAsyncItemByOperand(e,t.asyncFuncList);o&&t.doAsyncFunctionReady(o)},this.asyncFuncList=[],this.operand.addToAsyncList(this.asyncFuncList);for(var o=0;o<this.asyncFuncList.length;o++)this.runAsyncItem(this.asyncFuncList[o]);return!1},ExpressionExecutorRunner.prototype.getAsyncItemByOperand=function(e,t){if(!Array.isArray(t))return null;for(var o=0;o<t.length;o++){if(t[o].operand===e)return t[o];var n=this.getAsyncItemByOperand(e,t[o].children);if(n)return n}return null},ExpressionExecutorRunner.prototype.runAsyncItem=function(e){var t=this;e.children?e.children.forEach(function(e){return t.runAsyncItem(e)}):this.runAsyncItemCore(e)},ExpressionExecutorRunner.prototype.runAsyncItemCore=function(e){e.operand?e.operand.evaluate(this.processValue):this.doAsyncFunctionReady(e)},ExpressionExecutorRunner.prototype.doAsyncFunctionReady=function(e){if(e.parent&&this.isAsyncChildrenReady(e)){this.runAsyncItemCore(e.parent);return}for(var t=0;t<this.asyncFuncList.length;t++)if(!this.isAsyncFuncReady(this.asyncFuncList[t]))return;this.runValues()},ExpressionExecutorRunner.prototype.isAsyncFuncReady=function(e){return(!e.operand||!!e.operand.isReady(this.processValue))&&this.isAsyncChildrenReady(e)},ExpressionExecutorRunner.prototype.isAsyncChildrenReady=function(e){if(e.children){for(var t=0;t<e.children.length;t++)if(!this.isAsyncFuncReady(e.children[t]))return!1}return!0},ExpressionExecutorRunner.prototype.runValues=function(){var e=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(e,this.id),e},ExpressionExecutorRunner}(),tl=function(){function ExpressionExecutor(e){this.parser=new ti,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(e)}return Object.defineProperty(ExpressionExecutor.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),ExpressionExecutor.prototype.setExpression=function(e){this.expression!==e&&(this.expressionValue=e,this.operand=this.parser.parseExpression(e),this.hasFunctionValue=!!this.canRun()&&this.operand.hasFunction(),this.isAsyncValue=!!this.hasFunction()&&this.operand.hasAsyncFunction())},ExpressionExecutor.prototype.getVariables=function(){if(!this.operand)return[];var e=[];return this.operand.setVariables(e),e},ExpressionExecutor.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(ExpressionExecutor.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),ExpressionExecutor.prototype.canRun=function(){return!!this.operand},ExpressionExecutor.prototype.run=function(e,t,o){return(void 0===t&&(t=null),this.operand)?new ta(this.operand,o,this.onComplete,e,t).run(this.isAsync):(this.expression&&e0.warn("Invalid expression: "+this.expression),null)},ExpressionExecutor.createExpressionExecutor=function(e){return new ExpressionExecutor(e)},ExpressionExecutor}(),tu=function(){function ExpressionRunnerBase(e){this.expression=e}return Object.defineProperty(ExpressionRunnerBase.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(e){var t=this;this.expressionExecutor&&e===this.expression||(this.expressionExecutor=tl.createExpressionExecutor(e),this.expressionExecutor.onComplete=function(e,o){t.doOnComplete(e,o)},this.variables=void 0,this.containsFunc=void 0)},enumerable:!1,configurable:!0}),ExpressionRunnerBase.prototype.getVariables=function(){return void 0===this.variables&&(this.variables=this.expressionExecutor.getVariables()),this.variables},ExpressionRunnerBase.prototype.hasFunction=function(){return void 0===this.containsFunc&&(this.containsFunc=this.expressionExecutor.hasFunction()),this.containsFunc},Object.defineProperty(ExpressionRunnerBase.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),ExpressionRunnerBase.prototype.canRun=function(){return this.expressionExecutor.canRun()},ExpressionRunnerBase.prototype.runCore=function(e,t){void 0===t&&(t=null);var o=ExpressionRunnerBase.IdRunnerCounter++;return this.onBeforeAsyncRun&&this.isAsync&&this.onBeforeAsyncRun(o),this.expressionExecutor.run(e,t,o)},ExpressionRunnerBase.prototype.doOnComplete=function(e,t){this.onAfterAsyncRun&&this.isAsync&&this.onAfterAsyncRun(t)},ExpressionRunnerBase.IdRunnerCounter=1,ExpressionRunnerBase}(),tc=function(e){function ConditionRunner(){return null!==e&&e.apply(this,arguments)||this}return ts(ConditionRunner,e),ConditionRunner.prototype.run=function(e,t){return void 0===t&&(t=null),!0==this.runCore(e,t)},ConditionRunner.prototype.doOnComplete=function(t,o){this.onRunComplete&&this.onRunComplete(!0==t),e.prototype.doOnComplete.call(this,t,o)},ConditionRunner}(tu),tp=function(e){function ExpressionRunner(){return null!==e&&e.apply(this,arguments)||this}return ts(ExpressionRunner,e),ExpressionRunner.prototype.run=function(e,t){return void 0===t&&(t=null),this.runCore(e,t)},ExpressionRunner.prototype.doOnComplete=function(t,o){this.onRunComplete&&this.onRunComplete(t),e.prototype.doOnComplete.call(this,t,o)},ExpressionRunner}(tu),td=(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),base_spreadArray=function(e,t){for(var o=0,n=t.length,r=e.length;o<n;o++,r++)e[r]=t[o];return e},th=function(){function Bindings(e){this.obj=e,this.properties=null,this.values=null}return Bindings.prototype.getType=function(){return"bindings"},Bindings.prototype.getNames=function(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)this.properties[t].isVisible("",this.obj)&&e.push(this.properties[t].name);return e},Bindings.prototype.getProperties=function(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)e.push(this.properties[t]);return e},Bindings.prototype.setBinding=function(e,t){this.values||(this.values={});var o=this.getJson();o!==t&&(t?this.values[e]=t:(delete this.values[e],0==Object.keys(this.values).length&&(this.values=null)),this.onChangedJSON(o))},Bindings.prototype.clearBinding=function(e){this.setBinding(e,"")},Bindings.prototype.isEmpty=function(){if(!this.values)return!0;for(var e in this.values)return!1;return!0},Bindings.prototype.getValueNameByPropertyName=function(e){if(this.values)return this.values[e]},Bindings.prototype.getPropertiesByValueName=function(e){if(!this.values)return[];var t=[];for(var o in this.values)this.values[o]==e&&t.push(o);return t},Bindings.prototype.getJson=function(){if(!this.isEmpty()){var e={};for(var t in this.values)e[t]=this.values[t];return e}},Bindings.prototype.setJson=function(e,t){var o=this.getJson();if(this.values=null,e)for(var n in this.values={},e)this.values[n]=e[n];t||this.onChangedJSON(o)},Bindings.prototype.fillProperties=function(){if(null===this.properties){this.properties=[];for(var e=eY.getPropertiesByObj(this.obj),t=0;t<e.length;t++)e[t].isBindable&&this.properties.push(e[t])}},Bindings.prototype.onChangedJSON=function(e){this.obj&&this.obj.onBindingChanged(e,this.getJson())},Bindings}(),tg=function(){function Dependencies(e,t,o){this.currentDependency=e,this.target=t,this.property=o,this.dependencies=[],this.id=""+ ++Dependencies.DependenciesCount}return Dependencies.prototype.addDependency=function(e,t){(this.target!==e||this.property!==t)&&(this.dependencies.some(function(o){return o.obj===e&&o.prop===t})||(this.dependencies.push({obj:e,prop:t,id:this.id}),e.registerPropertyChangedHandlers([t],this.currentDependency,this.id)))},Dependencies.prototype.dispose=function(){this.dependencies.forEach(function(e){e.obj.unregisterPropertyChangedHandlers([e.prop],e.id)})},Dependencies.DependenciesCount=0,Dependencies}(),tf=function(){function ComputedUpdater(e){this._updater=e,this.dependencies=void 0,this.type=ComputedUpdater.ComputedUpdaterType}return Object.defineProperty(ComputedUpdater.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),ComputedUpdater.prototype.setDependencies=function(e){this.clearDependencies(),this.dependencies=e},ComputedUpdater.prototype.getDependencies=function(){return this.dependencies},ComputedUpdater.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},ComputedUpdater.prototype.dispose=function(){this.clearDependencies(),this._updater=void 0},ComputedUpdater.ComputedUpdaterType="__dependency_computed",ComputedUpdater}(),ty=function(){function Base(){this.dependencies={},this.propertyHash=Base.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.animationAllowedLock=0,this.supportOnElementRerenderedEvent=!0,this.onElementRerenderedEventEnabled=!1,this._onElementRerendered=new tv,this.bindingsValue=new th(this),eF.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return Base.finishCollectDependencies=function(){var e=Base.currentDependencis;return Base.currentDependencis=void 0,e},Base.startCollectDependencies=function(e,t,o){if(void 0!==Base.currentDependencis)throw Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");Base.currentDependencis=new tg(e,t,o)},Base.collectDependency=function(e,t){void 0!==Base.currentDependencis&&Base.currentDependencis.addDependency(e,t)},Object.defineProperty(Base,"commentSuffix",{get:function(){return t0.commentSuffix},set:function(e){t0.commentSuffix=e},enumerable:!1,configurable:!0}),Object.defineProperty(Base,"commentPrefix",{get:function(){return Base.commentSuffix},set:function(e){Base.commentSuffix=e},enumerable:!1,configurable:!0}),Base.prototype.isValueEmpty=function(e,t){return void 0===t&&(t=!0),t&&(e=this.trimValue(e)),eQ.isValueEmpty(e)},Base.prototype.equals=function(e){return!!e&&!this.isDisposed&&!e.isDisposed&&this.getType()==e.getType()&&this.equalsCore(e)},Base.prototype.equalsCore=function(e){return this.name===e.name&&eQ.isTwoValueEquals(this.toJSON(),e.toJSON(),!1,!0,!1)},Base.prototype.trimValue=function(e){return e&&("string"==typeof e||e instanceof String)?e.trim():e},Base.prototype.isPropertyEmpty=function(e){return""!==e&&this.isValueEmpty(e)},Base.createPropertiesHash=function(){return{}},Base.prototype.dispose=function(){for(var e=this,t=0;t<this.eventList.length;t++)this.eventList[t].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0,Object.keys(this.dependencies).forEach(function(t){return e.dependencies[t].dispose()}),Object.keys(this.propertyHash).forEach(function(t){var o=e.getPropertyValueCore(e.propertyHash,t);o&&o.type==tf.ComputedUpdaterType&&o.dispose()})},Object.defineProperty(Base.prototype,"isDisposed",{get:function(){return!0===this.isDisposedValue},enumerable:!1,configurable:!0}),Base.prototype.addEvent=function(){var e=new tv;return this.eventList.push(e),e},Base.prototype.onBaseCreating=function(){},Base.prototype.getType=function(){return"base"},Base.prototype.isDescendantOf=function(e){return eY.isDescendantOf(this.getType(),e)},Base.prototype.getSurvey=function(e){return void 0===e&&(e=!1),null},Object.defineProperty(Base.prototype,"isDesignMode",{get:function(){var e=this.getSurvey();return!!e&&e.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(Base.prototype,"isDesignModeV2",{get:function(){return t0.supportCreatorV2&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(Base.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Base.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),Base.prototype.checkBindings=function(e,t){},Base.prototype.updateBindings=function(e,t){var o=this.bindings.getValueNameByPropertyName(e);o&&this.updateBindingValue(o,t)},Base.prototype.updateBindingValue=function(e,t){},Base.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(Base.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),Base.prototype.getIsLoadingFromJson=function(){return!!this.loadingOwner&&!!this.loadingOwner.isLoadingFromJson||this.isLoadingFromJsonValue},Base.prototype.startLoadingFromJson=function(e){this.isLoadingFromJsonValue=!0,this.jsonObj=e},Base.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},Base.prototype.toJSON=function(e){return new eK().toJsonObject(this,e)},Base.prototype.fromJSON=function(e,t){new eK().toObject(e,this,t),this.onSurveyLoad()},Base.prototype.onSurveyLoad=function(){},Base.prototype.clone=function(){var e=eY.createClass(this.getType());return e.fromJSON(this.toJSON()),e},Base.prototype.getPropertyByName=function(e){var t=this.getType();return this.classMetaData&&this.classMetaData.name===t||(this.classMetaData=eY.findClass(t)),this.classMetaData?this.classMetaData.findProperty(e):null},Base.prototype.isPropertyVisible=function(e){var t=this.getPropertyByName(e);return!!t&&t.isVisible("",this)},Base.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},Base.prototype.getProgressInfo=function(){return Base.createProgressInfo()},Base.prototype.localeChanged=function(){},Base.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var e in this.arraysInfo){var t=this.arraysInfo[e];if(t&&t.isItemValues){var o=this.getPropertyValue(e);o&&Base.itemValueLocStrChanged&&Base.itemValueLocStrChanged(o)}}if(this.localizableStrings)for(var e in this.localizableStrings){var t=this.getLocalizableString(e);t&&t.strChanged()}},Base.prototype.getPropertyValue=function(e,t){void 0===t&&(t=null);var o=this.getPropertyValueWithoutDefault(e);if(this.isPropertyEmpty(o)){var n=this.localizableStrings?this.localizableStrings[e]:void 0;if(n)return n.text;if(null!=t)return t;var r=this.getDefaultPropertyValue(e);if(void 0!==r)return r}return o},Base.prototype.getDefaultPropertyValue=function(e){var t=this.getPropertyByName(e);if(t&&(!t.isCustom||!this.isCreating)){var o=t.defaultValue;if(t.defaultValueFunc||!this.isPropertyEmpty(o)&&!Array.isArray(o))return o;var n=this.localizableStrings?this.localizableStrings[e]:void 0;if(n&&n.localizationName)return this.getLocalizationString(n.localizationName);if("boolean"==t.type||"switch"==t.type)return!1;if(t.isCustom&&t.onGetValue)return t.onGetValue(this)}},Base.prototype.hasDefaultPropertyValue=function(e){return void 0!==this.getDefaultPropertyValue(e)},Base.prototype.resetPropertyValue=function(e){var t=this.localizableStrings?this.localizableStrings[e]:void 0;t?(this.setLocalizableStringText(e,void 0),t.clear()):this.setPropertyValue(e,void 0)},Base.prototype.getPropertyValueWithoutDefault=function(e){return this.getPropertyValueCore(this.propertyHash,e)},Base.prototype.getPropertyValueCore=function(e,t){return(this.isLoadingFromJson||Base.collectDependency(this,t),this.getPropertyValueCoreHandler)?this.getPropertyValueCoreHandler(e,t):e[t]},Base.prototype.geValueFromHash=function(){return this.propertyHash.value},Base.prototype.setPropertyValueCore=function(e,t,o){this.setPropertyValueCoreHandler?this.isDisposedValue?e0.disposedObjectChangedProperty(t,this.getType()):this.setPropertyValueCoreHandler(e,t,o):e[t]=o},Object.defineProperty(Base.prototype,"isEditingSurveyElement",{get:function(){var e=this.getSurvey();return!!e&&e.isEditingSurveyElement},enumerable:!1,configurable:!0}),Base.prototype.iteratePropertiesHash=function(e){var t=this,o=[];for(var n in this.propertyHash)"value"===n&&this.isEditingSurveyElement&&Array.isArray(this.value)||o.push(n);o.forEach(function(o){return e(t.propertyHash,o)})},Base.prototype.setPropertyValue=function(e,t){if(!this.isLoadingFromJson){var o=this.getPropertyByName(e);o&&(t=o.settingValue(this,t))}var n=this.getPropertyValue(e);n&&Array.isArray(n)&&this.arraysInfo&&(!t||Array.isArray(t))?this.isTwoValueEquals(n,t)||this.setArrayPropertyDirectly(e,t):(this.setPropertyValueDirectly(e,t),this.isDisposedValue||this.isTwoValueEquals(n,t)||this.propertyValueChanged(e,n,t))},Base.prototype.setArrayPropertyDirectly=function(e,t,o){void 0===o&&(o=!0);var n=this.arraysInfo[e];this.setArray(e,this.getPropertyValue(e),t,!!n&&n.isItemValues,n?o&&n.onPush:null)},Base.prototype.setPropertyValueDirectly=function(e,t){this.setPropertyValueCore(this.propertyHash,e,t)},Base.prototype.clearPropertyValue=function(e){this.setPropertyValueCore(this.propertyHash,e,null),delete this.propertyHash[e]},Base.prototype.onPropertyValueChangedCallback=function(e,t,o,n,r){},Base.prototype.itemValuePropertyChanged=function(e,t,o,n){this.onItemValuePropertyChanged.fire(this,{obj:e,name:t,oldValue:o,newValue:n,propertyName:e.ownerPropertyName})},Base.prototype.onPropertyValueChanged=function(e,t,o){},Base.prototype.propertyValueChanged=function(e,t,o,n,r){if(!this.isLoadingFromJson&&(this.updateBindings(e,o),this.onPropertyValueChanged(e,t,o),this.onPropertyChanged.fire(this,{name:e,oldValue:t,newValue:o,arrayChanges:n,target:r}),this.doPropertyValueChangedCallback(e,t,o,n,this),this.checkConditionPropertyChanged(e),this.onPropChangeFunctions))for(var i=0;i<this.onPropChangeFunctions.length;i++)this.onPropChangeFunctions[i].name==e&&this.onPropChangeFunctions[i].func(o,n)},Base.prototype.onBindingChanged=function(e,t){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",e,t)},Object.defineProperty(Base.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),Base.prototype.doPropertyValueChangedCallback=function(e,t,o,n,r){var fireCallback=function(i){i&&i.onPropertyValueChangedCallback&&i.onPropertyValueChangedCallback(e,t,o,r,n)};if(this.isInternal){fireCallback(this);return}r||(r=this);var i=this.getSurvey();i||(i=this),fireCallback(i),i!==this&&fireCallback(this)},Base.prototype.addExpressionProperty=function(e,t,o){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[e]={onExecute:t,canRun:o}},Base.prototype.getDataFilteredValues=function(){return{}},Base.prototype.getDataFilteredProperties=function(){return{}},Base.prototype.runConditionCore=function(e,t){if(this.expressionInfo)for(var o in this.expressionInfo)this.runConditionItemCore(o,e,t)},Base.prototype.canRunConditions=function(){return!this.isDesignMode},Base.prototype.checkConditionPropertyChanged=function(e){this.expressionInfo&&this.expressionInfo[e]&&this.canRunConditions()&&this.runConditionItemCore(e,this.getDataFilteredValues(),this.getDataFilteredProperties())},Base.prototype.runConditionItemCore=function(e,t,o){var n=this,r=this.expressionInfo[e],i=this.getPropertyValue(e);i&&(!r.canRun||r.canRun(this))&&(r.runner||(r.runner=this.createExpressionRunner(i),r.runner.onRunComplete=function(e){r.onExecute(n,e)}),r.runner.expression=i,r.runner.run(t,o))},Base.prototype.doBeforeAsynRun=function(e){this.asynExpressionHash||(this.asynExpressionHash={});var t=!this.isAsyncExpressionRunning;this.asynExpressionHash[e]=!0,t&&this.onAsyncRunningChanged()},Base.prototype.doAfterAsynRun=function(e){this.asynExpressionHash&&(delete this.asynExpressionHash[e],this.isAsyncExpressionRunning||this.onAsyncRunningChanged())},Base.prototype.onAsyncRunningChanged=function(){},Object.defineProperty(Base.prototype,"isAsyncExpressionRunning",{get:function(){return!!this.asynExpressionHash&&Object.keys(this.asynExpressionHash).length>0},enumerable:!1,configurable:!0}),Base.prototype.createExpressionRunner=function(e){var t=this,o=new tp(e);return o.onBeforeAsyncRun=function(e){t.doBeforeAsynRun(e)},o.onAfterAsyncRun=function(e){t.doAfterAsynRun(e)},o},Base.prototype.registerPropertyChangedHandlers=function(e,t,o){void 0===o&&(o=null);for(var n=0;n<e.length;n++)this.registerFunctionOnPropertyValueChanged(e[n],t,o)},Base.prototype.unregisterPropertyChangedHandlers=function(e,t){void 0===t&&(t=null);for(var o=0;o<e.length;o++)this.unRegisterFunctionOnPropertyValueChanged(e[o],t)},Base.prototype.registerFunctionOnPropertyValueChanged=function(e,t,o){if(void 0===o&&(o=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),o)for(var n=0;n<this.onPropChangeFunctions.length;n++){var r=this.onPropChangeFunctions[n];if(r.name==e&&r.key==o){r.func=t;return}}this.onPropChangeFunctions.push({name:e,func:t,key:o})},Base.prototype.registerFunctionOnPropertiesValueChanged=function(e,t,o){void 0===o&&(o=null),this.registerPropertyChangedHandlers(e,t,o)},Base.prototype.unRegisterFunctionOnPropertyValueChanged=function(e,t){if(void 0===t&&(t=null),this.onPropChangeFunctions)for(var o=0;o<this.onPropChangeFunctions.length;o++){var n=this.onPropChangeFunctions[o];if(n.name==e&&n.key==t){this.onPropChangeFunctions.splice(o,1);return}}},Base.prototype.unRegisterFunctionOnPropertiesValueChanged=function(e,t){void 0===t&&(t=null),this.unregisterPropertyChangedHandlers(e,t)},Base.prototype.createCustomLocalizableObj=function(e){return this.getLocalizableString(e)||this.createLocalizableString(e,this,!1,!0)},Base.prototype.getLocale=function(){var e=this.getSurvey();return e?e.getLocale():""},Base.prototype.getLocalizationString=function(e){return getLocaleString(e,this.getLocale())},Base.prototype.getLocalizationFormatString=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var n=this.getLocalizationString(e);return n&&n.format?n.format.apply(n,t):""},Base.prototype.createLocalizableString=function(e,t,o,n){var r=this;void 0===o&&(o=!1),void 0===n&&(n=!1);var i=void 0;n&&(i=!0===n?e:n);var s=new tZ(t,o,e,i);s.onStrChanged=function(t,o){r.propertyValueChanged(e,t,o)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[e]=s;var a=this.getPropertyByName(e);return s.disableLocalization=a&&!1===a.isLocalizable,s},Base.prototype.getLocalizableString=function(e){return this.localizableStrings?this.localizableStrings[e]:null},Base.prototype.getLocalizableStringText=function(e,t){void 0===t&&(t=""),Base.collectDependency(this,e);var o=this.getLocalizableString(e);return o?o.text||t:""},Base.prototype.setLocalizableStringText=function(e,t){var o=this.getLocalizableString(e);o&&o.text!=t&&(o.text=t)},Base.prototype.addUsedLocales=function(e){if(this.localizableStrings)for(var t in this.localizableStrings){var o=this.getLocalizableString(t);o&&this.AddLocStringToUsedLocales(o,e)}if(this.arraysInfo)for(var t in this.arraysInfo){var n=this.getPropertyByName(t);if(n&&n.isSerializable){var r=this.getPropertyValue(t);if(r&&r.length)for(var i=0;i<r.length;i++){var o=r[i];o&&o.addUsedLocales&&o.addUsedLocales(e)}}}},Base.prototype.searchText=function(e,t){var o=[];this.getSearchableLocalizedStrings(o);for(var n=0;n<o.length;n++)o[n].setFindText(e)&&t.push({element:this,str:o[n]})},Base.prototype.getSearchableLocalizedStrings=function(e){if(this.localizableStrings){var t=[];this.getSearchableLocKeys(t);for(var o=0;o<t.length;o++){var n=this.getLocalizableString(t[o]);n&&e.push(n)}}if(this.arraysInfo){var r=[];this.getSearchableItemValueKeys(r);for(var o=0;o<r.length;o++){var i=this.getPropertyValue(r[o]);if(i)for(var s=0;s<i.length;s++)e.push(i[s].locText)}}},Base.prototype.getSearchableLocKeys=function(e){},Base.prototype.getSearchableItemValueKeys=function(e){},Base.prototype.AddLocStringToUsedLocales=function(e,t){for(var o=e.getLocales(),n=0;n<o.length;n++)0>t.indexOf(o[n])&&t.push(o[n])},Base.prototype.createItemValues=function(e){var t=this,o=this.createNewArray(e,function(o){if(o.locOwner=t,o.ownerPropertyName=e,"function"==typeof o.getSurvey){var n=o.getSurvey();n&&"function"==typeof n.makeReactive&&n.makeReactive(o)}});return this.arraysInfo[e].isItemValues=!0,o},Base.prototype.notifyArrayChanged=function(e,t){e.onArrayChanged&&e.onArrayChanged(t)},Base.prototype.createNewArrayCore=function(e){var t=null;return this.createArrayCoreHandler&&(t=this.createArrayCoreHandler(this.propertyHash,e)),t||(t=[],this.setPropertyValueCore(this.propertyHash,e,t)),t},Base.prototype.ensureArray=function(e,t,o){if(void 0===t&&(t=null),void 0===o&&(o=null),!this.arraysInfo||!this.arraysInfo[e])return this.createNewArray(e,t,o)},Base.prototype.createNewArray=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=this.createNewArrayCore(e);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[e]={onPush:t,isItemValues:!1};var r=this;return n.push=function(o){var i=Object.getPrototypeOf(n).push.call(n,o);if(!r.isDisposedValue){t&&t(o,n.length-1);var s=new ArrayChanges(n.length-1,0,[o],[]);r.propertyValueChanged(e,n,n,s),r.notifyArrayChanged(n,s)}return i},n.shift=function(){var t=Object.getPrototypeOf(n).shift.call(n);if(!r.isDisposedValue&&t){o&&o(t);var i=new ArrayChanges(n.length-1,1,[],[]);r.propertyValueChanged(e,n,n,i),r.notifyArrayChanged(n,i)}return t},n.unshift=function(o){var i=Object.getPrototypeOf(n).unshift.call(n,o);if(!r.isDisposedValue){t&&t(o,n.length-1);var s=new ArrayChanges(0,0,[o],[]);r.propertyValueChanged(e,n,n,s),r.notifyArrayChanged(n,s)}return i},n.pop=function(){var t=Object.getPrototypeOf(n).pop.call(n);if(!r.isDisposedValue){o&&o(t);var i=new ArrayChanges(n.length-1,1,[],[]);r.propertyValueChanged(e,n,n,i),r.notifyArrayChanged(n,i)}return t},n.splice=function(i,s){for(var a,l=[],u=2;u<arguments.length;u++)l[u-2]=arguments[u];i||(i=0),s||(s=0);var c=(a=Object.getPrototypeOf(n).splice).call.apply(a,base_spreadArray([n,i,s],l));if(l||(l=[]),!r.isDisposedValue){if(o&&c)for(var p=0;p<c.length;p++)o(c[p]);if(t)for(var p=0;p<l.length;p++)t(l[p],i+p);var d=new ArrayChanges(i,s,l,c);r.propertyValueChanged(e,n,n,d),r.notifyArrayChanged(n,d)}return c},n},Base.prototype.getItemValueType=function(){},Base.prototype.setArray=function(e,t,o,n,r){var i=[].concat(t);if(Object.getPrototypeOf(t).splice.call(t,0,t.length),o)for(var s=0;s<o.length;s++){var a=o[s];n&&Base.createItemValue&&(a=Base.createItemValue(a,this.getItemValueType())),Object.getPrototypeOf(t).push.call(t,a),r&&r(t[s])}var l=new ArrayChanges(0,i.length,t,i);this.propertyValueChanged(e,i,t,l),this.notifyArrayChanged(t,l)},Base.prototype.isTwoValueEquals=function(e,t,o,n){return void 0===o&&(o=!1),void 0===n&&(n=!1),eQ.isTwoValueEquals(e,t,!1,!o,n)},Base.copyObject=function(e,t){for(var o in t){var n=t[o];"object"==typeof n&&(n={},this.copyObject(n,t[o])),e[o]=n}},Base.prototype.copyCssClasses=function(e,t){t&&("string"==typeof t||t instanceof String?e.root=t:Base.copyObject(e,t))},Base.prototype.getValueInLowCase=function(e){return e&&"string"==typeof e?e.toLowerCase():e},Base.prototype.getElementsInDesign=function(e){return void 0===e&&(e=!1),[]},Object.defineProperty(Base.prototype,"animationAllowed",{get:function(){return this.getIsAnimationAllowed()},enumerable:!1,configurable:!0}),Base.prototype.getIsAnimationAllowed=function(){return t0.animationEnabled&&this.animationAllowedLock>=0&&!this.isLoadingFromJson&&!this.isDisposed&&(!!this.onElementRerendered||!this.supportOnElementRerenderedEvent)},Base.prototype.blockAnimations=function(){this.animationAllowedLock--},Base.prototype.releaseAnimations=function(){this.animationAllowedLock++},Base.prototype.enableOnElementRerenderedEvent=function(){this.onElementRerenderedEventEnabled=!0},Base.prototype.disableOnElementRerenderedEvent=function(){var e;null===(e=this.onElementRerendered)||void 0===e||e.fire(this,{isCancel:!0}),this.onElementRerenderedEventEnabled=!1},Object.defineProperty(Base.prototype,"onElementRerendered",{get:function(){return this.supportOnElementRerenderedEvent&&this.onElementRerenderedEventEnabled?this._onElementRerendered:void 0},enumerable:!1,configurable:!0}),Base.prototype.afterRerender=function(){var e;null===(e=this.onElementRerendered)||void 0===e||e.fire(this,{isCancel:!1})},Base.currentDependencis=void 0,Base}(),ArrayChanges=function(e,t,o,n){this.index=e,this.deleteCount=t,this.itemsToAdd=o,this.deletedItems=n},tm=function(){function Event(){}return Object.defineProperty(Event.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),Object.defineProperty(Event.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),Event.prototype.fireByCreatingOptions=function(e,t){if(this.callbacks){for(var o=0;o<this.callbacks.length;o++)if(this.callbacks[o](e,t()),!this.callbacks)return}},Event.prototype.fire=function(e,t){if(this.callbacks){for(var o=[].concat(this.callbacks),n=0;n<o.length;n++)if(o[n](e,t),!this.callbacks)return}},Event.prototype.clear=function(){this.callbacks=void 0},Event.prototype.add=function(e){this.hasFunc(e)||(this.callbacks||(this.callbacks=[]),this.callbacks.push(e),this.fireCallbackChanged())},Event.prototype.remove=function(e){if(this.hasFunc(e)){var t=this.callbacks.indexOf(e,0);this.callbacks.splice(t,1),this.fireCallbackChanged()}},Event.prototype.hasFunc=function(e){return null!=this.callbacks&&this.callbacks.indexOf(e,0)>-1},Event.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},Event}(),tv=function(e){function EventBase(){return null!==e&&e.apply(this,arguments)||this}return td(EventBase,e),EventBase}(tm),tb=(l=function(e,t){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),tC=function(){function ResponsivityManager(e,t,o,n,r){var i=this;void 0===n&&(n=null),void 0===r&&(r=function(e){queueMicrotask?queueMicrotask(e):e()}),this.container=e,this.model=t,this.itemsSelector=o,this.dotsItemSize=n,this.delayedUpdateFunction=r,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.dotsIconClass=".sv-dots",this.iconClass=".sv-svg-icon",this.recalcMinDimensionConst=!0,this.getComputedStyle=function(e){return eD.getComputedStyle(e)},this.model.updateCallback=function(e){e&&(i.isInitialized=!1),setTimeout(function(){i.process()},1)},"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(e){eE.requestAnimationFrame(function(){i.process()})}),this.resizeObserver.observe(this.container.parentElement))}return ResponsivityManager.prototype.getDimensions=function(e){return{scroll:e.scrollWidth,offset:e.offsetWidth}},ResponsivityManager.prototype.getAvailableSpace=function(){var e=this.getComputedStyle(this.container),t=this.container.offsetWidth;return"border-box"===e.boxSizing&&(t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)),t},ResponsivityManager.prototype.calcItemSize=function(e){return e.offsetWidth||e.getBoundingClientRect().width},ResponsivityManager.prototype.calcMinDimension=function(e,t){if(t&&(!e.iconSize||"auto"===e.iconSize)){var o,n=t.querySelector(this.iconClass);o=n&&this.calcItemSize(n)}else e.iconSize&&"number"==typeof e.iconSize&&this.recalcMinDimensionConst&&(o=e.iconSize);var r=o?o+2*this.paddingSizeConst:this.minDimensionConst;return e.canShrink?r+(e.needSeparator?this.separatorSize:0):e.maxDimension},ResponsivityManager.prototype.calcItemsSizes=function(){var e=this;if(this.container&&!this.isInitialized){var t=this.model.actions;(this.container.querySelectorAll(this.itemsSelector)||[]).forEach(function(o,n){var r=t[n];r&&e.calcActionDimensions(r,o)})}},ResponsivityManager.prototype.calcActionDimensions=function(e,t){e.maxDimension=this.calcItemSize(t),e.minDimension=this.calcMinDimension(e,t)},Object.defineProperty(ResponsivityManager.prototype,"isContainerVisible",{get:function(){return!!this.container&&isContainerVisible(this.container)},enumerable:!1,configurable:!0}),ResponsivityManager.prototype.process=function(){var e=this;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||this.model.setActionsMode("large");var processResponsiveness_1=function(){var t,o=e.dotsItemSize;if(!e.dotsItemSize){var n=null===(t=e.container)||void 0===t?void 0:t.querySelector(e.dotsIconClass);o=n&&e.calcItemSize(n)||e.dotsSizeConst}e.model.fit(e.getAvailableSpace(),o)};if(this.isInitialized)processResponsiveness_1();else{var callback=function(){e.container&&(e.calcItemsSizes(),e.isInitialized=!0,processResponsiveness_1())};this.delayedUpdateFunction?this.delayedUpdateFunction(callback):callback()}}},ResponsivityManager.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.container=void 0},ResponsivityManager}(),tw=function(e){function VerticalResponsivityManager(t,o,n,r,i,s){void 0===i&&(i=40);var a=e.call(this,t,o,n,r,s)||this;return a.minDimensionConst=i,a.recalcMinDimensionConst=!1,a}return tb(VerticalResponsivityManager,e),VerticalResponsivityManager.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},VerticalResponsivityManager.prototype.getAvailableSpace=function(){var e=this.getComputedStyle(this.container),t=this.container.offsetHeight;return"border-box"===e.boxSizing&&(t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)),t},VerticalResponsivityManager.prototype.calcItemSize=function(e){return e.offsetHeight},VerticalResponsivityManager.prototype.calcActionDimensions=function(e,t){e.maxDimension=this.calcItemSize(t),e.minDimension=this.calcItemSize(t)},VerticalResponsivityManager}(tC),tP=function(){function CssClassBuilder(){this.classes=[]}return CssClassBuilder.prototype.isEmpty=function(){return""===this.toString()},CssClassBuilder.prototype.append=function(e,t){return void 0===t&&(t=!0),e&&t&&("string"==typeof e&&(e=e.trim()),this.classes.push(e)),this},CssClassBuilder.prototype.toString=function(){return this.classes.join(" ")},CssClassBuilder}(),tx=(u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),__decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},tM={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemWithTitle:"",itemAsIcon:"sv-action-bar-item--icon",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},tV=function(e){function ActionContainer(){var t=null!==e&&e.apply(this,arguments)||this;return t.sizeMode="default",t}return tx(ActionContainer,e),ActionContainer.prototype.getMarkdownHtml=function(e,t){return this.locOwner?this.locOwner.getMarkdownHtml(e,t):void 0},ActionContainer.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},ActionContainer.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},ActionContainer.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},ActionContainer.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},ActionContainer.prototype.getRenderedActions=function(){return this.actions},ActionContainer.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.actions.forEach(function(e){e.locTitle&&e.locTitle.strChanged(),e.locStrsChanged()})},ActionContainer.prototype.raiseUpdate=function(e){this.isEmpty=!this.actions.some(function(e){return e.visible}),this.updateCallback&&this.updateCallback(e)},ActionContainer.prototype.onSet=function(){var e=this;this.actions.forEach(function(t){e.setActionCssClasses(t)}),this.raiseUpdate(!0)},ActionContainer.prototype.onPush=function(e){this.setActionCssClasses(e),e.owner=this,this.raiseUpdate(!0)},ActionContainer.prototype.onRemove=function(e){e.owner=null,this.raiseUpdate(!0)},ActionContainer.prototype.setActionCssClasses=function(e){e.cssClasses=this.cssClasses},Object.defineProperty(ActionContainer.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(ActionContainer.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(ActionContainer.prototype,"visibleActions",{get:function(){return this.actions.filter(function(e){return!1!==e.visible})},enumerable:!1,configurable:!0}),ActionContainer.prototype.getRootCss=function(){var e="small"===this.sizeMode?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return new tP().append(this.cssClasses.root+(e?" "+e:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},ActionContainer.prototype.getDefaultCssClasses=function(){return tM},Object.defineProperty(ActionContainer.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(e){var t=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),mergeValues(e,this.cssClasses),this.actions.forEach(function(e){t.setActionCssClasses(e)})},enumerable:!1,configurable:!0}),ActionContainer.prototype.createAction=function(e){return e instanceof tD?e:new tQ(e)},ActionContainer.prototype.addAction=function(e,t){void 0===t&&(t=!0);var o=this.createAction(e);if(t&&!this.isActionVisible(o))return o;var n=[].concat(this.actions,o);return this.sortItems(n),this.actions=n,o},ActionContainer.prototype.setItems=function(e,t){var o=this;void 0===t&&(t=!0);var n=[];e.forEach(function(e){(!t||o.isActionVisible(e))&&n.push(o.createAction(e))}),t&&this.sortItems(n),this.actions=n},ActionContainer.prototype.sortItems=function(e){this.hasSetVisibleIndex(e)&&e.sort(this.compareByVisibleIndex)},ActionContainer.prototype.hasSetVisibleIndex=function(e){for(var t=0;t<e.length;t++){var o=e[t].visibleIndex;if(void 0!==o&&o>=0)return!0}return!1},ActionContainer.prototype.compareByVisibleIndex=function(e,t){return e.visibleIndex-t.visibleIndex},ActionContainer.prototype.isActionVisible=function(e){return e.visibleIndex>=0||void 0===e.visibleIndex},ActionContainer.prototype.popupAfterShowCallback=function(e){},ActionContainer.prototype.mouseOverHandler=function(e){var t=this;e.isHovered=!0,this.actions.forEach(function(o){o===e&&e.popupModel&&(e.showPopupDelayed(t.subItemsShowDelay),t.popupAfterShowCallback(e))})},ActionContainer.prototype.initResponsivityManager=function(e,t){},ActionContainer.prototype.resetResponsivityManager=function(){},ActionContainer.prototype.getActionById=function(e){for(var t=0;t<this.actions.length;t++)if(this.actions[t].id===e)return this.actions[t];return null},ActionContainer.prototype.dispose=function(){e.prototype.dispose.call(this),this.resetResponsivityManager(),this.actions.forEach(function(e){return e.dispose()}),this.actions.length=0},__decorate([propertyArray({onSet:function(e,t){t.onSet()},onPush:function(e,t,o){o.onPush(e)},onRemove:function(e,t,o){o.onRemove(e)}})],ActionContainer.prototype,"actions",void 0),__decorate([jsonobject_property({})],ActionContainer.prototype,"containerCss",void 0),__decorate([jsonobject_property({defaultValue:!1})],ActionContainer.prototype,"isEmpty",void 0),__decorate([jsonobject_property({defaultValue:300})],ActionContainer.prototype,"subItemsShowDelay",void 0),__decorate([jsonobject_property({defaultValue:300})],ActionContainer.prototype,"subItemsHideDelay",void 0),ActionContainer}(ty),tS=function(){function ElementHelper(){}return ElementHelper.focusElement=function(e){e&&e.focus()},ElementHelper.visibility=function(e){var t=eD.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&(!e.parentElement||this.visibility(e.parentElement))},ElementHelper.getNextElementPreorder=function(e){var t=e.nextElementSibling?e.nextElementSibling:e.parentElement.firstElementChild;return this.visibility(t)?t:this.getNextElementPreorder(t)},ElementHelper.getNextElementPostorder=function(e){var t=e.previousElementSibling?e.previousElementSibling:e.parentElement.lastElementChild;return this.visibility(t)?t:this.getNextElementPostorder(t)},ElementHelper.hasHorizontalScroller=function(e){return!!e&&e.scrollWidth>e.offsetWidth},ElementHelper.hasVerticalScroller=function(e){return!!e&&e.scrollHeight>e.offsetHeight},ElementHelper}(),t_=(c=function(e,t){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),list_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},tT={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemGroup:"sv-list__item--group",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemHovered:"sv-list__item--hovered",itemTextWrap:"sv-list__item-text--wrap",itemIcon:"sv-list__item-icon",itemMarkerIcon:"sv-list-item__marker-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},tR=function(e){function ListModel(t,o,n,r,i){var s=e.call(this)||this;return s.onSelectionChanged=o,s.allowSelection=n,s.elementId=i,s.onItemClick=function(e){if(!s.isItemDisabled(e)){s.isExpanded=!1,s.allowSelection&&(s.selectedItem=e),s.onSelectionChanged&&s.onSelectionChanged(e);var t=e.action;t&&t(e)}},s.onItemHover=function(e){s.mouseOverHandler(e)},s.isItemDisabled=function(e){return void 0!==e.enabled&&!e.enabled},s.isItemSelected=function(e){return s.areSameItems(s.selectedItem,e)},s.isItemFocused=function(e){return s.areSameItems(s.focusedItem,e)},s.getListClass=function(){return new tP().append(s.cssClasses.itemsContainer).append(s.cssClasses.itemsContainerFiltering,!!s.filterString&&s.visibleActions.length!==s.visibleItems.length).toString()},s.getItemClass=function(e){return new tP().append(s.cssClasses.item).append(s.cssClasses.itemWithIcon,!!e.iconName).append(s.cssClasses.itemDisabled,s.isItemDisabled(e)).append(s.cssClasses.itemFocused,s.isItemFocused(e)).append(s.cssClasses.itemSelected,s.isItemSelected(e)).append(s.cssClasses.itemGroup,e.hasSubItems).append(s.cssClasses.itemHovered,e.isHovered).append(s.cssClasses.itemTextWrap,s.textWrapEnabled).append(e.css).toString()},s.getItemIndent=function(e){return((e.level||0)+1)*ListModel.INDENT+"px"},-1!==Object.keys(t).indexOf("items")?Object.keys(t).forEach(function(e){switch(e){case"items":s.setItems(t.items);break;case"onFilterStringChangedCallback":s.setOnFilterStringChangedCallback(t.onFilterStringChangedCallback);break;case"onTextSearchCallback":s.setOnTextSearchCallback(t.onTextSearchCallback);break;default:s[e]=t[e]}}):(s.setItems(t),s.selectedItem=r),s}return t_(ListModel,e),ListModel.prototype.hasText=function(e,t){if(!t)return!0;var o=e.title||"";if(this.onTextSearchCallback)return this.onTextSearchCallback(e,t);var n=o.toLocaleLowerCase();return(n=t0.comparator.normalizeTextCallback(n,"filter")).indexOf(t.toLocaleLowerCase())>-1},ListModel.prototype.isItemVisible=function(e){return e.visible&&(!this.shouldProcessFilter||this.hasText(e,this.filterString))},ListModel.prototype.getRenderedActions=function(){var t=e.prototype.getRenderedActions.call(this);if(this.filterString){var o=[];return t.forEach(function(e){o.push(e),e.items&&e.items.forEach(function(t){var n=new tQ(t);n.iconName||(n.iconName=e.iconName),o.push(n)})}),o}return t},Object.defineProperty(ListModel.prototype,"visibleItems",{get:function(){var e=this;return this.visibleActions.filter(function(t){return e.isItemVisible(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(ListModel.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),ListModel.prototype.onFilterStringChanged=function(e){var t=this;this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(e),this.isEmpty=0===this.renderedActions.filter(function(e){return t.isItemVisible(e)}).length},ListModel.prototype.scrollToItem=function(e,t){var o=this;void 0===t&&(t=0),setTimeout(function(){if(o.listContainerHtmlElement){var n=o.listContainerHtmlElement.querySelector("."+e);n&&setTimeout(function(){n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},t)}},t)},ListModel.prototype.setOnFilterStringChangedCallback=function(e){this.onFilterStringChangedCallback=e},ListModel.prototype.setOnTextSearchCallback=function(e){this.onTextSearchCallback=e},ListModel.prototype.setItems=function(t,o){var n=this;void 0===o&&(o=!0),e.prototype.setItems.call(this,t,o),this.elementId&&this.renderedActions.forEach(function(e){e.elementId=n.elementId+e.id}),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},ListModel.prototype.setSearchEnabled=function(e){this.searchEnabled=e,this.showSearchClearButton=e},ListModel.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>ListModel.MINELEMENTCOUNT),e.prototype.onSet.call(this)},ListModel.prototype.getDefaultCssClasses=function(){return tT},ListModel.prototype.popupAfterShowCallback=function(e){this.addScrollEventListener(function(){e.hidePopup()})},ListModel.prototype.onItemLeave=function(e){e.hidePopupDelayed(this.subItemsHideDelay)},ListModel.prototype.areSameItems=function(e,t){return this.areSameItemsCallback?this.areSameItemsCallback(e,t):!!e&&!!t&&e.id==t.id},Object.defineProperty(ListModel.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(ListModel.prototype,"emptyMessage",{get:function(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.loadingText},enumerable:!1,configurable:!0}),Object.defineProperty(ListModel.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector("."+this.getDefaultCssClasses().itemsContainer)},enumerable:!1,configurable:!0}),Object.defineProperty(ListModel.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(ListModel.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new tQ({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),ListModel.prototype.goToItems=function(e){if("ArrowDown"===e.key||40===e.keyCode){var t=e.target.parentElement.parentElement.querySelector("ul"),o=function(e){for(var t,o=0;o<e.children.length;o++)t||"none"===getComputedStyle(e.children[o]).display||(t=e.children[o]);return t}(t);t&&o&&(tS.focusElement(o),e.preventDefault())}},ListModel.prototype.onMouseMove=function(e){this.resetFocusedItem()},ListModel.prototype.onKeyDown=function(e){var t=e.target;"ArrowDown"===e.key||40===e.keyCode?(tS.focusElement(tS.getNextElementPreorder(t)),e.preventDefault()):("ArrowUp"===e.key||38===e.keyCode)&&(tS.focusElement(tS.getNextElementPostorder(t)),e.preventDefault())},ListModel.prototype.onPointerDown=function(e,t){},ListModel.prototype.refresh=function(){this.filterString="",this.resetFocusedItem()},ListModel.prototype.onClickSearchClearButton=function(e){e.currentTarget.parentElement.querySelector("input").focus(),this.refresh()},ListModel.prototype.resetFocusedItem=function(){this.focusedItem=void 0},ListModel.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},ListModel.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},ListModel.prototype.initFocusedItem=function(){var e=this;this.focusedItem=this.visibleItems.filter(function(t){return t.visible&&e.isItemSelected(t)})[0],this.focusedItem||this.focusFirstVisibleItem()},ListModel.prototype.focusNextVisibleItem=function(){if(this.focusedItem){var e=this.visibleItems,t=e.indexOf(this.focusedItem),o=e[t+1];o?this.focusedItem=o:this.focusFirstVisibleItem()}else this.initFocusedItem()},ListModel.prototype.focusPrevVisibleItem=function(){if(this.focusedItem){var e=this.visibleItems,t=e.indexOf(this.focusedItem),o=e[t-1];o?this.focusedItem=o:this.focusLastVisibleItem()}else this.initFocusedItem()},ListModel.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},ListModel.prototype.initListContainerHtmlElement=function(e){this.listContainerHtmlElement=e},ListModel.prototype.onLastItemRended=function(e){!this.isAllDataLoaded&&e===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=tS.hasVerticalScroller(this.scrollableContainer))},ListModel.prototype.scrollToFocusedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemFocused)},ListModel.prototype.scrollToSelectedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemSelected,110)},ListModel.prototype.addScrollEventListener=function(e){e&&(this.removeScrollEventListener(),this.scrollHandler=e),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},ListModel.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},ListModel.prototype.dispose=function(){e.prototype.dispose.call(this),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose(),this.listContainerHtmlElement=void 0},ListModel.INDENT=16,ListModel.MINELEMENTCOUNT=10,list_decorate([jsonobject_property({defaultValue:!0,onSet:function(e,t){t.onSet()}})],ListModel.prototype,"searchEnabled",void 0),list_decorate([jsonobject_property({defaultValue:!1})],ListModel.prototype,"showFilter",void 0),list_decorate([jsonobject_property({defaultValue:!1})],ListModel.prototype,"forceShowFilter",void 0),list_decorate([jsonobject_property({defaultValue:!1})],ListModel.prototype,"isExpanded",void 0),list_decorate([jsonobject_property({})],ListModel.prototype,"selectedItem",void 0),list_decorate([jsonobject_property()],ListModel.prototype,"focusedItem",void 0),list_decorate([jsonobject_property({onSet:function(e,t){t.onFilterStringChanged(t.filterString)}})],ListModel.prototype,"filterString",void 0),list_decorate([jsonobject_property({defaultValue:!1})],ListModel.prototype,"hasVerticalScroller",void 0),list_decorate([jsonobject_property({defaultValue:!0})],ListModel.prototype,"isAllDataLoaded",void 0),list_decorate([jsonobject_property({defaultValue:!1})],ListModel.prototype,"showSearchClearButton",void 0),list_decorate([jsonobject_property({defaultValue:!0})],ListModel.prototype,"renderElements",void 0),list_decorate([jsonobject_property({defaultValue:!1})],ListModel.prototype,"textWrapEnabled",void 0),list_decorate([jsonobject_property({defaultValue:"sv-list-item-content"})],ListModel.prototype,"itemComponent",void 0),ListModel}(tV),tO=(p=function(e,t){return(p=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),popup_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},tI=function(e){function PopupModel(t,o,n,r){var i=e.call(this)||this;if(i.focusFirstInputSelector="",i.onCancel=function(){},i.onApply=function(){return!0},i.onHide=function(){},i.onShow=function(){},i.onDispose=function(){},i.onVisibilityChanged=i.addEvent(),i.onFooterActionsCreated=i.addEvent(),i.onRecalculatePosition=i.addEvent(),i.contentComponentName=t,i.contentComponentData=o,n&&"string"==typeof n)i.verticalPosition=n,i.horizontalPosition=r;else if(n)for(var s in n)i[s]=n[s];return i}return tO(PopupModel,e),PopupModel.prototype.refreshInnerModel=function(){var e=this.contentComponentData.model;e&&e.refresh&&e.refresh()},Object.defineProperty(PopupModel.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(e){this.isVisible!==e&&(this.setPropertyValue("isVisible",e),this.onVisibilityChanged.fire(this,{model:this,isVisible:e}))},enumerable:!1,configurable:!0}),PopupModel.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},PopupModel.prototype.show=function(){this.isVisible||(this.isVisible=!0)},PopupModel.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},PopupModel.prototype.recalculatePosition=function(e){this.onRecalculatePosition.fire(this,{isResetHeight:e})},PopupModel.prototype.updateFooterActions=function(e){var t={actions:e};return this.onFooterActionsCreated.fire(this,t),t.actions},PopupModel.prototype.updateDisplayMode=function(e){switch(this.displayMode!==e&&(this.setWidthByTarget="dropdown"===e),e){case"dropdown":this.displayMode="popup";break;case"popup":this.displayMode="overlay",this.overlayDisplayMode="tablet-dropdown-overlay";break;case"overlay":this.displayMode="overlay",this.overlayDisplayMode="dropdown-overlay"}},PopupModel.prototype.onHiding=function(){this.refreshInnerModel(),this.onHide()},PopupModel.prototype.dispose=function(){e.prototype.dispose.call(this),this.onDispose()},popup_decorate([jsonobject_property()],PopupModel.prototype,"contentComponentName",void 0),popup_decorate([jsonobject_property()],PopupModel.prototype,"contentComponentData",void 0),popup_decorate([jsonobject_property({defaultValue:"bottom"})],PopupModel.prototype,"verticalPosition",void 0),popup_decorate([jsonobject_property({defaultValue:"left"})],PopupModel.prototype,"horizontalPosition",void 0),popup_decorate([jsonobject_property({defaultValue:!0})],PopupModel.prototype,"showPointer",void 0),popup_decorate([jsonobject_property({defaultValue:!1})],PopupModel.prototype,"isModal",void 0),popup_decorate([jsonobject_property({defaultValue:!0})],PopupModel.prototype,"canShrink",void 0),popup_decorate([jsonobject_property({defaultValue:!0})],PopupModel.prototype,"isFocusedContent",void 0),popup_decorate([jsonobject_property({defaultValue:!0})],PopupModel.prototype,"isFocusedContainer",void 0),popup_decorate([jsonobject_property({defaultValue:""})],PopupModel.prototype,"cssClass",void 0),popup_decorate([jsonobject_property({defaultValue:""})],PopupModel.prototype,"title",void 0),popup_decorate([jsonobject_property({defaultValue:"auto"})],PopupModel.prototype,"overlayDisplayMode",void 0),popup_decorate([jsonobject_property({defaultValue:"popup"})],PopupModel.prototype,"displayMode",void 0),popup_decorate([jsonobject_property({defaultValue:"flex"})],PopupModel.prototype,"positionMode",void 0),PopupModel}(ty);function createDialogOptions(e,t,o,n,r,i,s,a,l){return void 0===r&&(r=function(){}),void 0===i&&(i=function(){}),void 0===l&&(l="popup"),e0.warn("The `showModal()` and `createDialogOptions()` methods are obsolete. Use the `showDialog()` method instead."),{componentName:e,data:t,onApply:o,onCancel:n,onHide:r,onShow:i,cssClass:s,title:a,displayMode:l}}var tE=(d=function(e,t){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),action_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},action_spreadArray=function(e,t){for(var o=0,n=t.length,r=e.length;o<n;o++,r++)e[r]=t[o];return e};function createDropdownActionModel(e,t,o){return t.locOwner=o,createDropdownActionModelAdvanced(e,t,t)}function createDropdownActionModelAdvanced(e,t,o){var n,r=t.onSelectionChanged;t.onSelectionChanged=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];a.hasTitle&&(a.title=e.title),r&&r(e,t)};var i=createPopupModelWithListModel(t,o);i.getTargetCallback=getActionDropdownButtonTarget;var s=Object.assign({},e,{component:"sv-action-bar-item-dropdown",popupModel:i,action:function(t,o){e.action&&e.action(),i.isFocusedContent=i.isFocusedContent||!o,i.show()}}),a=new tQ(s);return a.data=null===(n=i.contentComponentData)||void 0===n?void 0:n.model,a}function createPopupModelWithListModel(e,t){var o=new tR(e);o.onSelectionChanged=function(t){e.onSelectionChanged&&e.onSelectionChanged(t),r.hide()};var n=t||{};n.onDispose=function(){o.dispose()};var r=new tI("sv-list",{model:o},n);return r.isFocusedContent=o.showFilter,r.onShow=function(){n.onShow&&n.onShow(),o.scrollToSelectedItem()},r}function getActionDropdownButtonTarget(e){return null==e?void 0:e.previousElementSibling}var tD=function(e){function BaseAction(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendredIdValue=BaseAction.getNextRendredId(),t.markerIconSize=16,t}return tE(BaseAction,e),BaseAction.getNextRendredId=function(){return BaseAction.renderedId++},Object.defineProperty(BaseAction.prototype,"renderedId",{get:function(){return this.rendredIdValue},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"owner",{get:function(){return this.ownerValue},set:function(e){e!==this.owner&&(this.ownerValue=e,this.locStrsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"visible",{get:function(){return this.getVisible()},set:function(e){this.setVisible(e)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"enabled",{get:function(){return this.getEnabled()},set:function(e){this.setEnabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"component",{get:function(){return this.getComponent()},set:function(e){this.setComponent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"locTitle",{get:function(){return this.getLocTitle()},set:function(e){this.setLocTitle(e)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"title",{get:function(){return this.getTitle()},set:function(e){this.setTitle(e)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"cssClasses",{get:function(){return this.cssClassesValue||tM},set:function(e){this.cssClassesValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"isVisible",{get:function(){return this.visible&&"popup"!==this.mode&&"removed"!==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"disabled",{get:function(){return void 0!==this.enabled&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"canShrink",{get:function(){return!this.disableShrink&&!!this.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"hasTitle",{get:function(){return("small"!=this.mode&&(this.showTitle||void 0===this.showTitle)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAction.prototype,"hasSubItems",{get:function(){return!!this.items&&this.items.length>0},enumerable:!1,configurable:!0}),BaseAction.prototype.getActionBarItemTitleCss=function(){return new tP().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},BaseAction.prototype.getActionBarItemCss=function(){return new tP().append(this.cssClasses.item).append(this.cssClasses.itemWithTitle,this.hasTitle).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},BaseAction.prototype.getActionRootCss=function(){return new tP().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},BaseAction.prototype.getTooltip=function(){return this.tooltip||this.title},BaseAction.prototype.getIsTrusted=function(e){return e.originalEvent?e.originalEvent.isTrusted:e.isTrusted},BaseAction.prototype.showPopup=function(){this.popupModel&&this.popupModel.show()},BaseAction.prototype.hidePopup=function(){this.popupModel&&this.popupModel.hide()},BaseAction.prototype.clearPopupTimeouts=function(){this.showPopupTimeout&&clearTimeout(this.showPopupTimeout),this.hidePopupTimeout&&clearTimeout(this.hidePopupTimeout)},BaseAction.prototype.showPopupDelayed=function(e){var t=this;this.clearPopupTimeouts(),this.showPopupTimeout=setTimeout(function(){t.clearPopupTimeouts(),t.showPopup()},e)},BaseAction.prototype.hidePopupDelayed=function(e){var t,o=this;(null===(t=this.popupModel)||void 0===t?void 0:t.isVisible)?(this.clearPopupTimeouts(),this.hidePopupTimeout=setTimeout(function(){o.clearPopupTimeouts(),o.hidePopup(),o.isHovered=!1},e)):(this.clearPopupTimeouts(),this.isHovered=!1)},BaseAction.renderedId=1,action_decorate([jsonobject_property()],BaseAction.prototype,"tooltip",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"showTitle",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"innerCss",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"active",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"pressed",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"data",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"popupModel",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"needSeparator",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"template",void 0),action_decorate([jsonobject_property({defaultValue:"large"})],BaseAction.prototype,"mode",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"visibleIndex",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"disableTabStop",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"disableShrink",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"disableHide",void 0),action_decorate([jsonobject_property({defaultValue:!1})],BaseAction.prototype,"needSpace",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"ariaChecked",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"ariaExpanded",void 0),action_decorate([jsonobject_property({defaultValue:"button"})],BaseAction.prototype,"ariaRole",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"iconName",void 0),action_decorate([jsonobject_property({defaultValue:24})],BaseAction.prototype,"iconSize",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"markerIconName",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"markerIconSize",void 0),action_decorate([jsonobject_property()],BaseAction.prototype,"css",void 0),action_decorate([jsonobject_property({defaultValue:!1})],BaseAction.prototype,"isPressed",void 0),action_decorate([jsonobject_property({defaultValue:!1})],BaseAction.prototype,"isHovered",void 0),BaseAction}(ty),tQ=function(e){function Action(t){var o=e.call(this)||this;if(o.innerItem=t,o.locTitleChanged=function(){var e=o.locTitle.renderedHtml;o.setPropertyValue("_title",e||void 0)},o.locTitle=t?t.locTitle:null,t)for(var n in t)"locTitle"===n||"title"===n&&o.locTitle&&o.title||(o[n]=t[n]);return o.locTitleName&&o.locTitleChanged(),o.registerFunctionOnPropertyValueChanged("_title",function(){o.raiseUpdate(!0)}),o.locStrChangedInPopupModel(),o}return tE(Action,e),Action.prototype.raiseUpdate=function(e){void 0===e&&(e=!1),this.updateCallback&&this.updateCallback(e)},Action.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},Action.prototype.setSubItems=function(e){this.markerIconName="icon-next_16x16",this.component="sv-list-item-group",this.items=action_spreadArray([],e.items);var t=Object.assign({},e);t.searchEnabled=!1;var o=createPopupModelWithListModel(t,{horizontalPosition:"right",showPointer:!1,canShrink:!1});o.cssClass="sv-popup-inner",this.popupModel=o},Action.prototype.getLocTitle=function(){return this.locTitleValue},Action.prototype.setLocTitle=function(e){e||this.locTitleValue||(e=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=e,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},Action.prototype.getTitle=function(){return this._title},Action.prototype.setTitle=function(e){this._title=e},Object.defineProperty(Action.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(e){this.locTitle.localizationName=e},enumerable:!1,configurable:!0}),Action.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},Action.prototype.doAction=function(e){var t=e.originalEvent?e.originalEvent:e;return this.action(this,t.isTrusted),t.preventDefault(),t.stopPropagation(),!0},Action.prototype.doMouseDown=function(e){this.isMouseDown=!0},Action.prototype.doFocus=function(e){if(this.onFocus){var t=e.originalEvent?e.originalEvent:e;this.onFocus(this.isMouseDown,t)}this.isMouseDown=!1},Action.prototype.locStrChangedInPopupModel=function(){if(this.popupModel&&this.popupModel.contentComponentData&&this.popupModel.contentComponentData.model){var e=this.popupModel.contentComponentData.model;Array.isArray(e.actions)&&e.actions.forEach(function(e){e.locStrsChanged&&e.locStrsChanged()})}},Action.prototype.locTooltipChanged=function(){this.locTooltipName&&(this.tooltip=getLocaleString(this.locTooltipName,this.locTitle.locale))},Action.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},Action.prototype.getMarkdownHtml=function(e,t){return this.owner?this.owner.getMarkdownHtml(e,t):void 0},Action.prototype.getProcessedText=function(e){return this.owner?this.owner.getProcessedText(e):e},Action.prototype.getRenderer=function(e){return this.owner?this.owner.getRenderer(e):null},Action.prototype.getRendererContext=function(e){return this.owner?this.owner.getRendererContext(e):e},Action.prototype.setVisible=function(e){this.visible!==e&&(this._visible=e)},Action.prototype.getVisible=function(){return this._visible},Action.prototype.setEnabled=function(e){this._enabled=e},Action.prototype.getEnabled=function(){return this.enabledIf?this.enabledIf():this._enabled},Action.prototype.setComponent=function(e){this._component=e},Action.prototype.getComponent=function(){return this._component},Action.prototype.dispose=function(){this.updateCallback=void 0,this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleChanged=void 0,this.action=void 0,e.prototype.dispose.call(this),this.popupModel&&this.popupModel.dispose()},action_decorate([jsonobject_property()],Action.prototype,"id",void 0),action_decorate([jsonobject_property({defaultValue:!0,onSet:function(e,t){t.raiseUpdate()}})],Action.prototype,"_visible",void 0),action_decorate([jsonobject_property({onSet:function(e,t){t.locTooltipChanged()}})],Action.prototype,"locTooltipName",void 0),action_decorate([jsonobject_property()],Action.prototype,"_enabled",void 0),action_decorate([jsonobject_property()],Action.prototype,"action",void 0),action_decorate([jsonobject_property()],Action.prototype,"onFocus",void 0),action_decorate([jsonobject_property()],Action.prototype,"_component",void 0),action_decorate([jsonobject_property()],Action.prototype,"items",void 0),action_decorate([jsonobject_property({onSet:function(e,t){t.locTitleValue.text!==e&&(t.locTitleValue.text=e)}})],Action.prototype,"_title",void 0),Action}(tD),tA=function(){function ActionDropdownViewModel(e){this.item=e,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return ActionDropdownViewModel.prototype.setupPopupCallbacks=function(){var e=this,t=this.popupModel=this.item.popupModel;t&&t.registerPropertyChangedHandlers(["isVisible"],function(){t.isVisible?e.item.pressed=!0:e.item.pressed=!1},this.funcKey)},ActionDropdownViewModel.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},ActionDropdownViewModel.prototype.dispose=function(){this.removePopupCallbacks()},ActionDropdownViewModel}(),tL=(h=function(e,t){return(h=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),tk=function(e){function AdaptiveActionContainer(){var t=e.call(this)||this;return t.minVisibleItemsCount=0,t.isResponsivenessDisabled=!1,t.dotsItem=createDropdownActionModelAdvanced({id:"dotsItem-id"+AdaptiveActionContainer.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:getLocaleString("more")},{items:[],allowSelection:!1}),t}return tL(AdaptiveActionContainer,e),AdaptiveActionContainer.prototype.hideItemsGreaterN=function(e){var t=this.getActionsToHide();e=Math.max(e,this.minVisibleItemsCount-(this.visibleActions.length-t.length));var o=[];t.forEach(function(t){e<=0&&(t.removePriority?t.mode="removed":(t.mode="popup",o.push(t.innerItem))),e--}),this.hiddenItemsListModel.setItems(o)},AdaptiveActionContainer.prototype.getActionsToHide=function(){return this.visibleActions.filter(function(e){return!e.disableHide}).sort(function(e,t){return e.removePriority||0-t.removePriority||0})},AdaptiveActionContainer.prototype.getVisibleItemsCount=function(e){this.visibleActions.filter(function(e){return e.disableHide}).forEach(function(t){return e-=t.minDimension});for(var t=this.getActionsToHide().map(function(e){return e.minDimension}),o=0,n=0;n<t.length&&!((o+=t[n])>e);n++);return n},AdaptiveActionContainer.prototype.updateItemMode=function(e,t){for(var o=this.visibleActions,n=o.length-1;n>=0;n--)t>e&&!o[n].disableShrink?(t-=o[n].maxDimension-o[n].minDimension,o[n].mode="small"):o[n].mode="large";if(t>e){var r=this.visibleActions.filter(function(e){return e.removePriority});r.sort(function(e,t){return e.removePriority-t.removePriority});for(var n=0;n<r.length;n++)t>e&&(t-=o[n].disableShrink?r[n].maxDimension:r[n].minDimension,r[n].mode="removed")}},Object.defineProperty(AdaptiveActionContainer.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),AdaptiveActionContainer.prototype.onSet=function(){var t=this;this.actions.forEach(function(e){return e.updateCallback=function(e){return t.raiseUpdate(e)}}),e.prototype.onSet.call(this)},AdaptiveActionContainer.prototype.onPush=function(t){var o=this;t.updateCallback=function(e){return o.raiseUpdate(e)},e.prototype.onPush.call(this,t)},AdaptiveActionContainer.prototype.getRenderedActions=function(){return 1===this.actions.length&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},AdaptiveActionContainer.prototype.raiseUpdate=function(t){this.isResponsivenessDisabled||e.prototype.raiseUpdate.call(this,t)},AdaptiveActionContainer.prototype.fit=function(e,t){if(!(e<=0)){this.dotsItem.visible=!1;var o=0,n=0;this.visibleActions.forEach(function(e){o+=e.minDimension,n+=e.maxDimension}),e>=n?this.setActionsMode("large"):e<o?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(e-t)),this.dotsItem.visible=!!this.hiddenItemsListModel.actions.length):this.updateItemMode(e,n)}},AdaptiveActionContainer.prototype.initResponsivityManager=function(e,t){if(this.responsivityManager){if(this.responsivityManager.container==e)return;this.responsivityManager.dispose()}this.responsivityManager=new tC(e,this,":scope > .sv-action:not(.sv-dots) > .sv-action__content",null,t)},AdaptiveActionContainer.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},AdaptiveActionContainer.prototype.setActionsMode=function(e){this.actions.forEach(function(t){"small"==e&&t.disableShrink?t.mode="large":t.mode=e})},AdaptiveActionContainer.prototype.dispose=function(){e.prototype.dispose.call(this),this.dotsItem.data.dispose(),this.dotsItem.dispose(),this.resetResponsivityManager()},AdaptiveActionContainer.ContainerID=1,AdaptiveActionContainer}(tV);(function(){function Task(e,t){var o=this;void 0===t&&(t=!1),this.func=e,this.isMultiple=t,this._isCompleted=!1,this.execute=function(){o._isCompleted||(o.func(),o._isCompleted=!o.isMultiple)}}Task.prototype.discard=function(){this._isCompleted=!0},Object.defineProperty(Task.prototype,"isCompleted",{get:function(){return this._isCompleted},enumerable:!1,configurable:!0})})(),function(){function TaskManger(e){void 0===e&&(e=100),this.interval=e,setTimeout(TaskManger.Instance().tick,e)}TaskManger.Instance=function(){return TaskManger.instance||(TaskManger.instance=new TaskManger),TaskManger.instance},TaskManger.prototype.tick=function(){try{for(var e=[],t=0;t<TaskManger.tasks.length;t++){var o=TaskManger.tasks[t];o.execute(),o.isCompleted?"function"==typeof o.dispose&&o.dispose():e.push(o)}TaskManger.tasks=e}finally{setTimeout(TaskManger.Instance().tick,this.interval)}},TaskManger.schedule=function(e){TaskManger.tasks.push(e)},TaskManger.instance=void 0,TaskManger.tasks=[]}();var tj=(g=function(e,t){return(g=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),tB=function(){function AnimationUtils(){this.cancelQueue=[]}return AnimationUtils.prototype.getMsFromRule=function(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))},AnimationUtils.prototype.reflow=function(e){return e.offsetHeight},AnimationUtils.prototype.getAnimationsCount=function(e){var t="";return getComputedStyle&&(t=getComputedStyle(e).animationName),t&&"none"!=t?t.split(", ").length:0},AnimationUtils.prototype.getAnimationDuration=function(e){for(var t=getComputedStyle(e),o=t.animationDelay.split(", "),n=t.animationDuration.split(", "),r=0,i=0;i<Math.max(n.length,o.length);i++)r=Math.max(r,this.getMsFromRule(n[i%n.length])+this.getMsFromRule(o[i%o.length]));return r},AnimationUtils.prototype.addCancelCallback=function(e){this.cancelQueue.push(e)},AnimationUtils.prototype.removeCancelCallback=function(e){this.cancelQueue.indexOf(e)>=0&&this.cancelQueue.splice(this.cancelQueue.indexOf(e),1)},AnimationUtils.prototype.onAnimationEnd=function(e,t,o){var n,r=this,i=this.getAnimationsCount(e),onEndCallback=function(o){void 0===o&&(o=!0),t(o),clearTimeout(n),r.removeCancelCallback(onEndCallback),e.removeEventListener("animationend",onAnimationEndCallback)},onAnimationEndCallback=function(e){e.target==e.currentTarget&&--i<=0&&onEndCallback(!1)};i>0?(e.addEventListener("animationend",onAnimationEndCallback),this.addCancelCallback(onEndCallback),n=setTimeout(function(){onEndCallback(!1)},this.getAnimationDuration(e)+10)):t(!0)},AnimationUtils.prototype.afterAnimationRun=function(e,t){e&&t&&t.onAfterRunAnimation&&t.onAfterRunAnimation(e)},AnimationUtils.prototype.beforeAnimationRun=function(e,t){e&&t&&t.onBeforeRunAnimation&&t.onBeforeRunAnimation(e)},AnimationUtils.prototype.getCssClasses=function(e){return e.cssClass.replace(/\s+$/,"").split(/\s+/)},AnimationUtils.prototype.runAnimation=function(e,t,o){e&&(null==t?void 0:t.cssClass)?(this.reflow(e),this.getCssClasses(t).forEach(function(t){e.classList.add(t)}),this.onAnimationEnd(e,o,t)):o(!0)},AnimationUtils.prototype.clearHtmlElement=function(e,t){e&&t.cssClass&&this.getCssClasses(t).forEach(function(t){e.classList.remove(t)}),this.afterAnimationRun(e,t)},AnimationUtils.prototype.onNextRender=function(e,t){var o=this;if(void 0===t&&(t=!1),!t&&eE.isAvailable()){var cancelCallback_1=function(){e(!0),cancelAnimationFrame(n)},n=eE.requestAnimationFrame(function(){n=eE.requestAnimationFrame(function(){e(!1),o.removeCancelCallback(cancelCallback_1)})});this.addCancelCallback(cancelCallback_1)}else e(!0)},AnimationUtils.prototype.cancel=function(){[].concat(this.cancelQueue).forEach(function(e){return e()}),this.cancelQueue=[]},AnimationUtils}(),tF=function(e){function AnimationPropertyUtils(){return null!==e&&e.apply(this,arguments)||this}return tj(AnimationPropertyUtils,e),AnimationPropertyUtils.prototype.onEnter=function(e){var t=this,o=e.getAnimatedElement(),n=e.getEnterOptions?e.getEnterOptions():{};this.beforeAnimationRun(o,n),this.runAnimation(o,n,function(){t.clearHtmlElement(o,n)})},AnimationPropertyUtils.prototype.onLeave=function(e,t){var o=this,n=e.getAnimatedElement(),r=e.getLeaveOptions?e.getLeaveOptions():{};this.beforeAnimationRun(n,r),this.runAnimation(n,r,function(e){t(),o.onNextRender(function(){o.clearHtmlElement(n,r)},e)})},AnimationPropertyUtils}(tB),tN=function(e){function AnimationGroupUtils(){return null!==e&&e.apply(this,arguments)||this}return tj(AnimationGroupUtils,e),AnimationGroupUtils.prototype.runGroupAnimation=function(e,t,o,n,r){var i=this,s={isAddingRunning:t.length>0,isDeletingRunning:o.length>0,isReorderingRunning:n.length>0},a=t.map(function(t){return e.getAnimatedElement(t)}),l=t.map(function(t){return e.getEnterOptions?e.getEnterOptions(t,s):{}}),u=o.map(function(t){return e.getAnimatedElement(t)}),c=o.map(function(t){return e.getLeaveOptions?e.getLeaveOptions(t,s):{}}),p=n.map(function(t){return e.getAnimatedElement(t.item)}),d=n.map(function(t){return e.getReorderOptions?e.getReorderOptions(t.item,t.movedForward,s):{}});t.forEach(function(e,t){i.beforeAnimationRun(a[t],l[t])}),o.forEach(function(e,t){i.beforeAnimationRun(u[t],c[t])}),n.forEach(function(e,t){i.beforeAnimationRun(p[t],d[t])});var h=t.length+o.length+p.length,onAnimationEndCallback=function(e){--h<=0&&(r&&r(),i.onNextRender(function(){t.forEach(function(e,t){i.clearHtmlElement(a[t],l[t])}),o.forEach(function(e,t){i.clearHtmlElement(u[t],c[t])}),n.forEach(function(e,t){i.clearHtmlElement(p[t],d[t])})},e))};t.forEach(function(e,t){i.runAnimation(a[t],l[t],onAnimationEndCallback)}),o.forEach(function(e,t){i.runAnimation(u[t],c[t],onAnimationEndCallback)}),n.forEach(function(e,t){i.runAnimation(p[t],d[t],onAnimationEndCallback)})},AnimationGroupUtils}(tB),tq=function(){function AnimationProperty(e,t,o){var n=this;this.animationOptions=e,this.update=t,this.getCurrentValue=o,this._debouncedSync=function(e){var t,o=this,n=!1,r=!1;return{run:function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];r=!1,t=i,n||(n=!0,queueMicrotask(function(){r||e.apply(o,t),r=!1,n=!1}))},cancel:function(){r=!0}}}(function(e){n.cancelAnimations();try{n._sync(e)}catch(t){n.update(e)}})}return AnimationProperty.prototype.onNextRender=function(e,t){var o=this,n=this.animationOptions.getRerenderEvent();if(n){var clear_1=function(){n.remove(nextRenderCallback_1),o.cancelCallback=void 0},nextRenderCallback_1=function(o,n){n.isCancel?t&&t():e(),clear_1()};this.cancelCallback=function(){t&&t(),clear_1()},n.add(nextRenderCallback_1)}else if(eE.isAvailable()){var r=eE.requestAnimationFrame(function(){e(),o.cancelCallback=void 0});this.cancelCallback=function(){t&&t(),cancelAnimationFrame(r),o.cancelCallback=void 0}}else throw Error("Can't get next render")},AnimationProperty.prototype.sync=function(e){this.animationOptions.isAnimationEnabled()?this._debouncedSync.run(e):(this.cancel(),this.update(e))},AnimationProperty.prototype.cancel=function(){this._debouncedSync.cancel(),this.cancelAnimations()},AnimationProperty.prototype.cancelAnimations=function(){this.cancelCallback&&this.cancelCallback(),this.animation.cancel()},AnimationProperty}(),tH=function(e){function AnimationBoolean(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=new tF,t}return tj(AnimationBoolean,e),AnimationBoolean.prototype._sync=function(e){var t=this;e!==this.getCurrentValue()?e?(this.onNextRender(function(){t.animation.onEnter(t.animationOptions)}),this.update(e)):this.animation.onLeave(this.animationOptions,function(){t.update(e)}):this.update(e)},AnimationBoolean}(tq),tz=function(e){function AnimationGroup(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=new tN,t}return tj(AnimationGroup,e),AnimationGroup.prototype._sync=function(e){var t,o,n=this;e=[].concat(e);var r=[].concat(this.getCurrentValue()),i=null===(t=this.animationOptions.allowSyncRemovalAddition)||void 0===t||t,s=function(e,t,o){var n=new Map,r=new Map,i=new Map,s=new Map;e.forEach(function(e){var t=o(e);if(n.has(t))throw Error("keys must be unique");n.set(o(e),e)}),t.forEach(function(e){var t=o(e);if(r.has(t))throw Error("keys must be unique");r.set(t,e)});var a=[],l=[];r.forEach(function(e,t){n.has(t)?i.set(t,i.size):a.push(e)}),n.forEach(function(e,t){r.has(t)?s.set(t,s.size):l.push(e)});var u=[];i.forEach(function(e,t){var o=s.get(t),n=r.get(t);o!==e&&u.push({item:n,movedForward:o<e})});var c=Array(e.length),p=0,d=Array.from(i.keys());e.forEach(function(e,t){i.has(o(e))?(c[t]=r.get(d[p]),p++):c[t]=e});var h=new Map,g=[];c.forEach(function(e){var t=o(e);r.has(t)?g.length>0&&(h.set(t,g),g=[]):g.push(e)});var f=[];return r.forEach(function(e,t){h.has(t)&&h.get(t).forEach(function(e){f.push(e)}),f.push(e)}),g.forEach(function(e){f.push(e)}),{reorderedItems:u,deletedItems:l,addedItems:a,mergedItems:f}}(r,e,null!==(o=this.animationOptions.getKey)&&void 0!==o?o:function(e){return e});!i&&(s.reorderedItems.length>0||s.addedItems.length>0)&&(s.deletedItems=[],s.mergedItems=e),this.animationOptions.onCompareArrays&&this.animationOptions.onCompareArrays(s);var a=s.addedItems,l=s.reorderedItems,u=s.deletedItems,c=s.mergedItems,runAnimationCallback=function(){n.animation.runGroupAnimation(n.animationOptions,a,u,l,function(){u.length>0&&n.update(e)})};[a,u,l].some(function(e){return e.length>0})?u.length<=0||l.length>0||a.length>0?(this.onNextRender(runAnimationCallback,function(){n.update(e)}),this.update(c)):runAnimationCallback():this.update(e)},AnimationGroup}(tq),tU=function(e){function AnimationTab(t,o,n,r){var i=e.call(this,t,o,n)||this;return i.mergeValues=r,i.animation=new tN,i}return tj(AnimationTab,e),AnimationTab.prototype._sync=function(e){var t=this,o=[].concat(this.getCurrentValue());if(o[0]!==e[0]){var n=this.mergeValues?this.mergeValues(e,o):[].concat(o,e);this.onNextRender(function(){t.animation.runGroupAnimation(t.animationOptions,e,o,[],function(){t.update(e)})},function(){return t.update(e)}),this.update(n,!0)}else this.update(e)},AnimationTab}(tq),tW=(f=function(e,t){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),survey_element_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},tJ=function(e){function SurveyElementCore(){var t=e.call(this)||this;return t.createLocTitleProperty(),t}return tW(SurveyElementCore,e),SurveyElementCore.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(SurveyElementCore.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"isSurvey",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(e){this.setTitleValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),SurveyElementCore.prototype.getDefaultTitleValue=function(){},SurveyElementCore.prototype.setTitleValue=function(e){this.setLocalizableStringText("title",e)},SurveyElementCore.prototype.updateDescriptionVisibility=function(e){var t=!1;if(this.isDesignMode){var o=eY.findProperty(this.getType(),"description");t=!!(null==o?void 0:o.placeholder)}this.hasDescription=!!e||t&&this.isDesignMode},Object.defineProperty(SurveyElementCore.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"titleTagName",{get:function(){var e=this.getDefaultTitleTagName(),t=this.getSurvey();return t?t.getElementTitleTagName(this,e):e},enumerable:!1,configurable:!0}),SurveyElementCore.prototype.getDefaultTitleTagName=function(){return t0.titleTags[this.getType()]},Object.defineProperty(SurveyElementCore.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),SurveyElementCore.prototype.getTitleToolbar=function(){return null},SurveyElementCore.prototype.getTitleOwner=function(){},Object.defineProperty(SurveyElementCore.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),SurveyElementCore.prototype.toggleState=function(){},Object.defineProperty(SurveyElementCore.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"ariaDescriptionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"titleAriaRole",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElementCore.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),SurveyElementCore.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},survey_element_decorate([jsonobject_property({})],SurveyElementCore.prototype,"hasDescription",void 0),survey_element_decorate([jsonobject_property({localizable:!0,onSet:function(e,t){t.updateDescriptionVisibility(e)}})],SurveyElementCore.prototype,"description",void 0),SurveyElementCore}(ty);(y=eT||(eT={}))[y.InsideEmptyPanel=1]="InsideEmptyPanel",y[y.MultilineRight=2]="MultilineRight",y[y.MultilineLeft=3]="MultilineLeft",y[y.Top=4]="Top",y[y.Right=5]="Right",y[y.Bottom=6]="Bottom",y[y.Left=7]="Left";var t$=function(e){function SurveyElement(t){var o=e.call(this)||this;return o.selectedElementInDesignValue=o,o.disableDesignActions=SurveyElement.CreateDisabledDesignElements,o.parentQuestionValue=null,o.isContentElement=!1,o.isEditableTemplateElement=!1,o.isInteractiveDesignElement=!0,o.isSingleInRow=!0,o._renderedIsExpanded=!0,o._isAnimatingCollapseExpand=!1,o.animationCollapsed=new tH(o.getExpandCollapseAnimationOptions(),function(e){o._renderedIsExpanded=e,o.animationAllowed&&(e?o.isAnimatingCollapseExpand=!0:o.updateElementCss(!1))},function(){return o.renderedIsExpanded}),o.onAfterRenderElement=o.addEvent(),o.name=t,o.createNewArray("errors"),o.createNewArray("titleActions"),o.registerPropertyChangedHandlers(["isReadOnly"],function(){o.onReadOnlyChanged()}),o.registerPropertyChangedHandlers(["errors"],function(){o.updateVisibleErrors()}),o.registerPropertyChangedHandlers(["isSingleInRow"],function(){o.updateElementCss(!1)}),o.registerPropertyChangedHandlers(["minWidth","maxWidth","renderWidth","allowRootStyle","parent"],function(){o.updateRootStyle()}),o}return tW(SurveyElement,e),SurveyElement.getProgressInfoByElements=function(e,t){for(var o=ty.createProgressInfo(),n=0;n<e.length;n++)if(e[n].isVisible){var r=e[n].getProgressInfo();o.questionCount+=r.questionCount,o.answeredQuestionCount+=r.answeredQuestionCount,o.requiredQuestionCount+=r.requiredQuestionCount,o.requiredAnsweredQuestionCount+=r.requiredAnsweredQuestionCount}return t&&o.questionCount>0&&(0==o.requiredQuestionCount&&(o.requiredQuestionCount=1),o.answeredQuestionCount>0&&(o.requiredAnsweredQuestionCount=1)),o},SurveyElement.IsNeedScrollIntoView=function(e,t,o){var n=o?-1:e.getBoundingClientRect().top,r=n<0,i=-1;if(!r&&t&&(r=(i=e.getBoundingClientRect().left)<0),!r&&eE.isAvailable()){var s=eE.getInnerHeight();if(!(r=s>0&&s<n)&&t){var a=eE.getInnerWidth();r=a>0&&a<i}}return r},SurveyElement.ScrollIntoView=function(e,t,o){if(e.scrollIntoView(t),"function"==typeof o){var n=null,r=0,checkPos_1=function(){var t=e.getBoundingClientRect().top;if(t===n){if(r++>2){o();return}}else n=t,r=0;requestAnimationFrame(checkPos_1)};eE.requestAnimationFrame(checkPos_1)}},SurveyElement.ScrollElementToTop=function(e,t,o,n){var r=t0.environment.root;if(!e||void 0===r)return!1;var i=r.getElementById(e);return SurveyElement.ScrollElementToViewCore(i,!1,t,o,n)},SurveyElement.ScrollElementToViewCore=function(e,t,o,n,r){if(!e||!e.scrollIntoView)return r&&r(),!1;var i=SurveyElement.IsNeedScrollIntoView(e,t,o);return i?SurveyElement.ScrollIntoView(e,n,r):r&&r(),i},SurveyElement.GetFirstNonTextElement=function(e,t){if(void 0===t&&(t=!1),!e||!e.length||0==e.length)return null;if(t){var o=e[0];"#text"===o.nodeName&&(o.data=""),"#text"===(o=e[e.length-1]).nodeName&&(o.data="")}for(var n=0;n<e.length;n++)if("#text"!=e[n].nodeName&&"#comment"!=e[n].nodeName)return e[n];return null},SurveyElement.FocusElement=function(e,t,o){if(!e||!eD.isAvailable())return!1;var n=!t&&SurveyElement.focusElementCore(e,o);return n||setTimeout(function(){SurveyElement.focusElementCore(e,o)},t?100:10),n},SurveyElement.focusElementCore=function(e,t){var o=t0.environment.root;if(!o&&!t)return!1;var n=t?t.querySelector("#"+CSS.escape(e)):o.getElementById(e);return!!n&&!n.disabled&&"none"!==n.style.display&&null!==n.offsetParent&&(SurveyElement.ScrollElementToViewCore(n,!0,!1),n.focus(),!0)},Object.defineProperty(SurveyElement.prototype,"colSpan",{get:function(){return this.getPropertyValue("colSpan",1)},set:function(e){this.setPropertyValue("colSpan",e)},enumerable:!1,configurable:!0}),SurveyElement.prototype.onPropertyValueChanged=function(t,o,n){e.prototype.onPropertyValueChanged.call(this,t,o,n),"state"===t&&(this.updateElementCss(!1),this.notifyStateChanged(o),this.stateChangedCallback&&this.stateChangedCallback())},SurveyElement.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(SurveyElement.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),SurveyElement.prototype.setParentQuestion=function(e){this.parentQuestionValue=e,this.onParentQuestionChanged()},SurveyElement.prototype.onParentQuestionChanged=function(){},SurveyElement.prototype.updateElementVisibility=function(){this.setPropertyValue("isVisible",this.isVisible)},Object.defineProperty(SurveyElement.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(e){this.setPropertyValue("state",e),this.renderedIsExpanded=!("collapsed"===this.state&&!this.isDesignMode)},enumerable:!1,configurable:!0}),SurveyElement.prototype.notifyStateChanged=function(e){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(SurveyElement.prototype,"isCollapsed",{get:function(){return"collapsed"===this.state&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"isExpanded",{get:function(){return"expanded"===this.state},enumerable:!1,configurable:!0}),SurveyElement.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},SurveyElement.prototype.expand=function(){this.state="expanded"},SurveyElement.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):!this.isExpanded||(this.collapse(),!1)},Object.defineProperty(SurveyElement.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),SurveyElement.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},SurveyElement.prototype.createActionContainer=function(e){var t=e?new tk:new tV;return this.survey&&this.survey.getCss().actionBar&&(t.cssClasses=this.survey.getCss().actionBar),t},Object.defineProperty(SurveyElement.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),SurveyElement.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},SurveyElement.prototype.getDefaultTitleActions=function(){return[]},SurveyElement.prototype.updateTitleActions=function(){var e=this.getDefaultTitleActions();this.survey&&(e=this.survey.getUpdatedElementTitleActions(this,e)),this.setPropertyValue("titleActions",e)},Object.defineProperty(SurveyElement.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"hasTitleEvents",{get:function(){return void 0!==this.state&&"default"!==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"titleTabIndex",{get:function(){return this.isPage||"default"===this.state?void 0:0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"titleAriaExpanded",{get:function(){if(!this.isPage&&"default"!==this.state)return"expanded"===this.state?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"titleAriaRole",{get:function(){if(!this.isPage&&"default"!==this.state)return"button"},enumerable:!1,configurable:!0}),SurveyElement.prototype.setSurveyImpl=function(e,t){this.surveyImplValue=e,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&(this.updateDescriptionVisibility(this.description),this.clearCssClasses())},SurveyElement.prototype.canRunConditions=function(){return e.prototype.canRunConditions.call(this)&&!!this.data},SurveyElement.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},SurveyElement.prototype.getDataFilteredProperties=function(){var e=this.data?this.data.getFilteredProperties():{};return e.question=this,e},Object.defineProperty(SurveyElement.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),SurveyElement.prototype.__setData=function(e){t0.supportCreatorV2&&(this.surveyDataValue=e)},Object.defineProperty(SurveyElement.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),SurveyElement.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.surveyValue||this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue},SurveyElement.prototype.setSurveyCore=function(e){this.surveyValue=e,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(SurveyElement.prototype,"skeletonHeight",{get:function(){var e=void 0;return this.survey&&this.survey.skeletonHeight&&(e=this.survey.skeletonHeight+"px"),e},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"isReadOnly",{get:function(){return this.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly")},set:function(e){this.readOnly==e||(this.setPropertyValue("readOnly",e),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),SurveyElement.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(SurveyElement.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"cssClassesValue",{get:function(){return this.getPropertyValueWithoutDefault("cssClassesValue")},set:function(e){this.setPropertyValue("cssClassesValue",e)},enumerable:!1,configurable:!0}),SurveyElement.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(SurveyElement.prototype,"cssClasses",{get:function(){return(this.cssClassesValue,this.survey)?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"cssTitleNumber",{get:function(){var e=this.cssClasses;return e.number?e.number:e.panel?e.panel.number:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"cssRequiredText",{get:function(){var e=this.cssClasses;return e.requiredText||e.panel&&e.panel.requiredText},enumerable:!1,configurable:!0}),SurveyElement.prototype.getCssTitleExpandableSvg=function(){return"default"===this.state?null:this.cssClasses.titleExpandableSvg},SurveyElement.prototype.calcCssClasses=function(e){},SurveyElement.prototype.updateElementCssCore=function(e){},Object.defineProperty(SurveyElement.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),SurveyElement.prototype.updateElementCss=function(e){this.clearCssClasses()},SurveyElement.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},SurveyElement.prototype.getIsLoadingFromJson=function(){return!!e.prototype.getIsLoadingFromJson.call(this)||!!this.surveyValue&&this.surveyValue.isLoadingFromJson},Object.defineProperty(SurveyElement.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){var t=this.name;this.setPropertyValue("name",this.getValidName(e)),!this.isLoadingFromJson&&t&&this.onNameChanged(t)},enumerable:!1,configurable:!0}),SurveyElement.prototype.getValidName=function(e){return e},SurveyElement.prototype.onNameChanged=function(e){},SurveyElement.prototype.updateBindingValue=function(e,t){this.data&&!this.isTwoValueEquals(t,this.data.getValue(e))&&this.data.setValue(e,t,!1)},Object.defineProperty(SurveyElement.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(e){this.setPropertyValue("errors",e)},enumerable:!1,configurable:!0}),SurveyElement.prototype.updateVisibleErrors=function(){for(var e=0,t=0;t<this.errors.length;t++)this.errors[t].visible&&e++;this.hasVisibleErrors=e>0},Object.defineProperty(SurveyElement.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),SurveyElement.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},SurveyElement.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(SurveyElement.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(e){this.selectedElementInDesignValue=e},enumerable:!1,configurable:!0}),SurveyElement.prototype.updateCustomWidgets=function(){},SurveyElement.prototype.onSurveyLoad=function(){},Object.defineProperty(SurveyElement.prototype,"wasRendered",{get:function(){return!!this.wasRenderedValue},enumerable:!1,configurable:!0}),SurveyElement.prototype.onFirstRendering=function(){this.wasRenderedValue=!0,this.ensureCssClassesValue()},SurveyElement.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad(),this.updateDescriptionVisibility(this.description)},SurveyElement.prototype.setVisibleIndex=function(e){return 0},SurveyElement.prototype.delete=function(e){},SurveyElement.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},SurveyElement.prototype.getMarkdownHtml=function(e,t){return this.survey?this.survey.getSurveyMarkdownHtml(this,e,t):this.locOwner?this.locOwner.getMarkdownHtml(e,t):void 0},SurveyElement.prototype.getRenderer=function(e){return this.survey&&"function"==typeof this.survey.getRendererForString?this.survey.getRendererForString(this,e):this.locOwner&&"function"==typeof this.locOwner.getRenderer?this.locOwner.getRenderer(e):null},SurveyElement.prototype.getRendererContext=function(e){return this.survey&&"function"==typeof this.survey.getRendererContextForString?this.survey.getRendererContextForString(this,e):this.locOwner&&"function"==typeof this.locOwner.getRendererContext?this.locOwner.getRendererContext(e):e},SurveyElement.prototype.getProcessedText=function(e){return this.isLoadingFromJson?e:this.textProcessor?this.textProcessor.processText(e,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(e):e},SurveyElement.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},SurveyElement.prototype.removeSelfFromList=function(e){if(e&&Array.isArray(e)){var t=e.indexOf(this);t>-1&&e.splice(t,1)}},Object.defineProperty(SurveyElement.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),SurveyElement.prototype.getProcessedHtml=function(e){return e&&this.textProcessor?this.textProcessor.processText(e,!0):e},SurveyElement.prototype.onSetData=function(){},Object.defineProperty(SurveyElement.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.setPropertyValue("parent",e)},enumerable:!1,configurable:!0}),SurveyElement.prototype.getPage=function(e){for(;e&&e.parent;)e=e.parent;return e&&"page"==e.getType()?e:null},SurveyElement.prototype.moveToBase=function(e,t,o){if(void 0===o&&(o=null),!t)return!1;e.removeElement(this);var n=-1;return eQ.isNumber(o)&&(n=parseInt(o)),-1==n&&o&&o.getType&&(n=t.indexOf(o)),t.addElement(this,n),!0},SurveyElement.prototype.setPage=function(e,t){var o=this.getPage(e);this.prevSurvey=this.survey,"string"==typeof t&&this.getSurvey().pages.forEach(function(e){t===e.name&&(t=e)}),o!==t&&(e&&e.removeElement(this),t&&t.addElement(this,-1),this.prevSurvey=void 0)},SurveyElement.prototype.getSearchableLocKeys=function(e){e.push("title"),e.push("description")},Object.defineProperty(SurveyElement.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&-1!==this.survey.getCss().root.indexOf("sd-root-modern")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage&&!this.parent.originalPage||void 0===this.parent},enumerable:!1,configurable:!0}),SurveyElement.prototype.shouldAddRunnerStyles=function(){return!this.isDesignMode&&this.isDefaultV2Theme},Object.defineProperty(SurveyElement.prototype,"isCompact",{get:function(){return this.survey&&this.survey.isCompact},enumerable:!1,configurable:!0}),SurveyElement.prototype.canHaveFrameStyles=function(){return void 0!==this.parent&&(!this.hasParent||this.parent&&this.parent.showPanelAsPage)},SurveyElement.prototype.getHasFrameV2=function(){return this.shouldAddRunnerStyles()&&this.canHaveFrameStyles()},SurveyElement.prototype.getIsNested=function(){return this.shouldAddRunnerStyles()&&!this.canHaveFrameStyles()},SurveyElement.prototype.getCssRoot=function(e){var t=!!this.isCollapsed||!!this.isExpanded;return new tP().append(e.withFrame,this.getHasFrameV2()&&!this.isCompact).append(e.compact,this.isCompact&&this.getHasFrameV2()).append(e.collapsed,!!this.isCollapsed).append(e.expandableAnimating,t&&this.isAnimatingCollapseExpand).append(e.expanded,!!this.isExpanded&&this.renderedIsExpanded).append(e.expandable,t).append(e.nested,this.getIsNested()).toString()},Object.defineProperty(SurveyElement.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(e){this.setPropertyValue("maxWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(e){this.setPropertyValue("renderWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(e){this.setPropertyValue("indent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(e){this.setPropertyValue("rightIndent",e)},enumerable:!1,configurable:!0}),SurveyElement.prototype.getRootStyle=function(){var e={};return this.paddingLeft&&(e["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(e["--sv-element-add-padding-right"]=this.paddingRight),e},Object.defineProperty(SurveyElement.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(e){this.setPropertyValue("paddingLeft",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(e){this.setPropertyValue("paddingRight",e)},enumerable:!1,configurable:!0}),SurveyElement.prototype.updateRootStyle=function(){var e,t={};if(this.parent&&(e=this.parent.getColumsForElement(this).reduce(function(e,t){return t.effectiveWidth+e},0))&&100!==e&&(t.flexGrow=0,t.flexShrink=0,t.flexBasis=e+"%",t.minWidth=void 0,t.maxWidth=void 0),0==Object.keys(t).length){var o=this.minWidth;"auto"!=o&&(o="min(100%, "+o+")"),this.allowRootStyle&&this.renderWidth&&(t.flexGrow=1,t.flexShrink=1,t.flexBasis=this.renderWidth,t.minWidth=o,t.maxWidth=this.maxWidth)}this.rootStyle=t},SurveyElement.prototype.isContainsSelection=function(e){var t=void 0,o=eD.getDocument();if(eD.isAvailable()&&o&&o.selection)t=o.selection.createRange().parentElement();else{var n=eE.getSelection();if(n&&n.rangeCount>0){var r=n.getRangeAt(0);r.startOffset!==r.endOffset&&(t=r.startContainer.parentNode)}}return t==e},Object.defineProperty(SurveyElement.prototype,"clickTitleFunction",{get:function(){var e=this;if(this.needClickTitleFunction())return function(t){if(!(t&&e.isContainsSelection(t.target)))return e.processTitleClick()}},enumerable:!1,configurable:!0}),SurveyElement.prototype.needClickTitleFunction=function(){return"default"!==this.state},SurveyElement.prototype.processTitleClick=function(){"default"!==this.state&&this.toggleState()},Object.defineProperty(SurveyElement.prototype,"hasAdditionalTitleToolbar",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"additionalTitleToolbar",{get:function(){return this.getAdditionalTitleToolbar()},enumerable:!1,configurable:!0}),SurveyElement.prototype.getAdditionalTitleToolbar=function(){return null},SurveyElement.prototype.getCssTitle=function(e){var t="default"!==this.state;return new tP().append(e.title).append(e.titleNumInline,(this.no||"").length>4||t).append(e.titleExpandable,t).append(e.titleExpanded,this.isExpanded).append(e.titleCollapsed,this.isCollapsed).append(e.titleDisabled,this.isDisabledStyle).append(e.titleReadOnly,this.isReadOnly).append(e.titleOnError,this.containsErrors).toString()},Object.defineProperty(SurveyElement.prototype,"isDisabledStyle",{get:function(){return this.getIsDisableAndReadOnlyStyles(!1)[1]},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"isReadOnlyStyle",{get:function(){return this.getIsDisableAndReadOnlyStyles(!1)[0]},enumerable:!1,configurable:!0}),SurveyElement.prototype.getIsDisableAndReadOnlyStyles=function(e){var t=this.isPreviewStyle,o=e||this.isReadOnly,n=!this.isDefaultV2Theme&&(o||t);return[o&&!t,n]},Object.defineProperty(SurveyElement.prototype,"isPreviewStyle",{get:function(){return!!this.survey&&"preview"===this.survey.state},enumerable:!1,configurable:!0}),SurveyElement.prototype.localeChanged=function(){e.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(e){e.updateText()})},SurveyElement.prototype.setWrapperElement=function(e){this.wrapperElement=e},SurveyElement.prototype.getWrapperElement=function(){return this.wrapperElement},Object.defineProperty(SurveyElement.prototype,"isAnimatingCollapseExpand",{get:function(){return this._isAnimatingCollapseExpand||this._renderedIsExpanded!=this.isExpanded},set:function(e){e!==this._isAnimatingCollapseExpand&&(this._isAnimatingCollapseExpand=e,this.updateElementCss(!1))},enumerable:!1,configurable:!0}),SurveyElement.prototype.onElementExpanded=function(e){},SurveyElement.prototype.getExpandCollapseAnimationOptions=function(){var e=this,beforeRunAnimation=function(t){e.isAnimatingCollapseExpand=!0,prepareElementForVerticalAnimation(t)},afterRunAnimation=function(t){e.isAnimatingCollapseExpand=!1,cleanHtmlElementAfterAnimation(t)};return{getRerenderEvent:function(){return e.onElementRerendered},getEnterOptions:function(){return{cssClass:(e.isPanel?e.cssClasses.panel:e.cssClasses).contentEnter,onBeforeRunAnimation:beforeRunAnimation,onAfterRunAnimation:function(t){afterRunAnimation(t),e.onElementExpanded(!0)}}},getLeaveOptions:function(){return{cssClass:(e.isPanel?e.cssClasses.panel:e.cssClasses).contentLeave,onBeforeRunAnimation:beforeRunAnimation,onAfterRunAnimation:afterRunAnimation}},getAnimatedElement:function(){var t,o=e.isPanel?e.cssClasses.panel:e.cssClasses;if(o.content){var n=classesToSelector(o.content);if(n)return null===(t=e.getWrapperElement())||void 0===t?void 0:t.querySelector(":scope "+n)}},isAnimationEnabled:function(){return e.isExpandCollapseAnimationEnabled}}},Object.defineProperty(SurveyElement.prototype,"isExpandCollapseAnimationEnabled",{get:function(){return this.animationAllowed&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyElement.prototype,"renderedIsExpanded",{get:function(){return!!this._renderedIsExpanded},set:function(e){var t=this._renderedIsExpanded;this.animationCollapsed.sync(e),this.isExpandCollapseAnimationEnabled||t||!this.renderedIsExpanded||this.onElementExpanded(!1)},enumerable:!1,configurable:!0}),SurveyElement.prototype.getIsAnimationAllowed=function(){return e.prototype.getIsAnimationAllowed.call(this)&&!!this.survey&&!this.survey.isEndLoadingFromJson},SurveyElement.prototype.afterRenderCore=function(e){this.onAfterRenderElement.fire(this,{htmlElement:e})},SurveyElement.prototype.dispose=function(){e.prototype.dispose.call(this),this.titleToolbarValue&&this.titleToolbarValue.dispose()},SurveyElement.CreateDisabledDesignElements=!1,survey_element_decorate([jsonobject_property({defaultValue:null})],SurveyElement.prototype,"dragTypeOverMe",void 0),survey_element_decorate([jsonobject_property({defaultValue:!1})],SurveyElement.prototype,"isDragMe",void 0),survey_element_decorate([jsonobject_property({onSet:function(e,t){t.colSpan=e}})],SurveyElement.prototype,"effectiveColSpan",void 0),survey_element_decorate([jsonobject_property({defaultValue:!1})],SurveyElement.prototype,"hasVisibleErrors",void 0),survey_element_decorate([jsonobject_property({defaultValue:!0})],SurveyElement.prototype,"isSingleInRow",void 0),survey_element_decorate([jsonobject_property({defaultValue:!0})],SurveyElement.prototype,"allowRootStyle",void 0),survey_element_decorate([jsonobject_property()],SurveyElement.prototype,"rootStyle",void 0),survey_element_decorate([jsonobject_property()],SurveyElement.prototype,"_renderedIsExpanded",void 0),SurveyElement}(tJ),tG=function(){function RenderingCompletedAwaiter(e,t,o){var n=this;void 0===o&&(o=100),this._elements=e,this._renderedHandler=t,this._elementsToRenderCount=0,this._elementsToRenderTimer=void 0,this._elementRenderedHandler=function(e,t){var o;null===(o=e.onAfterRenderElement)||void 0===o||o.remove(n._elementRenderedHandler),n._elementsToRenderCount--,n._elementsToRenderCount<=0&&n.visibleElementsRendered()},this._elements.forEach(function(e){e.onAfterRenderElement&&(e.onAfterRenderElement.add(n._elementRenderedHandler),n._elementsToRenderCount++)}),this._elementsToRenderCount>0?this._elementsToRenderTimer=setTimeout(function(){n._elementsToRenderCount>0&&n.visibleElementsRendered()},o):this.visibleElementsRendered()}return RenderingCompletedAwaiter.prototype.stopWaitingForElementsRendering=function(){var e=this;this._elementsToRenderTimer&&(clearTimeout(this._elementsToRenderTimer),this._elementsToRenderTimer=void 0),this._elements.forEach(function(t){var o;null===(o=t.onAfterRenderElement)||void 0===o||o.remove(e._elementRenderedHandler)}),this._elementsToRenderCount=0},RenderingCompletedAwaiter.prototype.visibleElementsRendered=function(){var e=this._renderedHandler;this.dispose(),"function"==typeof e&&e()},RenderingCompletedAwaiter.prototype.dispose=function(){this.stopWaitingForElementsRendering(),this._elements=void 0,this._renderedHandler=void 0},RenderingCompletedAwaiter}(),tZ=function(){function LocalizableString(e,t,o,n){void 0===t&&(t=!1),this.owner=e,this.useMarkdown=t,this.name=o,this.values={},this.htmlValues={},this.onStringChanged=new tv,this._localizationName=n,this.onCreating()}return Object.defineProperty(LocalizableString,"defaultLocale",{get:function(){return t0.localization.defaultLocaleName},set:function(e){t0.localization.defaultLocaleName=e},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableString.prototype,"localizationName",{get:function(){return this._localizationName},set:function(e){this._localizationName!=e&&(this._localizationName=e,this.strChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableString.prototype,"allowLineBreaks",{get:function(){var e;return void 0===this._allowLineBreaks&&(this._allowLineBreaks=!1,this.name&&this.owner instanceof tJ&&(this._allowLineBreaks=(null===(e=eY.findProperty(this.owner.getType(),this.name))||void 0===e?void 0:e.type)=="text")),this._allowLineBreaks},enumerable:!1,configurable:!0}),LocalizableString.prototype.getIsMultiple=function(){return!1},Object.defineProperty(LocalizableString.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var e=this.owner.getLocale();if(e||!this.sharedData)return e}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),LocalizableString.prototype.strChanged=function(){this.searchableText=void 0,(void 0!==this.renderedText||!this.isEmpty||this.onGetTextCallback||this.localizationName)&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(LocalizableString.prototype,"text",{get:function(){return this.pureText},set:function(e){this.setLocaleText(this.locale,e)},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableString.prototype,"calculatedText",{get:function(){return this.renderedText=void 0!==this.calculatedTextValue?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),LocalizableString.prototype.calcText=function(){var e=this.pureText;return e&&this.owner&&this.owner.getProcessedText&&e.indexOf("{")>-1&&(e=this.owner.getProcessedText(e)),this.onGetTextCallback&&(e=this.onGetTextCallback(e)),e},Object.defineProperty(LocalizableString.prototype,"pureText",{get:function(){var e=this.locale;e||(e=this.defaultLoc);var t=this.getValue(e);if(this.isValueEmpty(t)&&e===this.defaultLoc&&(t=this.getValue(eL.defaultLocale)),this.isValueEmpty(t)){var o=this.getRootDialect(e);o&&(t=this.getValue(o))}return this.isValueEmpty(t)&&e!==this.defaultLoc&&(t=this.getValue(this.defaultLoc)),this.isValueEmpty(t)&&this.getLocalizationName()&&(t=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(t=this.onGetLocalizationTextCallback(t))),t||(t=this.defaultValue||""),t},enumerable:!1,configurable:!0}),LocalizableString.prototype.getRootDialect=function(e){if(!e)return e;var t=e.indexOf("-");return t>-1?e.substring(0,t):""},LocalizableString.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},LocalizableString.prototype.getLocalizationStr=function(){var e=this.getLocalizationName();return e?getLocaleString(e,this.locale):""},Object.defineProperty(LocalizableString.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableString.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableString.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableString.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableString.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),LocalizableString.prototype.getLocaleText=function(e){return this.getLocaleTextCore(e)||""},LocalizableString.prototype.getLocaleTextCore=function(e){return e||(e=this.defaultLoc),this.getValue(e)},LocalizableString.prototype.isLocaleTextEqualsWithDefault=function(e,t){var o=this.getLocaleTextCore(e);return o===t||this.isValueEmpty(o)&&this.isValueEmpty(t)},LocalizableString.prototype.clear=function(){this.setJson(void 0)},LocalizableString.prototype.clearLocale=function(e){this.setLocaleText(e,void 0)},LocalizableString.prototype.setLocaleText=function(e,t){if((e=this.getValueLoc(e))&&void 0===t){var o=this.getValue(e);void 0!==o&&(this.deleteValue(e),this.fireStrChanged(e,o));return}if(!this.storeDefaultText&&this.isLocaleTextEqualsWithDefault(e,t)){if(!this.isValueEmpty(t)||e&&e!==this.defaultLoc)return;var n=eL.defaultLocale,r=this.getValue(n);n&&!this.isValueEmpty(r)&&(this.setValue(n,t),this.fireStrChanged(n,r));return}if(t0.localization.storeDuplicatedTranslations||this.isValueEmpty(t)||!e||e==this.defaultLoc||this.getValue(e)||t!=this.getLocaleText(this.defaultLoc)){var i=this.curLocale;e||(e=this.defaultLoc);var s=this.onStrChanged&&e===i?this.pureText:void 0;delete this.htmlValues[e],this.isValueEmpty(t)?this.deleteValue(e):"string"==typeof t&&(this.canRemoveLocValue(e,t)?this.setLocaleText(e,null):(this.setValue(e,t),e==this.defaultLoc&&this.deleteValuesEqualsToDefault(t))),this.fireStrChanged(e,s)}},LocalizableString.prototype.isValueEmpty=function(e){return null==e||!this.localizationName&&""===e},Object.defineProperty(LocalizableString.prototype,"curLocale",{get:function(){return this.locale?this.locale:this.defaultLoc},enumerable:!1,configurable:!0}),LocalizableString.prototype.canRemoveLocValue=function(e,t){if(t0.localization.storeDuplicatedTranslations||e===this.defaultLoc)return!1;var o=this.getRootDialect(e);if(!o)return t==this.getLocaleText(this.defaultLoc);var n=this.getLocaleText(o);return n?n==t:this.canRemoveLocValue(o,t)},LocalizableString.prototype.fireStrChanged=function(e,t){if(this.strChanged(),this.onStrChanged){var o=this.pureText;(e!==this.curLocale||t!==o)&&this.onStrChanged(t,o)}},LocalizableString.prototype.hasNonDefaultText=function(){var e=this.getValuesKeys();return 0!=e.length&&(e.length>1||e[0]!=this.defaultLoc)},LocalizableString.prototype.getLocales=function(){var e=this.getValuesKeys();return 0==e.length?[]:e},LocalizableString.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var e=this.getValuesKeys();if(0==e.length)return null;if(1==e.length&&e[0]==t0.localization.defaultLocaleName&&!t0.serialization.localizableStringSerializeAsObject)return this.values[e[0]];var t={};for(var o in this.values)t[o]=this.values[o];return t},LocalizableString.prototype.setJson=function(e,t){if(this.sharedData){this.sharedData.setJson(e,t);return}if(this.values={},this.htmlValues={},null!=e){if(t)"string"==typeof e?this.values[t0.defaultLocaleName]=e:(this.values=e,delete this.values.pos);else{if("string"==typeof e)this.setLocaleText(null,e);else for(var o in e)this.setLocaleText(o,e[o]);this.strChanged()}}},Object.defineProperty(LocalizableString.prototype,"renderAs",{get:function(){return this.owner&&"function"==typeof this.owner.getRenderer&&this.owner.getRenderer(this.name)||LocalizableString.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableString.prototype,"renderAsData",{get:function(){return this.owner&&"function"==typeof this.owner.getRendererContext&&this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),LocalizableString.prototype.equals=function(e){return this.sharedData?this.sharedData.equals(e):!!e&&!!e.values&&eQ.isTwoValueEquals(this.values,e.values,!1,!0,!1)},LocalizableString.prototype.setFindText=function(e){if(this.searchText!=e){if(this.searchText=e,!this.searchableText){var t=this.textOrHtml;this.searchableText=t?t.toLowerCase():""}var o=this.searchableText,n=o&&e?o.indexOf(e):void 0;return n<0&&(n=void 0),(void 0!=n||this.searchIndex!=n)&&(this.searchIndex=n,this.onSearchChanged&&this.onSearchChanged()),void 0!=this.searchIndex}},LocalizableString.prototype.onChanged=function(){},LocalizableString.prototype.onCreating=function(){},LocalizableString.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var e=this.locale;if(e||(e=this.defaultLoc),void 0!==this.htmlValues[e])return!!this.htmlValues[e];var t=this.calculatedText;if(!t||this.getLocalizationName()&&t===this.getLocalizationStr())return this.setHtmlValue(e,""),!1;var o=this.owner.getMarkdownHtml(t,this.name);return this.setHtmlValue(e,o),!!o},LocalizableString.prototype.setHtmlValue=function(e,t){this.htmlValues[e]=t},LocalizableString.prototype.getHtmlValue=function(){var e=this.locale;return e||(e=this.defaultLoc),this.htmlValues[e]},LocalizableString.prototype.deleteValuesEqualsToDefault=function(e){if(!t0.localization.storeDuplicatedTranslations)for(var t=this.getValuesKeys(),o=0;o<t.length;o++)t[o]!=this.defaultLoc&&this.getValue(t[o])==e&&this.deleteValue(t[o])},LocalizableString.prototype.getValue=function(e){return this.sharedData?this.sharedData.getValue(e):this.values[this.getValueLoc(e)]},LocalizableString.prototype.setValue=function(e,t){this.sharedData?this.sharedData.setValue(e,t):this.values[this.getValueLoc(e)]=t},LocalizableString.prototype.deleteValue=function(e){this.sharedData?this.sharedData.deleteValue(e):delete this.values[this.getValueLoc(e)]},LocalizableString.prototype.getValueLoc=function(e){return this.disableLocalization?t0.localization.defaultLocaleName:e},LocalizableString.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(LocalizableString.prototype,"defaultLoc",{get:function(){return t0.localization.defaultLocaleName},enumerable:!1,configurable:!0}),LocalizableString.SerializeAsObject=!1,LocalizableString.defaultRenderer="sv-string-viewer",LocalizableString.editableRenderer="sv-string-editor",LocalizableString}(),tK=function(){function LocalizableStrings(e){this.owner=e,this.values={}}return LocalizableStrings.prototype.getIsMultiple=function(){return!0},Object.defineProperty(LocalizableStrings.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableStrings.prototype,"value",{get:function(){return this.getValue("")},set:function(e){this.setValue("",e)},enumerable:!1,configurable:!0}),Object.defineProperty(LocalizableStrings.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join("\n"):""},set:function(e){this.value=e?e.split("\n"):[]},enumerable:!1,configurable:!0}),LocalizableStrings.prototype.getLocaleText=function(e){var t=this.getValueCore(e,!e||e===this.locale);return t&&Array.isArray(t)&&0!=t.length?t.join("\n"):""},LocalizableStrings.prototype.setLocaleText=function(e,t){var o=t?t.split("\n"):null;this.setValue(e,o)},LocalizableStrings.prototype.getValue=function(e){return this.getValueCore(e)},LocalizableStrings.prototype.getValueCore=function(e,t){if(void 0===t&&(t=!0),e=this.getLocale(e),this.values[e])return this.values[e];if(t){var o=t0.localization.defaultLocaleName;if(e!==o&&this.values[o])return this.values[o]}return[]},LocalizableStrings.prototype.setValue=function(e,t){e=this.getLocale(e);var o=eQ.createCopy(this.values);t&&0!=t.length?this.values[e]=t:delete this.values[e],this.onValueChanged&&this.onValueChanged(o,this.values)},LocalizableStrings.prototype.hasValue=function(e){return void 0===e&&(e=""),!this.isEmpty&&this.getValue(e).length>0},Object.defineProperty(LocalizableStrings.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),LocalizableStrings.prototype.getLocale=function(e){return e||(e=this.locale)||t0.localization.defaultLocaleName},LocalizableStrings.prototype.getLocales=function(){var e=this.getValuesKeys();return 0==e.length?[]:e},LocalizableStrings.prototype.getJson=function(){var e=this.getValuesKeys();return 0==e.length?null:1!=e.length||e[0]!=t0.localization.defaultLocaleName||t0.serialization.localizableStringSerializeAsObject?eQ.createCopy(this.values):this.values[e[0]]},LocalizableStrings.prototype.setJson=function(e){if(this.values={},e){if(Array.isArray(e))this.setValue(null,e);else for(var t in e)this.setValue(t,e[t])}},LocalizableStrings.prototype.getValuesKeys=function(){return Object.keys(this.values)},LocalizableStrings}();function confirmAction(e){return t0&&t0.confirmActionFunc?t0.confirmActionFunc(e):confirm(e)}function confirmActionAsync(e,t,o,n,r){var callbackFunc=function(e){e?t():o&&o()};t0&&t0.confirmActionAsync&&t0.confirmActionAsync(e,callbackFunc,void 0,n,r)||callbackFunc(confirmAction(e))}function detectIEOrEdge(){if(void 0===detectIEOrEdge.isIEOrEdge){var e=navigator.userAgent,t=e.indexOf("MSIE "),o=e.indexOf("Trident/"),n=e.indexOf("Edge/");detectIEOrEdge.isIEOrEdge=n>0||o>0||t>0}return detectIEOrEdge.isIEOrEdge}function loadFileFromBase64(e,t){try{for(var o=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(o.length),i=new Uint8Array(r),s=0;s<o.length;s++)i[s]=o.charCodeAt(s);var a=new Blob([r],{type:n});navigator&&navigator.msSaveBlob&&navigator.msSaveOrOpenBlob(a,t)}catch(e){}}var isShadowDOM=function(e){return!!e&&!!("host"in e&&e.host)},getElement=function(e){var t=t0.environment.root;return"string"==typeof e?t.getElementById(e):e};function findScrollableParent(e){var t=t0.environment.root;return e?e.scrollHeight>e.clientHeight&&("scroll"===getComputedStyle(e).overflowY||"auto"===getComputedStyle(e).overflowY)||e.scrollWidth>e.clientWidth&&("scroll"===getComputedStyle(e).overflowX||"auto"===getComputedStyle(e).overflowX)?e:findScrollableParent(e.parentElement):isShadowDOM(t)?t.host:t.documentElement}function activateLazyRenderingChecks(e){var t=t0.environment;if(t){var o=t.root.getElementById(e);if(o){var n=findScrollableParent(o);n&&setTimeout(function(){return n.dispatchEvent(new CustomEvent("scroll"))},10)}}}function wrapUrlForBackgroundImage(e){return e?["url(",e,")"].join(""):""}var tY={changecamera:"flip-24x24",clear:"clear-24x24",cancel:"cancel-24x24",closecamera:"close-24x24",defaultfile:"file-72x72",choosefile:"folder-24x24",file:"toolbox-file-24x24",left:"chevronleft-16x16",modernbooleancheckchecked:"plus-32x32",modernbooleancheckunchecked:"minus-32x32",more:"more-24x24",navmenu_24x24:"navmenu-24x24",removefile:"error-24x24",takepicture:"camera-32x32",takepicture_24x24:"camera-24x24",v2check:"check-16x16",checked:"check-16x16",v2check_24x24:"check-24x24","back-to-panel_16x16":"restoredown-16x16",clear_16x16:"clear-16x16",close_16x16:"close-16x16",collapsedetail:"collapsedetails-16x16",expanddetail:"expanddetails-16x16","full-screen_16x16":"maximize-16x16",loading:"loading-48x48",minimize_16x16:"minimize-16x16",next_16x16:"chevronright-16x16",previous_16x16:"chevronleft-16x16","no-image":"noimage-48x48","ranking-dash":"rankingundefined-16x16","drag-n-drop":"drag-24x24","ranking-arrows":"reorder-24x24",restore_16x16:"fullsize-16x16",reset:"restore-24x24",search:"search-24x24",average:"smiley-rate5-24x24",excellent:"smiley-rate9-24x24",good:"smiley-rate7-24x24",normal:"smiley-rate6-24x24","not-good":"smiley-rate4-24x24",perfect:"smiley-rate10-24x24",poor:"smiley-rate3-24x24",terrible:"smiley-rate1-24x24","very-good":"smiley-rate8-24x24","very-poor":"smiley-rate2-24x24",add_16x16:"add-16x16",add_24x24:"add-24x24",alert_24x24:"warning-24x24",apply:"apply-24x24","arrow-down":"arrowdown-24x24","arrow-left":"arrowleft-24x24","arrow-left_16x16":"arrowleft-16x16",arrowleft:"arrowleft-16x16","arrow-right":"arrowright-24x24","arrow-right_16x16":"arrowright-16x16",arrowright:"arrowright-16x16","arrow-up":"arrowup-24x24",boolean:"toolbox-boolean-24x24","change-question-type_16x16":"speechbubble-16x16",checkbox:"toolbox-checkbox-24x24","collapse-detail_16x16":"minusbox-16x16","collapse-panel":"collapse-pg-24x24",collapse_16x16:"collapse-16x16","color-picker":"dropper-16x16",comment:"toolbox-longtext-24x24",config:"wrench-24x24",copy:"copy-24x24",default:"toolbox-customquestion-24x24",delete_16x16:"delete-16x16",delete_24x24:"delete-24x24",delete:"delete-24x24","description-hide":"hidehint-16x16",description:"hint-16x16","device-desktop":"desktop-24x24","device-phone":"phone-24x24","device-rotate":"rotate-24x24","device-tablet":"tablet-24x24",download:"download-24x24","drag-area-indicator":"drag-24x24","drag-area-indicator_24x16":"draghorizontal-24x16",v2dragelement_16x16:"draghorizontal-24x16","drop-down-arrow":"chevrondown-24x24","drop-down-arrow_16x16":"chevrondown-16x16",chevron_16x16:"chevrondown-16x16",dropdown:"toolbox-dropdown-24x24",duplicate_16x16:"copy-16x16",edit:"edit-24x24",edit_16x16:"edit-16x16","editing-finish":"finishedit-24x24",error:"error-16x16","expand-detail_16x16":"plusbox-16x16","expand-panel":"expand-pg-24x24",expand_16x16:"expand-16x16",expression:"toolbox-expression-24x24","fast-entry":"textedit-24x24",fix:"fix-24x24",html:"toolbox-html-24x24",image:"toolbox-image-24x24",imagepicker:"toolbox-imagepicker-24x24",import:"import-24x24","invisible-items":"invisible-24x24",language:"language-24x24",load:"import-24x24","logic-collapse":"collapse-24x24","logic-expand":"expand-24x24",logo:"image-48x48",matrix:"toolbox-matrix-24x24",matrixdropdown:"toolbox-multimatrix-24x24",matrixdynamic:"toolbox-dynamicmatrix-24x24",multipletext:"toolbox-multipletext-24x24",panel:"toolbox-panel-24x24",paneldynamic:"toolbox-dynamicpanel-24x24",preview:"preview-24x24",radiogroup:"toolbox-radiogroup-24x24",ranking:"toolbox-ranking-24x24",rating:"toolbox-rating-24x24",redo:"redo-24x24",remove_16x16:"remove-16x16",required:"required-16x16",save:"save-24x24","select-page":"selectpage-24x24",settings:"settings-24x24",settings_16x16:"settings-16x16",signaturepad:"toolbox-signature-24x24","switch-active_16x16":"switchon-16x16","switch-inactive_16x16":"switchoff-16x16",tagbox:"toolbox-tagbox-24x24",text:"toolbox-singleline-24x24",theme:"theme-24x24",toolbox:"toolbox-24x24",undo:"undo-24x24",visible:"visible-24x24",wizard:"wand-24x24",searchclear:"clear-16x16","chevron-16x16":"chevrondown-16x16",chevron:"chevrondown-24x24",progressbuttonv2:"arrowleft-16x16",right:"chevronright-16x16","add-lg":"add-24x24",add:"add-24x24"};function getIconNameFromProxy(e){var t,o;return t=e,((o=t0.customIcons[t])?getNewIconName(o):(t=getNewIconName(t),o=t0.customIcons[t])?o:null)||getNewIconName(e)}function getNewIconName(e){var t="icon-",o=e.replace(t,"");return t+(tY[o]||o)}function createSvg(e,t,o,n,r,i){if(r){"auto"!==e&&(r.style.width=(e||t||16)+"px",r.style.height=(e||o||16)+"px");var s=r.childNodes[0],a=getIconNameFromProxy(n);s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+a);var l=r.getElementsByTagName("title")[0];if(i)l||(l=eD.getDocument().createElementNS("http://www.w3.org/2000/svg","title"),r.appendChild(l));else{l&&r.removeChild(l);return}l.textContent=i}}function unwrap(e){return"function"!=typeof e?e:e()}function getRenderedSize(e){if("string"==typeof e){if(!isNaN(Number(e)))return Number(e);if(e.includes("px"))return parseFloat(e)}if("number"==typeof e)return e}function getRenderedStyleSize(e){if(void 0===getRenderedSize(e))return e}var tX="sv-focused--by-key";function doKey2ClickBlur(e){var t=e.target;t&&t.classList&&t.classList.remove(tX)}function doKey2ClickUp(e,t){if(!e.target||"true"!==e.target.contentEditable){var o=e.target;if(o){var n=e.which||e.keyCode;if(9===n){o.classList&&!o.classList.contains(tX)&&o.classList.add(tX);return}if(t){if(!t.__keyDownReceived)return;t.__keyDownReceived=!1}13===n||32===n?o.click&&o.click():(!t||t.processEsc)&&27===n&&o.blur&&o.blur()}}}function doKey2ClickDown(e,t){if(void 0===t&&(t={processEsc:!0}),t&&(t.__keyDownReceived=!0),!e.target||"true"!==e.target.contentEditable){var o=e.which||e.keyCode,n=[13,32];t.processEsc&&n.push(27),-1!==n.indexOf(o)&&e.preventDefault()}}function increaseHeightByContent(e,t){if(e){t||(t=function(e){return eD.getComputedStyle(e)});var o=t(e);e.style.height="auto",e.scrollHeight&&(e.style.height=e.scrollHeight+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)+"px")}}function getOriginalEvent(e){return e.originalEvent||e}function preventDefaults(e){e.preventDefault(),e.stopPropagation()}function classesToSelector(e){return e?e.replace(/\s*?([\w-]+)\s*?/g,".$1"):e}function getElementWidth(e){return getComputedStyle?Number.parseFloat(getComputedStyle(e).width):e.offsetWidth}function isContainerVisible(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function sanitizeEditableContent(e,t){if(void 0===t&&(t=!0),eE.isAvailable()&&eD.isAvailable()&&e.childNodes.length>0){var o=eE.getSelection();if(0!=o.rangeCount){var n=o.getRangeAt(0);n.setStart(n.endContainer,n.endOffset),n.setEndAfter(e.lastChild),o.removeAllRanges(),o.addRange(n);var r=o.toString(),i=e.innerText;r=r.replace(/\r/g,""),t&&(r=r.replace(/\n/g,""),i=i.replace(/\n/g,""));var s=r.length;for(e.innerText=i,(n=eD.getDocument().createRange()).setStart(e.firstChild,0),n.setEnd(e.firstChild,0),o.removeAllRanges(),o.addRange(n);o.toString().length<i.length-s;){var a=o.toString().length;if(o.modify("extend","forward","character"),o.toString().length==a)break}(n=o.getRangeAt(0)).setStart(n.endContainer,n.endOffset)}}}function mergeValues(e,t){if(t&&e&&"object"==typeof t)for(var o in e){var n=e[o];!Array.isArray(n)&&n&&"object"==typeof n?(t[o]&&"object"==typeof t[o]||(t[o]={}),mergeValues(n,t[o])):t[o]=n}}function chooseFiles(e,t){eE.isFileReaderAvailable()&&(e.value="",e.onchange=function(o){if(eE.isFileReaderAvailable()&&e&&e.files&&!(e.files.length<1)){for(var n=[],r=0;r<e.files.length;r++)n.push(e.files[r]);t(n)}},e.click())}function setPropertiesOnElementForAnimation(e,t,o){var n;void 0===o&&(o="--animation-"),e.__sv_created_properties=null!==(n=e.__sv_created_properties)&&void 0!==n?n:[],Object.keys(t).forEach(function(n){var r=""+o+n.split(/\.?(?=[A-Z])/).join("-").toLowerCase();e.style.setProperty(r,t[n]),e.__sv_created_properties.push(r)})}function prepareElementForVerticalAnimation(e){setPropertiesOnElementForAnimation(e,function(e){if(eD.isAvailable()){var t=eD.getComputedStyle(e),o=t.paddingTop,n=t.paddingBottom,r=t.borderTopWidth,i=t.borderBottomWidth,s=t.marginTop,a=t.marginBottom,l=t.boxSizing,u=e.offsetHeight+"px";if("content-box"==l){var c=e.offsetHeight;[i,r,n,o].forEach(function(e){c-=parseFloat(e)}),u=c+"px"}return{paddingTop:o,paddingBottom:n,borderTopWidth:r,borderBottomWidth:i,marginTop:s,marginBottom:a,heightFrom:"0px",heightTo:u}}}(e))}function cleanHtmlElementAfterAnimation(e){Array.isArray(e.__sv_created_properties)&&(e.__sv_created_properties.forEach(function(t){e.style.removeProperty(t)}),delete e.__sv_created_properties)}!function(){function Logger(){this._result=""}Logger.prototype.log=function(e){this._result+="->"+e},Object.defineProperty(Logger.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0})}();var t1="undefined"!=typeof globalThis?globalThis.document:(void 0).document,t0={designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(val){this.designMode.showEmptyDescriptions=val},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(val){this.designMode.showEmptyTitles=val},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(val){this.localization.useLocalTimeZone=val},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(val){this.localization.storeDuplicatedTranslations=val},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(val){this.localization.defaultLocaleName=val},web:{onBeforeRequestChoices:function(e,t){},encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey"},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(val){this.web.encodeUrlParams=val},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(val){this.web.cacheLoadedChoices=val},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(val){this.web.cacheLoadedChoices=val},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(val){this.web.disableQuestionWhileLoadingChoices=val},get surveyServiceUrl(){return this.web.surveyServiceUrl},set surveyServiceUrl(val){this.web.surveyServiceUrl=val},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(val){this.triggers.executeCompleteOnValueChanged=val},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(val){this.triggers.changeNavigationButtonsOnComplete=val},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(val){this.triggers.executeSkipOnValueChanged=val},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(val){this.serialization.itemValueSerializeAsObject=val},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(val){this.serialization.itemValueSerializeDisplayText=val},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(val){this.serialization.localizableStringSerializeAsObject=val},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(val){this.lazyRender.enabled=val},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(val){this.lazyRender.firstBatchSize=val},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:{file:{minWidth:"240px"},comment:{minWidth:"200px"}},rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(val){this.matrix.defaultRowName=val},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(val){this.matrix.defaultCellType=val},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(val){this.matrix.totalsSuffix=val},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(val){this.matrix.maxRowCount=val},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(val){this.matrix.maxRowCountInCondition=val},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(val){this.matrix.renderRemoveAsIcon=val},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(val){this.panel.maxPanelCountInCondition=val},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(val){this.panel.maxPanelCount=val},readOnly:{enableValidation:!1,commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(val){this.readOnly.commentRenderMode=val},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(val){this.readOnly.textRenderMode=val},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(val){this.numbering.includeQuestionsWithHiddenTitle=val},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(val){this.numbering.includeQuestionsWithHiddenNumber=val},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:function(e,t){return e}},expressionDisableConversionChar:"#",get commentPrefix(){return t0.commentSuffix},set commentPrefix(val){t0.commentSuffix=val},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,dropdownSearchDelay:500,confirmActionFunc:function(e){return confirm(e)},confirmActionAsync:function(e,t,o,n,r){var i,s,a,l,u;return i=new tZ(void 0),l=(a=(s=t0.showDialog({componentName:"sv-string-viewer",data:{locStr:i,locString:i,model:i},onApply:function(){return t(!0),!0},onCancel:function(){return t(!1),!1},title:e,displayMode:"popup",isFocusedContent:!1,cssClass:"sv-popup--confirm-delete"},r)).footerToolbar).getActionById("apply"),(u=a.getActionById("cancel")).title=getLocaleString("cancel",n),u.innerCss="sv-popup__body-footer-item sv-popup__button sd-btn sd-btn--small",l.title=o||getLocaleString("ok",n),l.innerCss="sv-popup__body-footer-item sv-popup__button sv-popup__button--danger sd-btn sd-btn--small sd-btn--danger",s.width="min-content",!0},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},autoAdvanceDelay:300,showItemsInOrder:"default",noneItemValue:"none",refuseItemValue:"refused",dontKnowItemValue:"dontknow",specialChoicesOrder:{selectAllItem:[-1],noneItem:[1],refuseItem:[2],dontKnowItem:[3],otherItem:[4]},choicesSeparator:", ",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,showDialog:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:t1?{root:t1,_rootElement:eD.getBody(),get rootElement(){var t2;return null!==(t2=this._rootElement)&&void 0!==t2?t2:eD.getBody()},set rootElement(rootElement){this._rootElement=rootElement},_popupMountContainer:eD.getBody(),get popupMountContainer(){var t5;return null!==(t5=this._popupMountContainer)&&void 0!==t5?t5:eD.getBody()},set popupMountContainer(popupMountContainer){this._popupMountContainer=popupMountContainer},svgMountContainer:t1.head,stylesSheetsMountContainer:t1.head}:void 0,showMaxLengthIndicator:!0,animationEnabled:!0,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},legacyProgressBarView:!1,maskSettings:{patternPlaceholderChar:"_",patternEscapeChar:"\\",patternDefinitions:{9:/[0-9]/,a:/[a-zA-Z]/,"#":/[a-zA-Z0-9]/}},storeUtcDates:!1,parseNumber:function(e,t){return t},useLegacyIcons:!0},t7=function(){function SurveyError(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.text=e,this.errorOwner=t,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return SurveyError.prototype.equals=function(e){return!!e&&!!e.getErrorType&&this.getErrorType()===e.getErrorType()&&this.text===e.text&&this.visible===e.visible},Object.defineProperty(SurveyError.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new tZ(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),SurveyError.prototype.getText=function(){var e=this.text;return e||(e=this.getDefaultText()),this.errorOwner&&(e=this.errorOwner.getErrorCustomText(e,this)),e},SurveyError.prototype.getErrorType=function(){return"base"},SurveyError.prototype.getDefaultText=function(){return""},SurveyError.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},SurveyError.prototype.getLocalizationString=function(e){return getLocaleString(e,this.getLocale())},SurveyError.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},SurveyError}(),t4=(m=function(e,t){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),t9=function(e){function AnswerRequiredError(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(AnswerRequiredError,e),AnswerRequiredError.prototype.getErrorType=function(){return"required"},AnswerRequiredError.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},AnswerRequiredError}(t7),t3=function(e){function OneAnswerRequiredError(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(OneAnswerRequiredError,e),OneAnswerRequiredError.prototype.getErrorType=function(){return"requireoneanswer"},OneAnswerRequiredError.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},OneAnswerRequiredError}(t7),t6=function(e){function RequreNumericError(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(RequreNumericError,e),RequreNumericError.prototype.getErrorType=function(){return"requirenumeric"},RequreNumericError.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},RequreNumericError}(t7),t8=function(e){function ExceedSizeError(t,o){void 0===o&&(o=null);var n=e.call(this,null,o)||this;return n.maxSize=t,n.locText.text=n.getText(),n}return t4(ExceedSizeError,e),ExceedSizeError.prototype.getErrorType=function(){return"exceedsize"},ExceedSizeError.prototype.getDefaultText=function(){return getLocaleString("exceedMaxSize").format(this.getTextSize())},ExceedSizeError.prototype.getTextSize=function(){if(0===this.maxSize)return"0 Byte";var e=Math.floor(Math.log(this.maxSize)/Math.log(1024));return(this.maxSize/Math.pow(1024,e)).toFixed([0,0,2,3,3][e])+" "+["Bytes","KB","MB","GB","TB"][e]},ExceedSizeError}(t7),oe=function(e){function WebRequestError(t,o,n){void 0===n&&(n=null);var r=e.call(this,null,n)||this;return r.status=t,r.response=o,r}return t4(WebRequestError,e),WebRequestError.prototype.getErrorType=function(){return"webrequest"},WebRequestError.prototype.getDefaultText=function(){var e=this.getLocalizationString("urlRequestError");return e?e.format(this.status,this.response):""},WebRequestError}(t7),ot=function(e){function WebRequestEmptyError(t,o){void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(WebRequestEmptyError,e),WebRequestEmptyError.prototype.getErrorType=function(){return"webrequestempty"},WebRequestEmptyError.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},WebRequestEmptyError}(t7),oo=function(e){function OtherEmptyError(t,o){void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(OtherEmptyError,e),OtherEmptyError.prototype.getErrorType=function(){return"otherempty"},OtherEmptyError.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},OtherEmptyError}(t7),on=function(e){function UploadingFileError(t,o){void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(UploadingFileError,e),UploadingFileError.prototype.getErrorType=function(){return"uploadingfile"},UploadingFileError.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},UploadingFileError}(t7),or=function(e){function RequiredInAllRowsError(t,o){void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(RequiredInAllRowsError,e),RequiredInAllRowsError.prototype.getErrorType=function(){return"requiredinallrowserror"},RequiredInAllRowsError.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},RequiredInAllRowsError}(t7),oi=function(e){function EachRowUniqueError(t,o){void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(EachRowUniqueError,e),EachRowUniqueError.prototype.getErrorType=function(){return"eachrowuniqueeerror"},EachRowUniqueError.prototype.getDefaultText=function(){return this.getLocalizationString("eachRowUniqueError")},EachRowUniqueError}(t7),os=function(e){function MinRowCountError(t,o){void 0===o&&(o=null);var n=e.call(this,null,o)||this;return n.minRowCount=t,n}return t4(MinRowCountError,e),MinRowCountError.prototype.getErrorType=function(){return"minrowcounterror"},MinRowCountError.prototype.getDefaultText=function(){return getLocaleString("minRowCountError").format(this.minRowCount)},MinRowCountError}(t7),oa=function(e){function KeyDuplicationError(t,o){void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(KeyDuplicationError,e),KeyDuplicationError.prototype.getErrorType=function(){return"keyduplicationerror"},KeyDuplicationError.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},KeyDuplicationError}(t7),ol=function(e){function CustomError(t,o){void 0===o&&(o=null);var n=e.call(this,t,o)||this;return n.text=t,n}return t4(CustomError,e),CustomError.prototype.getErrorType=function(){return"custom"},CustomError}(t7),ou=(v=function(e,t){return(v=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),ValidatorResult=function(e,t){void 0===t&&(t=null),this.value=e,this.error=t},oc=function(e){function SurveyValidator(){var t=e.call(this)||this;return t.createLocalizableString("text",t,!0),t}return ou(SurveyValidator,e),Object.defineProperty(SurveyValidator.prototype,"isValidator",{get:function(){return!0},enumerable:!1,configurable:!0}),SurveyValidator.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(SurveyValidator.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(e){this.setLocalizableStringText("text",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyValidator.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyValidator.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),SurveyValidator.prototype.getErrorText=function(e){return this.text?this.text:this.getDefaultErrorText(e)},SurveyValidator.prototype.getDefaultErrorText=function(e){return""},SurveyValidator.prototype.validate=function(e,t,o,n){return void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null),null},Object.defineProperty(SurveyValidator.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyValidator.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),SurveyValidator.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},SurveyValidator.prototype.getMarkdownHtml=function(e,t){return this.errorOwner?this.errorOwner.getMarkdownHtml(e,t):void 0},SurveyValidator.prototype.getRenderer=function(e){return this.errorOwner?this.errorOwner.getRenderer(e):null},SurveyValidator.prototype.getRendererContext=function(e){return this.errorOwner?this.errorOwner.getRendererContext(e):e},SurveyValidator.prototype.getProcessedText=function(e){return this.errorOwner?this.errorOwner.getProcessedText(e):e},SurveyValidator.prototype.createCustomError=function(e){var t=this,o=new ol(this.getErrorText(e),this.errorOwner);return o.onUpdateErrorTextCallback=function(o){return o.text=t.getErrorText(e)},o},SurveyValidator.prototype.toString=function(){var e=this.getType().replace("validator","");return this.text&&(e+=", "+this.text),e},SurveyValidator}(ty),op=function(){function ValidatorRunner(){}return ValidatorRunner.prototype.run=function(e){var t=this,o=[],n=null,r=null;this.prepareAsyncValidators();for(var i=[],s=e.getValidators(),a=0;a<s.length;a++){var l=s[a];!n&&l.isValidateAllValues&&(n=e.getDataFilteredValues(),r=e.getDataFilteredProperties()),l.isAsync&&(this.asyncValidators.push(l),l.onAsyncCompleted=function(e){if(e&&e.error&&i.push(e.error),t.onAsyncCompleted){for(var o=0;o<t.asyncValidators.length;o++)if(t.asyncValidators[o].isRunning)return;t.onAsyncCompleted(i)}})}s=e.getValidators();for(var a=0;a<s.length;a++){var l=s[a],u=l.validate(e.validatedValue,e.getValidatorTitle(),n,r);u&&u.error&&o.push(u.error)}return 0==this.asyncValidators.length&&this.onAsyncCompleted&&this.onAsyncCompleted([]),o},ValidatorRunner.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var e=0;e<this.asyncValidators.length;e++)this.asyncValidators[e].onAsyncCompleted=null;this.asyncValidators=[]},ValidatorRunner}(),od=function(e){function NumericValidator(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this)||this;return n.minValue=t,n.maxValue=o,n}return ou(NumericValidator,e),NumericValidator.prototype.getType=function(){return"numericvalidator"},NumericValidator.prototype.validate=function(e,t,o,n){if(void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null),this.isValueEmpty(e))return null;if(!eQ.isNumber(e))return new ValidatorResult(null,new t6(this.text,this.errorOwner));var r=new ValidatorResult(eQ.getNumber(e));return null!==this.minValue&&this.minValue>r.value||null!==this.maxValue&&this.maxValue<r.value?(r.error=this.createCustomError(t),r):"number"==typeof e?null:r},NumericValidator.prototype.getDefaultErrorText=function(e){var t=e||this.getLocalizationString("value");return null!==this.minValue&&null!==this.maxValue?this.getLocalizationFormatString("numericMinMax",t,this.minValue,this.maxValue):null!==this.minValue?this.getLocalizationFormatString("numericMin",t,this.minValue):this.getLocalizationFormatString("numericMax",t,this.maxValue)},Object.defineProperty(NumericValidator.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(NumericValidator.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e)},enumerable:!1,configurable:!0}),NumericValidator}(oc),oh=function(e){function TextValidator(){return e.call(this)||this}return ou(TextValidator,e),TextValidator.prototype.getType=function(){return"textvalidator"},TextValidator.prototype.validate=function(e,t,o,n){return(void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null),this.isValueEmpty(e))?null:!this.allowDigits&&/\d+$/.test(e)?new ValidatorResult(null,this.createCustomError("textNoDigitsAllow")):this.minLength>0&&e.length<this.minLength||this.maxLength>0&&e.length>this.maxLength?new ValidatorResult(null,this.createCustomError(t)):null},TextValidator.prototype.getDefaultErrorText=function(e){return"textNoDigitsAllow"===e?this.getLocalizationString(e):this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(TextValidator.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(e){this.setPropertyValue("minLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(TextValidator.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(TextValidator.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(e){this.setPropertyValue("allowDigits",e)},enumerable:!1,configurable:!0}),TextValidator}(oc),og=function(e){function AnswerCountValidator(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this)||this;return n.minCount=t,n.maxCount=o,n}return ou(AnswerCountValidator,e),AnswerCountValidator.prototype.getType=function(){return"answercountvalidator"},AnswerCountValidator.prototype.validate=function(e,t,o,n){if(void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null),null==e||e.constructor!=Array)return null;var r=e.length;return 0==r?null:this.minCount&&r<this.minCount?new ValidatorResult(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&r>this.maxCount?new ValidatorResult(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},AnswerCountValidator.prototype.getDefaultErrorText=function(e){return e},Object.defineProperty(AnswerCountValidator.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(e){this.setPropertyValue("minCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(AnswerCountValidator.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(e){this.setPropertyValue("maxCount",e)},enumerable:!1,configurable:!0}),AnswerCountValidator}(oc),of=function(e){function RegexValidator(t){void 0===t&&(t=null);var o=e.call(this)||this;return o.regex=t,o}return ou(RegexValidator,e),RegexValidator.prototype.getType=function(){return"regexvalidator"},RegexValidator.prototype.validate=function(e,t,o,n){if(void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null),!this.regex||this.isValueEmpty(e))return null;var r=this.createRegExp();if(Array.isArray(e))for(var i=0;i<e.length;i++){var s=this.hasError(r,e[i],t);if(s)return s}return this.hasError(r,e,t)},RegexValidator.prototype.hasError=function(e,t,o){return e.test(t)?null:new ValidatorResult(t,this.createCustomError(o))},Object.defineProperty(RegexValidator.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(e){this.setPropertyValue("regex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(RegexValidator.prototype,"caseInsensitive",{get:function(){return this.getPropertyValue("caseInsensitive")},set:function(e){this.setPropertyValue("caseInsensitive",e)},enumerable:!1,configurable:!0}),Object.defineProperty(RegexValidator.prototype,"insensitive",{get:function(){return this.caseInsensitive},set:function(e){this.caseInsensitive=e},enumerable:!1,configurable:!0}),RegexValidator.prototype.createRegExp=function(){return new RegExp(this.regex,this.caseInsensitive?"i":"")},RegexValidator}(oc),oy=function(e){function EmailValidator(){var t=e.call(this)||this;return t.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,t}return ou(EmailValidator,e),EmailValidator.prototype.getType=function(){return"emailvalidator"},EmailValidator.prototype.validate=function(e,t,o,n){return(void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null),!e||this.re.test(e))?null:new ValidatorResult(e,this.createCustomError(t))},EmailValidator.prototype.getDefaultErrorText=function(e){return this.getLocalizationString("invalidEmail")},EmailValidator}(oc),om=function(e){function ExpressionValidator(t){void 0===t&&(t=null);var o=e.call(this)||this;return o.conditionRunner=null,o.isRunningValue=!1,o.expression=t,o}return ou(ExpressionValidator,e),ExpressionValidator.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(ExpressionValidator.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(ExpressionValidator.prototype,"isAsync",{get:function(){return!!this.ensureConditionRunner()&&this.conditionRunner.isAsync},enumerable:!1,configurable:!0}),Object.defineProperty(ExpressionValidator.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),ExpressionValidator.prototype.validate=function(e,t,o,n){var r=this;if(void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(o){r.isRunningValue=!1,r.onAsyncCompleted&&r.onAsyncCompleted(r.generateError(o,e,t))},this.isRunningValue=!0;var i=this.conditionRunner.run(o,n);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(i,e,t))},ExpressionValidator.prototype.generateError=function(e,t,o){return e?null:new ValidatorResult(t,this.createCustomError(o))},ExpressionValidator.prototype.getDefaultErrorText=function(e){return this.getLocalizationFormatString("invalidExpression",this.expression)},ExpressionValidator.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):!!this.expression&&(this.conditionRunner=new tc(this.expression),!0)},Object.defineProperty(ExpressionValidator.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),ExpressionValidator}(oc);eY.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),eY.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new od},"surveyvalidator"),eY.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new oh},"surveyvalidator"),eY.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new og},"surveyvalidator"),eY.addClass("regexvalidator",["regex",{name:"caseInsensitive:boolean",alternativeName:"insensitive"}],function(){return new of},"surveyvalidator"),eY.addClass("emailvalidator",[],function(){return new oy},"surveyvalidator"),eY.addClass("expressionvalidator",["expression:condition"],function(){return new om},"surveyvalidator");var ov=function(){function QuestionCustomWidget(e,t){this.name=e,this.widgetJson=t,this.htmlTemplate=t.htmlTemplate?t.htmlTemplate:""}return QuestionCustomWidget.prototype.afterRender=function(e,t){var o=this;this.widgetJson.afterRender&&(e.localeChangedCallback=function(){o.widgetJson.willUnmount&&o.widgetJson.willUnmount(e,t),o.widgetJson.afterRender(e,t)},this.widgetJson.afterRender(e,t))},QuestionCustomWidget.prototype.willUnmount=function(e,t){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(e,t)},QuestionCustomWidget.prototype.getDisplayValue=function(e,t){return(void 0===t&&(t=void 0),this.widgetJson.getDisplayValue)?this.widgetJson.getDisplayValue(e,t):null},QuestionCustomWidget.prototype.validate=function(e){if(this.widgetJson.validate)return this.widgetJson.validate(e)},QuestionCustomWidget.prototype.isFit=function(e){return!!this.isLibraryLoaded()&&!!this.widgetJson.isFit&&this.widgetJson.isFit(e)},Object.defineProperty(QuestionCustomWidget.prototype,"canShowInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox&&"customtype"==ob.Instance.getActivatedBy(this.name)&&(!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded())},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCustomWidget.prototype,"showInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox},set:function(e){this.widgetJson.showInToolbox=e},enumerable:!1,configurable:!0}),QuestionCustomWidget.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},QuestionCustomWidget.prototype.activatedByChanged=function(e){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(e)},QuestionCustomWidget.prototype.isLibraryLoaded=function(){return!this.widgetJson.widgetIsLoaded||!0==this.widgetJson.widgetIsLoaded()},Object.defineProperty(QuestionCustomWidget.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCustomWidget.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCustomWidget.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),QuestionCustomWidget}(),ob=function(){function CustomWidgetCollection(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new tm}return Object.defineProperty(CustomWidgetCollection.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),CustomWidgetCollection.prototype.add=function(e,t){void 0===t&&(t="property"),this.addCustomWidget(e,t)},CustomWidgetCollection.prototype.addCustomWidget=function(e,t){void 0===t&&(t="property");var o=e.name;o||(o="widget_"+this.widgets.length+"1");var n=new ov(o,e);return this.widgetsValues.push(n),n.init(),this.widgetsActivatedBy[o]=t,n.activatedByChanged(t),this.onCustomWidgetAdded.fire(n,null),n},CustomWidgetCollection.prototype.getActivatedBy=function(e){return this.widgetsActivatedBy[e]||"property"},CustomWidgetCollection.prototype.setActivatedBy=function(e,t){if(e&&t){var o=this.getCustomWidgetByName(e);o&&(this.widgetsActivatedBy[e]=t,o.activatedByChanged(t))}},CustomWidgetCollection.prototype.clear=function(){this.widgetsValues=[]},CustomWidgetCollection.prototype.getCustomWidgetByName=function(e){for(var t=0;t<this.widgets.length;t++)if(this.widgets[t].name==e)return this.widgets[t];return null},CustomWidgetCollection.prototype.getCustomWidget=function(e){for(var t=0;t<this.widgetsValues.length;t++)if(this.widgetsValues[t].isFit(e))return this.widgetsValues[t];return null},CustomWidgetCollection.Instance=new CustomWidgetCollection,CustomWidgetCollection}(),oC=function(){function RendererFactory(){this.renderersHash={},this.defaultHash={}}return RendererFactory.prototype.unregisterRenderer=function(e,t){delete this.renderersHash[e][t],this.defaultHash[e]===t&&delete this.defaultHash[e]},RendererFactory.prototype.registerRenderer=function(e,t,o,n){void 0===n&&(n=!1),this.renderersHash[e]||(this.renderersHash[e]={}),this.renderersHash[e][t]=o,n&&(this.defaultHash[e]=t)},RendererFactory.prototype.getRenderer=function(e,t){var o=this.renderersHash[e];if(o){if(t&&o[t])return o[t];var n=this.defaultHash[e];if(n&&o[n])return o[n]}return"default"},RendererFactory.prototype.getRendererByQuestion=function(e){return this.getRenderer(e.getType(),e.renderAs)},RendererFactory.prototype.clear=function(){this.renderersHash={}},RendererFactory.Instance=new RendererFactory,RendererFactory}(),ow=function(){function TextAreaModel(e){var t=this;this.options=e,this.onPropertyChangedCallback=function(){t.element&&(t.element.value=t.getTextValue(),t.updateElement())},this.question.registerFunctionOnPropertyValueChanged(this.options.propertyName,this.onPropertyChangedCallback,"__textarea")}return TextAreaModel.prototype.updateElement=function(){var e=this;this.element&&this.autoGrow&&setTimeout(function(){return increaseHeightByContent(e.element)},1)},TextAreaModel.prototype.setElement=function(e){e&&(this.element=e,this.updateElement())},TextAreaModel.prototype.resetElement=function(){this.element=void 0},TextAreaModel.prototype.getTextValue=function(){return this.options.getTextValue&&this.options.getTextValue()||""},TextAreaModel.prototype.onTextAreaChange=function(e){this.options.onTextAreaChange&&this.options.onTextAreaChange(e)},TextAreaModel.prototype.onTextAreaInput=function(e){this.options.onTextAreaInput&&this.options.onTextAreaInput(e),this.element&&this.autoGrow&&increaseHeightByContent(this.element)},TextAreaModel.prototype.onTextAreaKeyDown=function(e){this.options.onTextAreaKeyDown&&this.options.onTextAreaKeyDown(e)},TextAreaModel.prototype.onTextAreaBlur=function(e){this.onTextAreaChange(e),this.options.onTextAreaBlur&&this.options.onTextAreaBlur(e)},TextAreaModel.prototype.onTextAreaFocus=function(e){this.options.onTextAreaFocus&&this.options.onTextAreaFocus(e)},Object.defineProperty(TextAreaModel.prototype,"question",{get:function(){return this.options.question},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"id",{get:function(){return this.options.id()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"placeholder",{get:function(){return this.options.placeholder()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"className",{get:function(){return this.options.className()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"maxLength",{get:function(){if(this.options.maxLength)return this.options.maxLength()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"autoGrow",{get:function(){if(this.options.autoGrow)return this.options.autoGrow()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"rows",{get:function(){if(this.options.rows)return this.options.rows()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"cols",{get:function(){if(this.options.cols)return this.options.cols()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"isDisabledAttr",{get:function(){return this.options.isDisabledAttr()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"isReadOnlyAttr",{get:function(){if(this.options.isReadOnlyAttr)return this.options.isReadOnlyAttr()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"ariaRequired",{get:function(){if(this.options.ariaRequired)return this.options.ariaRequired()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"ariaLabel",{get:function(){if(this.options.ariaLabel)return this.options.ariaLabel()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"ariaInvalid",{get:function(){if(this.options.ariaInvalid)return this.options.ariaInvalid()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"ariaLabelledBy",{get:function(){if(this.options.ariaLabelledBy)return this.options.ariaLabelledBy()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"ariaDescribedBy",{get:function(){if(this.options.ariaDescribedBy)return this.options.ariaDescribedBy()},enumerable:!1,configurable:!0}),Object.defineProperty(TextAreaModel.prototype,"ariaErrormessage",{get:function(){if(this.options.ariaErrormessage)return this.options.ariaErrormessage()},enumerable:!1,configurable:!0}),TextAreaModel.prototype.dispose=function(){this.question&&this.question.unRegisterFunctionOnPropertyValueChanged(this.options.propertyName,"__textarea"),this.resetElement()},TextAreaModel}(),oP=(b=function(e,t){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},TriggerExpressionInfo=function(e,t,o){this.name=e,this.canRun=t,this.doComplete=o,this.runSecondCheck=function(e){return!1}},ox=function(e){function Question(t){var o=e.call(this,t)||this;return o.customWidgetData={isNeedRender:!0},o.hasCssErrorCallback=function(){return!1},o.isReadyValue=!0,o.dependedQuestions=[],o.onReadyChanged=o.addEvent(),o.triggersInfo=[],o.isRunningValidatorsValue=!1,o.isValueChangedInSurvey=!1,o.allowNotifyValueChanged=!0,o.id=Question.getQuestionId(),o.onCreating(),o.createNewArray("validators",function(e){e.errorOwner=o}),o.commentTextAreaModel=new ow(o.getCommentTextAreaOptions()),o.addExpressionProperty("visibleIf",function(e,t){o.visible=!0===t}),o.addExpressionProperty("enableIf",function(e,t){o.readOnly=!1===t}),o.addExpressionProperty("requiredIf",function(e,t){o.isRequired=!0===t}),o.createLocalizableString("commentText",o,!0,"otherItemText"),o.createLocalizableString("requiredErrorText",o),o.addTriggerInfo("resetValueIf",function(){return!o.isEmpty()},function(){o.startSetValueOnExpression(),o.clearValue(),o.updateValueWithDefaults(),o.finishSetValueOnExpression()}),o.addTriggerInfo("setValueIf",function(){return!0},function(){return o.runSetValueExpression()}).runSecondCheck=function(e){return o.checkExpressionIf(e)},o.registerPropertyChangedHandlers(["width"],function(){o.updateQuestionCss(),o.parent&&o.parent.elementWidthChanged(o)}),o.registerPropertyChangedHandlers(["isRequired"],function(){!o.isRequired&&o.errors.length>0&&o.validate(),o.locTitle.strChanged(),o.clearCssClasses()}),o.registerPropertyChangedHandlers(["indent","rightIndent"],function(){o.onIndentChanged()}),o.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){o.initCommentFromSurvey()}),o.registerFunctionOnPropertiesValueChanged(["no","readOnly","hasVisibleErrors","containsErrors"],function(){o.updateQuestionCss()}),o.registerPropertyChangedHandlers(["_isMobile"],function(){o.onMobileChanged()}),o.registerPropertyChangedHandlers(["colSpan"],function(){var e;null===(e=o.parent)||void 0===e||e.updateColumns()}),o}return oP(Question,e),Question.getQuestionId=function(){return"sq_"+Question.questionCounter++},Question.prototype.getCommentTextAreaOptions=function(){var e=this;return{question:this,id:function(){return e.commentId},propertyName:"comment",className:function(){return e.cssClasses.comment},placeholder:function(){return e.renderedCommentPlaceholder},isDisabledAttr:function(){return e.isInputReadOnly||!1},rows:function(){return e.commentAreaRows},autoGrow:function(){return e.autoGrowComment},maxLength:function(){return e.getOthersMaxLength()},ariaRequired:function(){return e.a11y_input_ariaRequired},ariaLabel:function(){return e.a11y_input_ariaLabel},getTextValue:function(){return e.comment},onTextAreaChange:function(t){e.onCommentChange(t)},onTextAreaInput:function(t){e.onCommentInput(t)}}},Question.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===t0.readOnly.commentRenderMode},Question.prototype.allowMobileInDesignMode=function(){return!1},Question.prototype.updateIsMobileFromSurvey=function(){this.setIsMobile(this.survey._isMobile)},Question.prototype.setIsMobile=function(e){var t=e&&(this.allowMobileInDesignMode()||!this.isDesignMode);this.isMobile=t},Question.prototype.getIsMobile=function(){return this._isMobile},Object.defineProperty(Question.prototype,"isMobile",{get:function(){return this.getIsMobile()},set:function(e){this._isMobile=e},enumerable:!1,configurable:!0}),Question.prototype.themeChanged=function(e){},Question.prototype.getDefaultTitle=function(){return this.name},Question.prototype.createLocTitleProperty=function(){var t=this,o=e.prototype.createLocTitleProperty.call(this);return o.storeDefaultText=!0,o.onGetTextCallback=function(e){return(e||(e=t.getDefaultTitle()),t.survey)?t.survey.getUpdatedQuestionTitle(t,e):e},this.locProcessedTitle=new tZ(this,!0),this.locProcessedTitle.sharedData=o,o},Question.prototype.getSurvey=function(t){return(void 0===t&&(t=!1),t)?this.parent?this.parent.getSurvey(t):null:this.onGetSurvey?this.onGetSurvey():e.prototype.getSurvey.call(this)},Question.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(Question.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){var t=this.getValueName();this.setPropertyValue("valueName",e),this.onValueNameChanged(t)},enumerable:!1,configurable:!0}),Question.prototype.onValueNameChanged=function(e){this.survey&&(this.survey.questionRenamed(this,this.name,e||this.name),this.initDataFromSurvey())},Question.prototype.onNameChanged=function(e){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,e,this.valueName?this.valueName:e)},Object.defineProperty(Question.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),Question.prototype.onAsyncRunningChanged=function(){this.updateIsReady()},Question.prototype.updateIsReady=function(){var e=this.getIsQuestionReady();if(e){for(var t=this.getIsReadyDependsOn(),o=0;o<t.length;o++)if(!t[o].getIsQuestionReady()){e=!1;break}}this.setIsReady(e)},Question.prototype.getIsQuestionReady=function(){return!this.isAsyncExpressionRunning&&this.getAreNestedQuestionsReady()},Question.prototype.getAreNestedQuestionsReady=function(){var e=this.getIsReadyNestedQuestions();if(!Array.isArray(e))return!0;for(var t=0;t<e.length;t++)if(!e[t].isReady)return!1;return!0},Question.prototype.getIsReadyNestedQuestions=function(){return this.getNestedQuestions()},Question.prototype.setIsReady=function(e){var t=this.isReadyValue;this.isReadyValue=e,t!=e&&(this.getIsReadyDependends().forEach(function(e){return e.updateIsReady()}),this.onReadyChanged.fire(this,{question:this,isReady:e,oldIsReady:t}))},Question.prototype.getIsReadyDependsOn=function(){return this.getIsReadyDependendCore(!0)},Question.prototype.getIsReadyDependends=function(){return this.getIsReadyDependendCore(!1)},Question.prototype.getIsReadyDependendCore=function(e){var t=this;if(!this.survey)return[];var o=this.survey.questionsByValueName(this.getValueName()),n=[];return o.forEach(function(e){e!==t&&n.push(e)}),!e&&(this.parentQuestion&&n.push(this.parentQuestion),this.dependedQuestions.length>0&&this.dependedQuestions.forEach(function(e){return n.push(e)})),n},Question.prototype.choicesLoaded=function(){},Object.defineProperty(Question.prototype,"page",{get:function(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),Question.prototype.getPanel=function(){return null},Question.prototype.delete=function(e){void 0===e&&(e=!0),this.removeFromParent(),e?this.dispose():this.resetDependedQuestions()},Question.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},Question.prototype.addDependedQuestion=function(e){!e||this.dependedQuestions.indexOf(e)>-1||this.dependedQuestions.push(e)},Question.prototype.removeDependedQuestion=function(e){if(e){var t=this.dependedQuestions.indexOf(e);t>-1&&this.dependedQuestions.splice(t,1)}},Question.prototype.updateDependedQuestions=function(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].updateDependedQuestion()},Question.prototype.updateDependedQuestion=function(){},Question.prototype.resetDependedQuestion=function(){},Object.defineProperty(Question.prototype,"isFlowLayout",{get:function(){return"flow"===this.getLayoutType()},enumerable:!1,configurable:!0}),Question.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},Question.prototype.isLayoutTypeSupported=function(e){return"flow"!==e},Object.defineProperty(Question.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e!=this.visible&&(this.setPropertyValue("visible",e),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),Question.prototype.onVisibleChanged=function(){this.updateIsVisibleProp(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},Question.prototype.notifyStateChanged=function(t){e.prototype.notifyStateChanged.call(this,t),this.isCollapsed&&this.onHidingContent()},Question.prototype.updateElementVisibility=function(){this.updateIsVisibleProp()},Question.prototype.updateIsVisibleProp=function(){var e=this.getPropertyValue("isVisible"),t=this.isVisible;e===t||(this.setPropertyValue("isVisible",t),t||this.onHidingContent()),t!==this.visible&&this.areInvisibleElementsShowing&&this.updateQuestionCss(!0)},Object.defineProperty(Question.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(e){this.setPropertyValue("useDisplayValuesInDynamicTexts",e)},enumerable:!1,configurable:!0}),Question.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(Question.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isVisible",{get:function(){return!(this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty())&&(!!this.areInvisibleElementsShowing||this.isVisibleCore())},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isVisibleInSurvey",{get:function(){return this.isVisible&&this.isParentVisible},enumerable:!1,configurable:!0}),Question.prototype.isVisibleCore=function(){return this.visible},Object.defineProperty(Question.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Question.prototype.onHidingContent=function(){},Object.defineProperty(Question.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(e){this.setPropertyValue("hideNumber",e),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),Question.prototype.getType=function(){return"question"},Object.defineProperty(Question.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Question.prototype.moveTo=function(e,t){return void 0===t&&(t=null),this.moveToBase(this.parent,e,t)},Question.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:e.prototype.getProgressInfo.call(this)},Question.prototype.ensureSetValueExpressionRunner=function(){var e=this;this.setValueExpressionRunner?this.setValueExpressionRunner.expression=this.setValueExpression:(this.setValueExpressionRunner=new tp(this.setValueExpression),this.setValueExpressionRunner.onRunComplete=function(t){e.runExpressionSetValue(t)})},Question.prototype.runSetValueExpression=function(){this.setValueExpression?(this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner.run(this.getDataFilteredValues(),this.getDataFilteredProperties())):this.clearValue()},Question.prototype.checkExpressionIf=function(e){return this.ensureSetValueExpressionRunner(),!!this.setValueExpressionRunner&&new e1().isAnyKeyChanged(e,this.setValueExpressionRunner.getVariables())},Question.prototype.addTriggerInfo=function(e,t,o){var n=new TriggerExpressionInfo(e,t,o);return this.triggersInfo.push(n),n},Question.prototype.runTriggerInfo=function(e,t,o){var n=this[e.name],r={};if(r[t]=o,!n||e.isRunning||!e.canRun()){e.runSecondCheck(r)&&e.doComplete();return}e.runner?e.runner.expression=n:(e.runner=new tp(n),e.runner.onRunComplete=function(t){!0===t&&e.doComplete(),e.isRunning=!1}),(new e1().isAnyKeyChanged(r,e.runner.getVariables())||e.runSecondCheck(r))&&(e.isRunning=!0,e.runner.run(this.getDataFilteredValues(),this.getDataFilteredProperties()))},Question.prototype.runTriggers=function(e,t){var o=this;this.isSettingQuestionValue||this.parentQuestion&&this.parentQuestion.getValueName()===e||this.triggersInfo.forEach(function(n){o.runTriggerInfo(n,e,t)})},Question.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},Question.prototype.setSurveyImpl=function(t,o){e.prototype.setSurveyImpl.call(this,t),this.survey&&(this.survey.questionCreated(this),!0!==o&&this.runConditions(),this.calcRenderedCommentPlaceholder(),this.visible||this.updateIsVisibleProp(),this.updateIsMobileFromSurvey())},Object.defineProperty(Question.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.parent!==e&&(this.removeFromParent(),this.setPropertyValue("parent",e),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),Question.prototype.onParentChanged=function(){},Object.defineProperty(Question.prototype,"hasTitle",{get:function(){return"hidden"!==this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(e){var t="hidden"==this.titleLocation||"hidden"==e;this.setPropertyValue("titleLocation",e.toLowerCase()),this.updateQuestionCss(),t&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Question.prototype.getTitleOwner=function(){return this},Question.prototype.getIsTitleRenderedAsString=function(){return"hidden"===this.titleLocation},Question.prototype.notifySurveyOnChildrenVisibilityChanged=function(){return!1},Question.prototype.notifySurveyVisibilityChanged=function(){if(this.survey&&!this.isLoadingFromJson){this.survey.questionVisibilityChanged(this,this.isVisible,!this.parentQuestion||this.parentQuestion.notifySurveyOnChildrenVisibilityChanged());var e=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(e),e&&this.isVisibleInSurvey&&this.updateValueWithDefaults()}},Question.prototype.clearValueOnHidding=function(e){e&&this.clearValueIfInvisible()},Object.defineProperty(Question.prototype,"titleWidth",{get:function(){if(this.parent&&"left"===this.getTitleLocation()){var e=this.parent.getColumsForElement(this),t=e.length;if(0!==t&&e[0].questionTitleWidth)return e[0].questionTitleWidth;var o=this.getPercentQuestionTitleWidth();if(!o&&this.parent){var n=this.parent.getQuestionTitleWidth();return n&&!isNaN(n)&&(n+="px"),n}return o/(t||1)+"%"}},enumerable:!1,configurable:!0}),Question.prototype.getPercentQuestionTitleWidth=function(){var e=!!this.parent&&this.parent.getQuestionTitleWidth();if(e&&"%"===e[e.length-1])return parseInt(e)},Question.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var e=this.getTitleLocationCore();return"left"!==e||this.isAllowTitleLeft||(e="top"),e},Question.prototype.getTitleLocationCore=function(){return"default"!==this.titleLocation?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(Question.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&"left"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&"top"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&"bottom"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var e=this.getTitleLocation();return"left"===e||"top"===e},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"errorLocation",{get:function(){return this.getPropertyValue("errorLocation")},set:function(e){this.setPropertyValue("errorLocation",e)},enumerable:!1,configurable:!0}),Question.prototype.getErrorLocation=function(){return"default"!==this.errorLocation?this.errorLocation:this.parentQuestion?this.parentQuestion.getChildErrorLocation(this):this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},Question.prototype.getChildErrorLocation=function(e){return this.getErrorLocation()},Object.defineProperty(Question.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),Question.prototype.getDefaultTitleValue=function(){return this.name},Question.prototype.getDefaultTitleTagName=function(){return t0.titleTags.question},Object.defineProperty(Question.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(e){this.setPropertyValue("descriptionLocation",e),this.updateQuestionCss()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"hasDescriptionUnderTitle",{get:function(){return"underTitle"==this.getDescriptionLocation()&&this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"hasDescriptionUnderInput",{get:function(){return"underInput"==this.getDescriptionLocation()&&this.hasDescription},enumerable:!1,configurable:!0}),Question.prototype.getDescriptionLocation=function(){return"default"!==this.descriptionLocation?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},Question.prototype.needClickTitleFunction=function(){return e.prototype.needClickTitleFunction.call(this)||this.hasInput},Question.prototype.processTitleClick=function(){var t=this;if(e.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){t.focus()},1),!0},Object.defineProperty(Question.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(e){this.setLocalizableStringText("commentText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(e){this.commentPlaceholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"renderedCommentPlaceholder",{get:function(){return this.getPropertyValue("renderedCommentPlaceholder")},enumerable:!1,configurable:!0}),Question.prototype.calcRenderedCommentPlaceholder=function(){var e=this.isReadOnly?void 0:this.commentPlaceHolder;this.setPropertyValue("renderedCommentPlaceholder",e)},Question.prototype.getAllErrors=function(){return this.errors.slice()},Question.prototype.getErrorByType=function(e){for(var t=0;t<this.errors.length;t++)if(this.errors[t].getErrorType()===e)return this.errors[t];return null},Object.defineProperty(Question.prototype,"customWidget",{get:function(){return this.isCustomWidgetRequested||this.customWidgetValue||(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),Question.prototype.updateCustomWidget=function(){this.customWidgetValue=ob.Instance.getCustomWidget(this)},Question.prototype.localeChanged=function(){e.prototype.localeChanged.call(this),this.calcRenderedCommentPlaceholder(),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(Question.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),Question.prototype.updateCommentElements=function(){},Question.prototype.onCommentInput=function(e){this.isInputTextUpdate?e.target&&(this.comment=e.target.value):this.updateCommentElements()},Question.prototype.onCommentChange=function(e){this.comment=e.target.value,this.comment!==e.target.value&&(e.target.value=this.comment)},Question.prototype.afterRenderQuestionElement=function(e){this.survey&&this.hasSingleInput&&this.survey.afterRenderQuestionInput(this,e)},Question.prototype.afterRender=function(e){var t=this;this.afterRenderCore(e),this.survey&&(this.survey.afterRenderQuestion(this,e),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,e),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(function(e){var o=t0.environment.root.getElementById(e);o&&t.commentElements.push(o)}),this.updateCommentElements()),this.checkForResponsiveness(e))},Question.prototype.afterRenderCore=function(t){e.prototype.afterRenderCore.call(this,t)},Question.prototype.getCommentElementsId=function(){return[this.commentId]},Question.prototype.beforeDestroyQuestionElement=function(e){this.commentElements=void 0},Object.defineProperty(Question.prototype,"processedTitle",{get:function(){return this.locProcessedTitle.textOrHtml||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(e){this.startWithNewLine!=e&&this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),Question.prototype.calcCssClasses=function(e){var t={error:{}};return this.copyCssClasses(t,e.question),this.copyCssClasses(t.error,e.error),this.updateCssClasses(t,e),this.survey&&this.survey.updateQuestionCssClasses(this,t),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(t),t},Object.defineProperty(Question.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),Question.prototype.setCssRoot=function(e){this.setPropertyValue("cssRoot",e)},Question.prototype.getCssRoot=function(t){var o=this.hasCssError();return new tP().append(e.prototype.getCssRoot.call(this,t)).append(this.isFlowLayout&&!this.isDesignMode?t.flowRoot:t.mainRoot).append(t.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(t.titleTopRoot,!this.isFlowLayout&&this.hasTitleOnTop).append(t.titleBottomRoot,!this.isFlowLayout&&this.hasTitleOnBottom).append(t.descriptionUnderInputRoot,!this.isFlowLayout&&this.hasDescriptionUnderInput).append(t.hasError,o).append(t.hasErrorTop,o&&"top"==this.getErrorLocation()).append(t.hasErrorBottom,o&&"bottom"==this.getErrorLocation()).append(t.small,!this.width).append(t.answered,this.isAnswered).append(t.noPointerEventsMode,this.isReadOnlyAttr).toString()},Object.defineProperty(Question.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),Question.prototype.setCssHeader=function(e){this.setPropertyValue("cssHeader",e)},Question.prototype.getCssHeader=function(e){return new tP().append(e.header).append(e.headerTop,this.hasTitleOnTop).append(e.headerLeft,this.hasTitleOnLeft).append(e.headerBottom,this.hasTitleOnBottom).toString()},Question.prototype.supportContainerQueries=function(){return!1},Object.defineProperty(Question.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),Question.prototype.setCssContent=function(e){this.setPropertyValue("cssContent",e)},Question.prototype.getCssContent=function(e){return new tP().append(e.content).append(e.contentSupportContainerQueries,this.supportContainerQueries()).append(e.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(Question.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),Question.prototype.setCssTitle=function(e){this.setPropertyValue("cssTitle",e)},Question.prototype.getCssTitle=function(t){return new tP().append(e.prototype.getCssTitle.call(this,t)).append(t.titleOnAnswer,!this.containsErrors&&this.isAnswered).append(t.titleEmpty,!this.title.trim()).toString()},Object.defineProperty(Question.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")},enumerable:!1,configurable:!0}),Question.prototype.setCssDescription=function(e){this.setPropertyValue("cssDescription",e)},Question.prototype.getCssDescription=function(e){return new tP().append(e.description,this.hasDescriptionUnderTitle).append(e.descriptionUnderInput,this.hasDescriptionUnderInput).toString()},Question.prototype.showErrorOnCore=function(e){return!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.getErrorLocation()===e},Object.defineProperty(Question.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"top"===this.getErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"bottom"===this.getErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),Question.prototype.setCssError=function(e){this.setPropertyValue("cssError",e)},Question.prototype.getCssError=function(e){return new tP().append(e.error.root).append(e.errorsContainer,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(e.errorsContainerTop,this.showErrorsAboveQuestion).append(e.errorsContainerBottom,this.showErrorsBelowQuestion).append(e.error.locationTop,this.showErrorOnTop).append(e.error.locationBottom,this.showErrorOnBottom).toString()},Question.prototype.hasCssError=function(){return this.errors.length>0||this.hasCssErrorCallback()},Question.prototype.getRootCss=function(){return new tP().append(this.cssRoot).append(this.cssClasses.mobile,this.isMobile).append(this.cssClasses.readOnly,this.isReadOnlyStyle).append(this.cssClasses.disabled,this.isDisabledStyle).append(this.cssClasses.preview,this.isPreviewStyle).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},Question.prototype.getQuestionRootCss=function(){return new tP().append(this.cssClasses.root).append(this.cssClasses.rootMobile,this.isMobile).toString()},Question.prototype.updateElementCss=function(t){e.prototype.updateElementCss.call(this,t),t&&this.updateQuestionCss(!0),this.onIndentChanged()},Question.prototype.updateQuestionCss=function(e){!this.isLoadingFromJson&&this.survey&&(!0===e||this.cssClassesValue)&&this.updateElementCssCore(this.cssClasses)},Question.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},Question.prototype.updateElementCssCore=function(e){this.setCssRoot(this.getCssRoot(e)),this.setCssHeader(this.getCssHeader(e)),this.setCssContent(this.getCssContent(e)),this.setCssTitle(this.getCssTitle(e)),this.setCssDescription(this.getCssDescription(e)),this.setCssError(this.getCssError(e))},Question.prototype.updateCssClasses=function(e,t){if(t.question){var o=t[this.getCssType()],n=new tP().append(e.title).append(t.question.titleRequired,this.isRequired);e.title=n.toString();var r=new tP().append(e.root).append(o,this.isRequired&&!!t.question.required);if(null==o)e.root=r.toString();else if("string"==typeof o||o instanceof String)e.root=r.append(o.toString()).toString();else for(var i in e.root=r.toString(),o)e[i]=o[i]}},Question.prototype.getCssType=function(){return this.getType()},Object.defineProperty(Question.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),Question.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},Question.prototype.getIndentSize=function(e){return!(e<1)&&this.getSurvey()&&this.cssClasses&&this.cssClasses.indent?e*this.cssClasses.indent+"px":""},Question.prototype.focus=function(e,t){var o=this;if(void 0===e&&(e=!1),!this.isDesignMode&&this.isVisible&&this.survey){var n=this.page;if(n&&this.survey.activePage!==n)this.survey.focusQuestionByInstance(this,e);else if(this.survey){this.expandAllParents();var r=this.survey.isSmoothScrollEnabled?{behavior:"smooth"}:void 0;this.survey.scrollElementToTop(this,this,null,this.id,t,r,void 0,function(){o.focusInputElement(e)})}else this.focusInputElement(e)}},Question.prototype.focusInputElement=function(e){var t,o=e?this.getFirstErrorInputElementId():this.getFirstInputElementId(),n=null===(t=this.survey)||void 0===t?void 0:t.rootElement;t$.FocusElement(o,!1,n)&&this.fireCallback(this.focusCallback)},Object.defineProperty(Question.prototype,"isValidateVisitedEmptyFields",{get:function(){return this.supportEmptyValidation()&&!!this.survey&&this.survey.getValidateVisitedEmptyFields()&&this.isEmpty()},enumerable:!1,configurable:!0}),Question.prototype.supportEmptyValidation=function(){return!1},Question.prototype.onBlur=function(e){this.onBlurCore(e)},Question.prototype.onFocus=function(e){this.onFocusCore(e)},Question.prototype.onBlurCore=function(e){this.isFocusEmpty&&this.isEmpty()&&this.validate(!0)},Question.prototype.onFocusCore=function(e){this.isFocusEmpty=this.isValidateVisitedEmptyFields},Question.prototype.expandAllParents=function(){this.expandAllParentsCore(this)},Question.prototype.expandAllParentsCore=function(e){e&&(e.isCollapsed&&e.expand(),this.expandAllParentsCore(e.parent),this.expandAllParentsCore(e.parentQuestion))},Question.prototype.focusIn=function(){!this.survey||this.isDisposed||this.isContainer||this.survey.whenQuestionFocusIn(this)},Question.prototype.fireCallback=function(e){e&&e()},Question.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},Question.prototype.onCreating=function(){},Question.prototype.getFirstQuestionToFocus=function(e){return this.hasInput&&(!e||this.currentErrorCount>0)?this:null},Question.prototype.getFirstInputElementId=function(){return this.inputId},Question.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},Question.prototype.getProcessedTextValue=function(e){var t=e.name.toLocaleLowerCase();e.isExists=-1!==Object.keys(Question.TextPreprocessorValuesMap).indexOf(t)||void 0!==this[e.name],e.value=this[Question.TextPreprocessorValuesMap[t]||e.name]},Question.prototype.supportComment=function(){var e=this.getPropertyByName("showCommentArea");return!e||e.visible},Question.prototype.supportOther=function(){return!1},Object.defineProperty(Question.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(e){this.setPropertyValue("isRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(e){this.supportComment()&&this.setPropertyValue("showCommentArea",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(e){this.showCommentArea=e},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"ariaDescriptionId",{get:function(){return this.id+"_ariaDescription"},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"commentId",{get:function(){return this.id+"_comment"},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(e){this.supportOther()&&this.showOtherItem!=e&&(this.setPropertyValue("showOtherItem",e),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(e){this.showOtherItem=e},enumerable:!1,configurable:!0}),Question.prototype.hasOtherChanged=function(){},Object.defineProperty(Question.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isReadOnly",{get:function(){var e=!!this.parent&&this.parent.isReadOnly,t=!!this.parentQuestion&&this.parentQuestion.isReadOnly,o=!!this.survey&&this.survey.isDisplayMode,n=!!this.readOnlyCallback&&this.readOnlyCallback();return this.readOnly||e||o||t||n},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isInputReadOnly",{get:function(){return void 0!==this.forceIsInputReadOnly?this.forceIsInputReadOnly:this.isReadOnly||this.isDesignModeV2},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isReadOnlyAttr",{get:function(){return this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isDisabledAttr",{get:function(){return this.isDesignModeV2||!!this.readOnlyCallback&&this.readOnlyCallback()},enumerable:!1,configurable:!0}),Question.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),e.prototype.onReadOnlyChanged.call(this),this.isReadOnly&&this.clearErrors(),this.updateQuestionCss(),this.calcRenderedCommentPlaceholder()},Object.defineProperty(Question.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),Question.prototype.surveyChoiceItemVisibilityChange=function(){},Question.prototype.runCondition=function(e,t){this.isDesignMode||(t||(t={}),t.question=this,this.runConditionCore(e,t),this.isValueChangedDirectly||this.isClearValueOnHidden&&!this.isVisibleInSurvey||(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,e,t)))},Object.defineProperty(Question.prototype,"isInDesignMode",{get:function(){return!this.isContentElement&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isInDesignModeV2",{get:function(){return!this.isContentElement&&this.isDesignModeV2},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),Question.prototype.calcNo=function(){if(!this.hasTitle||this.hideNumber)return"";var e,t=null===(e=this.parent)||void 0===e?void 0:e.visibleIndex,o=eQ.getNumberByIndex(this.visibleIndex,this.getStartIndex(),t);return this.survey&&(o=this.survey.getUpdatedQuestionNo(this,o)),o},Question.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},Question.prototype.onSurveyLoad=function(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey(),this.calcRenderedCommentPlaceholder(),this.onIndentChanged()},Question.prototype.onSetData=function(){e.prototype.onSetData.call(this),this.survey&&(this.onIndentChanged(),this.isDesignMode||(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.updateIsAnswered()))},Question.prototype.initDataFromSurvey=function(){if(this.data){var e=this.data.getValue(this.getValueName());eQ.isValueEmpty(e)&&this.isLoadingFromJson||this.updateValueFromSurvey(e),this.initCommentFromSurvey()}},Question.prototype.initCommentFromSurvey=function(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")},Question.prototype.runExpression=function(e){if(this.survey&&e)return this.survey.runExpression(e)},Object.defineProperty(Question.prototype,"commentAreaRows",{get:function(){return this.survey&&this.survey.commentAreaRows},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"allowResizeComment",{get:function(){return this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"questionValue",{get:function(){return this.getPropertyValueWithoutDefault("value")},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"questionComment",{get:function(){return this.getPropertyValueWithoutDefault("comment")},set:function(e){this.setPropertyValue("comment",e),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isValueArray",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"value",{get:function(){return this.getValueCore()},set:function(e){this.setNewValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"hasFilteredValue",{get:function(){return!1},enumerable:!1,configurable:!0}),Question.prototype.getFilteredValue=function(){return this.value},Question.prototype.getFilteredName=function(){return this.getValueName()},Object.defineProperty(Question.prototype,"valueForSurvey",{get:function(){return this.valueForSurveyCore(this.value)},enumerable:!1,configurable:!0}),Question.prototype.valueForSurveyCore=function(e){return this.valueToDataCallback?this.valueToDataCallback(e):e},Question.prototype.valueFromDataCore=function(e){return this.valueFromDataCallback?this.valueFromDataCallback(e):e},Question.prototype.clearValue=function(e){void 0!==this.value&&(this.value=void 0),this.comment&&!0!==e&&(this.comment=void 0),this.setValueChangedDirectly(!1)},Question.prototype.clearValueOnly=function(){this.clearValue(!0)},Question.prototype.unbindValue=function(){this.clearValue()},Question.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},Question.prototype.initDataUI=function(){},Question.prototype.getUnbindValue=function(e){return this.isValueSurveyElement(e)?e:eQ.getUnbindValue(e)},Question.prototype.isValueSurveyElement=function(e){return!!e&&(Array.isArray(e)?e.length>0&&this.isValueSurveyElement(e[0]):!!e.getType&&!!e.onPropertyChanged)},Question.prototype.canClearValueAsInvisible=function(e){return"onHiddenContainer"===e&&!this.isParentVisible||!this.isVisibleInSurvey&&(!this.page||!this.page.isStartPage)&&(!this.survey||!this.survey.hasVisibleQuestionByValueName(this.getValueName()))},Object.defineProperty(Question.prototype,"isParentVisible",{get:function(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var e=this.parent;e;){if(!e.isVisible)return!1;e=e.parent}return!0},enumerable:!1,configurable:!0}),Question.prototype.clearValueIfInvisible=function(e){void 0===e&&(e="onHidden");var t=this.getClearIfInvisible();"none"!==t&&("onHidden"!==e||"onComplete"!==t)&&("onHiddenContainer"!==e||t===e)&&this.clearValueIfInvisibleCore(e)},Question.prototype.clearValueIfInvisibleCore=function(e){this.canClearValueAsInvisible(e)&&(this.clearValue(),this.setValueChangedDirectly(void 0))},Object.defineProperty(Question.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(e){this.setPropertyValue("clearIfInvisible",e)},enumerable:!1,configurable:!0}),Question.prototype.getClearIfInvisible=function(){var e=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(e):"default"!==e?e:"onComplete"},Object.defineProperty(Question.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),Question.prototype.getDisplayValue=function(e,t){void 0===t&&(t=void 0);var o=this.calcDisplayValue(e,t);return this.survey&&(o=this.survey.getQuestionDisplayValue(this,o)),this.displayValueCallback?this.displayValueCallback(o):o},Question.prototype.calcDisplayValue=function(e,t){if(void 0===t&&(t=void 0),this.customWidget){var o=this.customWidget.getDisplayValue(this,t);if(o)return o}return(t=void 0==t?this.createValueCopy():t,this.isValueEmpty(t,!this.allowSpaceAsAnswer))?this.getDisplayValueEmpty():this.getDisplayValueCore(e,t)},Question.prototype.getDisplayValueCore=function(e,t){return t},Question.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(Question.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){if(this.isValueExpression(e)){this.defaultValueExpression=e.substring(1);return}this.setPropertyValue("defaultValue",this.convertDefaultValue(e)),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(e){this.setPropertyValue("defaultValueExpression",e),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"resetValueIf",{get:function(){return this.getPropertyValue("resetValueIf")},set:function(e){this.setPropertyValue("resetValueIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"setValueIf",{get:function(){return this.getPropertyValue("setValueIf")},set:function(e){this.setPropertyValue("setValueIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"setValueExpression",{get:function(){return this.getPropertyValue("setValueExpression")},set:function(e){this.setPropertyValue("setValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"resizeStyle",{get:function(){return this.allowResizeComment?"both":"none"},enumerable:!1,configurable:!0}),Question.prototype.getPlainData=function(e){var t=this;if(e||(e={includeEmpty:!0,includeQuestionTypes:!1}),e.includeEmpty||!this.isEmpty()){var o={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(e){return"object"==typeof e?JSON.stringify(e):e}};return!0===e.includeQuestionTypes&&(o.questionType=this.getType()),(e.calculations||[]).forEach(function(e){o[e.propertyName]=t.getPlainDataCalculatedValue(e.propertyName)}),this.hasComment&&(o.isNode=!0,o.data=[{name:0,isComment:!0,title:"Comment",value:t0.commentSuffix,displayValue:this.comment,getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!1}]),o}},Question.prototype.getPlainDataCalculatedValue=function(e){return this[e]},Object.defineProperty(Question.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(e){this.setPropertyValue("correctAnswer",this.convertDefaultValue(e))},enumerable:!1,configurable:!0}),Question.prototype.convertDefaultValue=function(e){return e},Object.defineProperty(Question.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"correctAnswerCount",{get:function(){return this.isEmpty()||this.isValueEmpty(this.correctAnswer)?0:this.getCorrectAnswerCount()},enumerable:!1,configurable:!0}),Question.prototype.getQuizQuestionCount=function(){return 1},Question.prototype.getCorrectAnswerCount=function(){return this.checkIfAnswerCorrect()?1:0},Question.prototype.checkIfAnswerCorrect=function(){var e=eQ.isTwoValueEquals(this.value,this.correctAnswer,this.getAnswerCorrectIgnoreOrder(),t0.comparator.caseSensitive,!0),t=e?1:0,o={result:e,correctAnswer:t,correctAnswers:t,incorrectAnswers:this.quizQuestionCount-t};return this.survey&&this.survey.onCorrectQuestionAnswer(this,o),o.result},Question.prototype.getAnswerCorrectIgnoreOrder=function(){return!1},Question.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},Question.prototype.updateValueWithDefaults=function(){!(this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty())&&(!this.isClearValueOnHidden||this.isVisible)&&(this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue())},Object.defineProperty(Question.prototype,"isValueDefault",{get:function(){return!this.isEmpty()&&(this.isTwoValueEquals(this.defaultValue,this.value)||!this.isValueChangedDirectly&&!!this.defaultValueExpression)},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"isClearValueOnHidden",{get:function(){var e=this.getClearIfInvisible();return"none"!==e&&"onComplete"!==e&&("onHidden"===e||"onHiddenContainer"===e)},enumerable:!1,configurable:!0}),Question.prototype.getQuestionFromArray=function(e,t){return null},Question.prototype.getDefaultValue=function(){return this.defaultValue},Question.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue,!this.allowSpaceAsAnswer)},Question.prototype.getDefaultRunner=function(e,t){return!e&&t&&(e=this.createExpressionRunner(t)),e&&(e.expression=t),e},Question.prototype.setDefaultValue=function(){var e=this;this.setDefaultValueCore(function(t){e.isTwoValueEquals(e.value,t)||(e.value=t)})},Question.prototype.setDefaultValueCore=function(e){this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(t){return e(t)})},Question.prototype.isValueExpression=function(e){return!!e&&"string"==typeof e&&e.length>0&&"="==e[0]},Question.prototype.setValueAndRunExpression=function(e,t,o,n,r){var i=this;void 0===n&&(n=null),void 0===r&&(r=null);var func=function(e){i.runExpressionSetValueCore(e,o)};this.runDefaultValueExpression(e,n,r,func)||func(t)},Question.prototype.convertFuncValuetoQuestionValue=function(e){return eQ.convertValToQuestionVal(e)},Question.prototype.runExpressionSetValueCore=function(e,t){t(this.convertFuncValuetoQuestionValue(e))},Question.prototype.runExpressionSetValue=function(e){var t=this;this.runExpressionSetValueCore(e,function(e){t.isTwoValueEquals(t.value,e)||(t.startSetValueOnExpression(),t.value=e,t.finishSetValueOnExpression())})},Question.prototype.startSetValueOnExpression=function(){var e;null===(e=this.survey)||void 0===e||e.startSetValueOnExpression()},Question.prototype.finishSetValueOnExpression=function(){var e;null===(e=this.survey)||void 0===e||e.finishSetValueOnExpression()},Question.prototype.runDefaultValueExpression=function(e,t,o,n){var r=this;return void 0===t&&(t=null),void 0===o&&(o=null),!!e&&!!this.data&&(n||(n=function(e){r.runExpressionSetValue(e)}),t||(t=this.defaultValueExpression?this.data.getFilteredValues():{}),o||(o=this.defaultValueExpression?this.data.getFilteredProperties():{}),e&&e.canRun&&(e.onRunComplete=function(e){void 0==e&&(e=r.defaultValue),r.isChangingViaDefaultValue=!0,n(e),r.isChangingViaDefaultValue=!1},e.run(t,o)),!0)},Object.defineProperty(Question.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(e){if(e){var t=e.toString().trim();t!==e&&(e=t)===this.comment&&this.setPropertyValueDirectly("comment",e)}this.comment!=e&&(this.setQuestionComment(e),this.updateCommentElements())},enumerable:!1,configurable:!0}),Question.prototype.getCommentAreaCss=function(e){return void 0===e&&(e=!1),new tP().append("form-group",e).append(this.cssClasses.formGroup,!e).append(this.cssClasses.commentArea).toString()},Question.prototype.getQuestionComment=function(){return this.questionComment},Question.prototype.setQuestionComment=function(e){this.setNewComment(e)},Question.prototype.isEmpty=function(){return this.isValueEmpty(this.value,!this.allowSpaceAsAnswer)},Object.defineProperty(Question.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")||!1},set:function(e){this.setPropertyValue("isAnswered",e)},enumerable:!1,configurable:!0}),Question.prototype.updateIsAnswered=function(){var e=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),e!==this.isAnswered&&this.updateQuestionCss()},Question.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(Question.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(e){this.setPropertyValue("validators",e)},enumerable:!1,configurable:!0}),Question.prototype.getValidators=function(){return this.validators},Question.prototype.getSupportedValidators=function(){for(var e=[],t=this.getType();t;){var o=t0.supportedValidators[t];if(o)for(var n=o.length-1;n>=0;n--)e.splice(0,0,o[n]);t=eY.findClass(t).parentName}return e},Question.prototype.addConditionObjectsByContext=function(e,t){e.push({name:this.getFilteredName(),text:this.processedTitle,question:this})},Question.prototype.getNestedQuestions=function(e){void 0===e&&(e=!1);var t=[];return(this.collectNestedQuestions(t,e),1===t.length&&t[0]===this)?[]:t},Question.prototype.collectNestedQuestions=function(e,t){void 0===t&&(t=!1),(!t||this.isVisible)&&this.collectNestedQuestionsCore(e,t)},Question.prototype.collectNestedQuestionsCore=function(e,t){e.push(this)},Question.prototype.getConditionJson=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var o=new eK().toJsonObject(this);return o.type=this.getType(),o},Question.prototype.hasErrors=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=null);var o=this.checkForErrors(!!t&&!0===t.isOnValueChanged,e);return e&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,o),this.errors=o,this.errors!==o&&this.errors.forEach(function(e){return e.locText.strChanged()})),this.updateContainsErrors(),this.isCollapsed&&t&&e&&o.length>0&&this.expand(),o.length>0},Question.prototype.validate=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=null),t&&t.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(e,t)},Object.defineProperty(Question.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"requiredText",{get:function(){return null!=this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Question.prototype.addError=function(e){if(e){var t=null;t="string"==typeof e||e instanceof String?this.addCustomError(e):e,this.errors.push(t)}},Question.prototype.addCustomError=function(e){return new ol(e,this.survey)},Question.prototype.removeError=function(e){if(!e)return!1;var t=this.errors,o=t.indexOf(e);return -1!==o&&t.splice(o,1),-1!==o},Question.prototype.checkForErrors=function(e,t){var o=[];return this.isVisible&&this.canCollectErrors()&&this.collectErrors(o,e,t),o},Question.prototype.canCollectErrors=function(){return!this.isReadOnly||t0.readOnly.enableValidation},Question.prototype.collectErrors=function(e,t,o){if(this.onCheckForErrors(e,t,o),!(e.length>0)&&this.canRunValidators(t)){var n=this.runValidators();if(n.length>0){e.length=0;for(var r=0;r<n.length;r++)e.push(n[r])}if(this.survey&&0==e.length){var i=this.fireSurveyValidation();i&&e.push(i)}}},Question.prototype.canRunValidators=function(e){return!0},Question.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},Question.prototype.onCheckForErrors=function(e,t,o){var n=this;if((!t||this.isOldAnswered)&&this.hasRequiredError()){var r=new t9(this.requiredErrorText,this);r.onUpdateErrorTextCallback=function(e){e.text=n.requiredErrorText},e.push(r)}if(!this.isEmpty()&&this.customWidget){var i=this.customWidget.validate(this);i&&e.push(this.addCustomError(i))}},Question.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(Question.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),Question.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},Question.prototype.runValidators=function(){var e=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new op,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(t){e.doOnAsyncCompleted(t)},this.validatorRunner.run(this)},Question.prototype.doOnAsyncCompleted=function(e){for(var t=0;t<e.length;t++)this.errors.push(e[t]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},Question.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},Question.prototype.setNewValue=function(e){!this.isNewValueEqualsToValue(e)&&this.checkIsValueCorrect(e)&&(this.isOldAnswered=this.isAnswered,this.isSettingQuestionValue=!0,this.setNewValueInData(e),this.allowNotifyValueChanged&&this.onValueChanged(),this.isSettingQuestionValue=!1,this.isAnswered!==this.isOldAnswered&&this.updateQuestionCss(),this.isOldAnswered=void 0,this.parent&&this.parent.onQuestionValueChanged(this))},Question.prototype.checkIsValueCorrect=function(e){var t=this.isValueEmpty(e,!this.allowSpaceAsAnswer)||this.isNewValueCorrect(e);return t||e0.inCorrectQuestionValue(this.name,e),t},Question.prototype.isNewValueCorrect=function(e){return!0},Question.prototype.isNewValueEqualsToValue=function(e){var t=this.value;return!!this.isTwoValueEquals(e,t,!1,!1)&&!(e===t&&t&&(Array.isArray(t)||"object"==typeof t))},Question.prototype.isTextValue=function(){return!1},Question.prototype.getIsInputTextUpdate=function(){return!!this.survey&&this.survey.isUpdateValueTextOnTyping},Object.defineProperty(Question.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),Question.prototype.getDataLocNotification=function(){return!!this.isInputTextUpdate&&"text"},Object.defineProperty(Question.prototype,"isInputTextUpdate",{get:function(){return this.getIsInputTextUpdate()&&this.isTextValue()},enumerable:!1,configurable:!0}),Question.prototype.setNewValueInData=function(e){e=this.valueToData(e),this.isValueChangedInSurvey||this.setValueCore(e)},Question.prototype.getValueCore=function(){return this.questionValue},Question.prototype.setValueCore=function(e){this.setQuestionValue(e),null!=this.data&&this.canSetValueToSurvey()&&(e=this.valueForSurvey,this.data.setValue(this.getValueName(),e,this.getDataLocNotification(),this.allowNotifyValueChanged,this.name)),this.isMouseDown=!1},Question.prototype.canSetValueToSurvey=function(){return!0},Question.prototype.valueFromData=function(e){return e},Question.prototype.valueToData=function(e){return e},Question.prototype.convertToCorrectValue=function(e){return e},Question.prototype.onValueChanged=function(){},Question.prototype.onMouseDown=function(){this.isMouseDown=!0},Question.prototype.setNewComment=function(e){this.questionComment!==e&&(this.questionComment=e,this.setCommentIntoData(e))},Question.prototype.setCommentIntoData=function(e){null!=this.data&&this.data.setComment(this.getValueName(),e,!!this.getIsInputTextUpdate()&&"text")},Question.prototype.getValidName=function(e){return makeNameValid(e)},Question.prototype.updateValueFromSurvey=function(e,t){var o=this;if(void 0===t&&(t=!1),e=this.getUnbindValue(e),e=this.valueFromDataCore(e),this.checkIsValueCorrect(e)){var n=this.isValueEmpty(e);!n&&this.defaultValueExpression?this.setDefaultValueCore(function(t){o.updateValueFromSurveyCore(e,o.isTwoValueEquals(e,t))}):(this.updateValueFromSurveyCore(e,this.data!==this.getSurvey()),t&&n&&(this.isValueChangedDirectly=!1)),this.updateDependedQuestions(),this.updateIsAnswered()}},Question.prototype.updateValueFromSurveyCore=function(e,t){this.isChangingViaDefaultValue=t,this.setQuestionValue(this.valueFromData(e)),this.isChangingViaDefaultValue=!1},Question.prototype.updateCommentFromSurvey=function(e){this.questionComment=e},Question.prototype.onChangeQuestionValue=function(e){},Question.prototype.setValueChangedDirectly=function(e){this.isValueChangedDirectly=e,this.setValueChangedDirectlyCallback&&this.setValueChangedDirectlyCallback(e)},Question.prototype.setQuestionValue=function(e,t){void 0===t&&(t=!0),e=this.convertToCorrectValue(e);var o=this.isTwoValueEquals(this.questionValue,e);o||this.isChangingViaDefaultValue||this.isParentChangingViaDefaultValue||this.setValueChangedDirectly(!0),this.questionValue=e,o||this.onChangeQuestionValue(e),!o&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),t&&this.updateIsAnswered()},Object.defineProperty(Question.prototype,"isParentChangingViaDefaultValue",{get:function(){var e;return(null===(e=this.data)||void 0===e?void 0:e.isChangingViaDefaultValue)===!0},enumerable:!1,configurable:!0}),Question.prototype.onSurveyValueChanged=function(e){},Question.prototype.setVisibleIndex=function(e){return this.isVisible&&(this.hasTitle||t0.numbering.includeQuestionsWithHiddenTitle)&&(!this.hideNumber||t0.numbering.includeQuestionsWithHiddenNumber)||(e=-1),this.setPropertyValue("visibleIndex",e),this.setPropertyValue("no",this.calcNo()),e<0?0:1},Question.prototype.removeElement=function(e){return!1},Question.prototype.supportGoNextPageAutomatic=function(){return!1},Question.prototype.supportGoNextPageError=function(){return!0},Question.prototype.clearIncorrectValues=function(){},Question.prototype.clearOnDeletingContainer=function(){},Question.prototype.clearErrors=function(){this.errors=[]},Question.prototype.clearUnusedValues=function(){},Question.prototype.onAnyValueChanged=function(e,t){},Question.prototype.checkBindings=function(e,t){if(!this.bindings.isEmpty()&&this.data)for(var o=this.bindings.getPropertiesByValueName(e),n=0;n<o.length;n++){var r=o[n];this.isValueEmpty(t)&&eQ.isNumber(this[r])&&(t=0),this.updateBindingProp(r,t)}},Question.prototype.updateBindingProp=function(e,t){this[e]=t},Question.prototype.getComponentName=function(){return oC.Instance.getRendererByQuestion(this)},Question.prototype.isDefaultRendering=function(){return!!this.customWidget||"default"===this.getComponentName()},Question.prototype.getErrorCustomText=function(e,t){return this.survey?this.survey.getSurveyErrorCustomText(this,e,t):e},Question.prototype.getValidatorTitle=function(){return null},Object.defineProperty(Question.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),Question.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},Question.prototype.processPopupVisiblilityChanged=function(e,t){this.survey.processPopupVisiblityChanged(this,e,t)},Question.prototype.processOpenDropdownMenu=function(e){this.survey.processOpenDropdownMenu(this,e)},Question.prototype.onTextKeyDownHandler=function(e){13===e.keyCode&&this.survey.questionEditFinishCallback(this,e)},Question.prototype.transformToMobileView=function(){},Question.prototype.transformToDesktopView=function(){},Question.prototype.needResponsiveWidth=function(){return!1},Question.prototype.supportResponsiveness=function(){return!1},Question.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},Question.prototype.checkForResponsiveness=function(e){var t=this;this.needResponsiveness()&&(this.isCollapsed?this.registerPropertyChangedHandlers(["state"],function(){t.isExpanded&&(t.initResponsiveness(e),t.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))},"for-responsiveness"):this.initResponsiveness(e))},Question.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},Question.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},Question.prototype.triggerResponsiveness=function(e){void 0===e&&(e=!0),this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(e)},Question.prototype.initResponsiveness=function(e){var t=this;if(this.destroyResizeObserver(),e&&this.isDefaultRendering()){var o=this.getObservedElementSelector();if(!o||!e.querySelector(o))return;var n=!1,r=void 0;this.triggerResponsivenessCallback=function(i){i&&(r=void 0,t.renderAs="default",n=!1);var callback=function(){var i=e.querySelector(o);!r&&t.isDefaultRendering()&&(r=i.scrollWidth),n=!n&&!!isContainerVisible(i)&&t.processResponsiveness(r,getElementWidth(i))};i?setTimeout(callback,1):callback()},this.resizeObserver=new ResizeObserver(function(e){eE.requestAnimationFrame(function(){t.triggerResponsiveness(!1)})}),this.onMobileChangedCallback=function(){setTimeout(function(){var n=e.querySelector(o);t.processResponsiveness(r,getElementWidth(n))},0)},this.resizeObserver.observe(e)}},Question.prototype.getCompactRenderAs=function(){return"default"},Question.prototype.getDesktopRenderAs=function(){return"default"},Question.prototype.onBeforeSetCompactRenderer=function(){},Question.prototype.onBeforeSetDesktopRenderer=function(){},Question.prototype.processResponsiveness=function(e,t){if(Math.abs(e-(t=Math.round(t)))>2){var o=this.renderAs;return e>t?(this.onBeforeSetCompactRenderer(),this.renderAs=this.getCompactRenderAs()):(this.onBeforeSetDesktopRenderer(),this.renderAs=this.getDesktopRenderAs()),o!==this.renderAs}return!1},Question.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())},Question.prototype.dispose=function(){e.prototype.dispose.call(this),this.resetDependedQuestions(),this.destroyResizeObserver()},Question.prototype.resetDependedQuestions=function(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].resetDependedQuestion()},Object.defineProperty(Question.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"ariaLabel",{get:function(){return this.isNewA11yStructure?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"ariaRole",{get:function(){return this.isNewA11yStructure?null:"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"ariaRequired",{get:function(){return this.isNewA11yStructure?null:this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"ariaInvalid",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"ariaLabelledBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"ariaDescribedBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle?this.ariaDescriptionId:null},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"ariaErrormessage",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"a11y_input_ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"a11y_input_ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"a11y_input_ariaInvalid",{get:function(){return this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"a11y_input_ariaLabel",{get:function(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"a11y_input_ariaLabelledBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"a11y_input_ariaDescribedBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaDescriptionId:null},enumerable:!1,configurable:!0}),Object.defineProperty(Question.prototype,"a11y_input_ariaErrormessage",{get:function(){return this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),Question.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},Question.questionCounter=100,question_decorate([jsonobject_property({defaultValue:!1})],Question.prototype,"_isMobile",void 0),question_decorate([jsonobject_property()],Question.prototype,"forceIsInputReadOnly",void 0),question_decorate([jsonobject_property()],Question.prototype,"ariaExpanded",void 0),question_decorate([jsonobject_property({localizable:!0,onSet:function(e,t){return t.calcRenderedCommentPlaceholder()}})],Question.prototype,"commentPlaceholder",void 0),question_decorate([jsonobject_property()],Question.prototype,"renderAs",void 0),question_decorate([jsonobject_property({defaultValue:!1})],Question.prototype,"inMatrixMode",void 0),Question}(t$);function makeNameValid(e){if(!e)return e;for(e=e.trim().replace(/[\{\}]+/g,"");e&&e[0]===t0.expressionDisableConversionChar;)e=e.substring(1);return e}eY.addClass("question",[{name:"!name",onSettingValue:function(e,t){return makeNameValid(t)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:function(){return t0.minWidth}},{name:"maxWidth",defaultFunc:function(){return t0.maxWidth}},{name:"colSpan:number",visible:!1,onSerializeValue:function(e){return e.getPropertyValue("colSpan")}},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(e){return!!e&&!!e.survey&&e.survey.gridLayoutEnabled}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(e){var t=e?e.survey:null;return!t||!t.pages||t.pages.length>1},choices:function(e){var t=e?e.survey:null;return t?t.pages.map(function(e){return{value:e.name,text:e.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(e,t){e&&t&&(t.placeholder=e.getDefaultTitle())}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(e){if(!e)return!0;if("hidden"===e.titleLocation)return!1;var t=e?e.parent:null;if(!(!t||"off"!==t.showQuestionNumbers))return!1;var o=e?e.survey:null;return!o||"off"!==o.showQuestionNumbers||!!t&&"onpanel"===t.showQuestionNumbers}},{name:"valueName",onSettingValue:function(e,t){return makeNameValid(t)}},"enableIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"errorLocation",default:"default",choices:["default","top","bottom"]},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(e){return e.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(e){return e.showCommentArea},serializationProperty:"locCommentText"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(e){return e.hasComment}}]),eY.addAlterNativeClassName("question","questionbase");var oM=(C=function(e,t){return(C=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),itemvalue_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},oV=function(e){function ItemValue(t,o,n){void 0===o&&(o=null),void 0===n&&(n="itemvalue");var r=e.call(this)||this;return r.typeName=n,r.ownerPropertyName="",r.locTextValue=new tZ(r,!0,"text"),r.locTextValue.onStrChanged=function(e,t){t==r.value&&(t=void 0),r.propertyValueChanged("text",e,t)},r.locTextValue.onGetTextCallback=function(e){return e||(eQ.isValueEmpty(r.value)?null:r.value.toString())},o&&(r.locText.text=o),t&&"object"==typeof t?r.setData(t,!0):r.setValue(t,!0),"itemvalue"!=r.getType()&&eF.createProperties(r),r.data=r,r.onCreating(),r}return oM(ItemValue,e),ItemValue.prototype.getMarkdownHtml=function(e,t){return this.locOwner?this.locOwner.getMarkdownHtml(e,t):void 0},ItemValue.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},ItemValue.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},ItemValue.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},Object.defineProperty(ItemValue,"Separator",{get:function(){return t0.itemValueSeparator},set:function(e){t0.itemValueSeparator=e},enumerable:!1,configurable:!0}),ItemValue.setData=function(e,t,o){e.length=0;for(var n=0;n<t.length;n++){var r=t[n],i=r&&"function"==typeof r.getType?r.getType():null!=o?o:"itemvalue",s=eY.createClass(i);s.setData(r),r.originalItem&&(s.originalItem=r.originalItem),e.push(s)}},ItemValue.getData=function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].getData());return t},ItemValue.getItemByValue=function(e,t){if(!Array.isArray(e))return null;for(var o=eQ.isValueEmpty(t),n=0;n<e.length;n++)if(o&&eQ.isValueEmpty(e[n].value)||eQ.isTwoValueEquals(e[n].value,t,!1,!0,!1))return e[n];return null},ItemValue.getTextOrHtmlByValue=function(e,t){var o=ItemValue.getItemByValue(e,t);return null!==o?o.locText.textOrHtml:""},ItemValue.locStrsChanged=function(e){for(var t=0;t<e.length;t++)e[t].locStrsChanged()},ItemValue.runConditionsForItems=function(e,t,o,n,r,i,s){return void 0===i&&(i=!0),ItemValue.runConditionsForItemsCore(e,t,o,n,r,!0,i,s)},ItemValue.runEnabledConditionsForItems=function(e,t,o,n,r){return ItemValue.runConditionsForItemsCore(e,null,t,o,n,!1,!0,r)},ItemValue.runConditionsForItemsCore=function(e,t,o,n,r,i,s,a){void 0===s&&(s=!0),n||(n={});for(var l=n.item,u=n.choice,c=!1,p=0;p<e.length;p++){var d=e[p];n.item=d.value,n.choice=d.value;var h=!!s&&!!d.getConditionRunner&&d.getConditionRunner(i);h||(h=o);var g=!0;h&&(g=h.run(n,r)),a&&(g=a(d,g)),t&&g&&t.push(d),g!=(i?d.isVisible:d.isEnabled)&&(c=!0,i?d.setIsVisible&&d.setIsVisible(g):d.setIsEnabled&&d.setIsEnabled(g))}return l?n.item=l:delete n.item,u?n.choice=u:delete n.choice,c},ItemValue.prototype.onCreating=function(){},ItemValue.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},ItemValue.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},ItemValue.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(ItemValue.prototype,"isInternal",{get:function(){return!0===this.isGhost},enumerable:!1,configurable:!0}),Object.defineProperty(ItemValue.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),ItemValue.prototype.setLocText=function(e){this.locTextValue=e},Object.defineProperty(ItemValue.prototype,"locOwner",{get:function(){return this._locOwner},set:function(e){this._locOwner=e},enumerable:!1,configurable:!0}),Object.defineProperty(ItemValue.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(e){this.setValue(e,!1)},enumerable:!1,configurable:!0}),ItemValue.prototype.setValue=function(e,t){var o=void 0;if(!eQ.isValueEmpty(e)){var n=e.toString(),r=n.indexOf(t0.itemValueSeparator);r>-1&&(e=n.slice(0,r),o=n.slice(r+1))}t?this.setPropertyValueDirectly("value",e):this.setPropertyValue("value",e),o&&(this.text=o),this.id=this.value},Object.defineProperty(ItemValue.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(ItemValue.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(e){this.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(ItemValue.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(e){this.locText.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(ItemValue.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(ItemValue.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),ItemValue.prototype.canSerializeValue=function(){var e=this.value;return null!=e&&!Array.isArray(e)&&"object"!=typeof e},ItemValue.prototype.getData=function(){var e=this.toJSON();if(e.value&&e.value.pos&&delete e.value.pos,eQ.isValueEmpty(e.value))return e;var t=this.canSerializeValue();return t&&(t0.serialization.itemValueSerializeAsObject||t0.serialization.itemValueSerializeDisplayText)||1!=Object.keys(e).length?(t0.serialization.itemValueSerializeDisplayText&&void 0===e.text&&t&&(e.text=this.value.toString()),e):this.value},ItemValue.prototype.toJSON=function(){var e={},t=eY.getProperties(this.getType());t&&0!=t.length||(t=eY.getProperties("itemvalue"));for(var o=new eK,n=0;n<t.length;n++){var r=t[n];"text"===r.name&&!this.locText.hasNonDefaultText()&&eQ.isTwoValueEquals(this.value,this.text,!1,!0,!1)||o.valueToJson(this,e,r)}return e},ItemValue.prototype.setData=function(e,t){if(!eQ.isValueEmpty(e)){if(void 0===e.value&&void 0!==e.text&&1===Object.keys(e).length&&(e.value=e.text),void 0!==e.value){var o=void 0;o="function"==typeof e.toJSON?e.toJSON():e,new eK().toObject(o,this)}else this.setValue(e,t);t||this.locText.strChanged()}},Object.defineProperty(ItemValue.prototype,"visibleIf",{get:function(){return this.getPropertyValueWithoutDefault("visibleIf")||""},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(ItemValue.prototype,"enableIf",{get:function(){return this.getPropertyValueWithoutDefault("enableIf")||""},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(ItemValue.prototype,"isVisible",{get:function(){var e=this.getPropertyValueWithoutDefault("isVisible");return void 0===e||e},enumerable:!1,configurable:!0}),ItemValue.prototype.setIsVisible=function(e){this.setPropertyValue("isVisible",e)},Object.defineProperty(ItemValue.prototype,"isEnabled",{get:function(){var e=this.getPropertyValueWithoutDefault("isEnabled");return void 0===e||e},enumerable:!1,configurable:!0}),ItemValue.prototype.setIsEnabled=function(e){this.setPropertyValue("isEnabled",e)},ItemValue.prototype.addUsedLocales=function(e){this.AddLocStringToUsedLocales(this.locTextValue,e)},ItemValue.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.locText.strChanged()},ItemValue.prototype.onPropertyValueChanged=function(e,t,o){"value"!==e||this.hasText||this.locText.strChanged();var n="itemValuePropertyChanged";this.locOwner&&this.locOwner[n]&&this.locOwner[n](this,e,t,o)},ItemValue.prototype.getConditionRunner=function(e){return e?this.getVisibleConditionRunner():this.getEnableConditionRunner()},ItemValue.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new tc(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},ItemValue.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new tc(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(ItemValue.prototype,"selected",{get:function(){var e=this,t=this._locOwner;return t instanceof ox&&t.isItemSelected&&void 0===this.selectedValue&&(this.selectedValue=new tf(function(){return t.isItemSelected(e)})),this.selectedValue},enumerable:!1,configurable:!0}),ItemValue.prototype.getComponent=function(){return this._locOwner instanceof ox?this.componentValue||this._locOwner.itemComponent:this.componentValue},ItemValue.prototype.setComponent=function(e){this.componentValue=e},ItemValue.prototype.setRootElement=function(e){this._htmlElement=e},ItemValue.prototype.getRootElement=function(){return this._htmlElement},ItemValue.prototype.getEnabled=function(){return this.isEnabled},ItemValue.prototype.setEnabled=function(e){this.setIsEnabled(e)},ItemValue.prototype.getVisible=function(){var e=void 0===this.isVisible||this.isVisible,t=void 0===this._visible||this._visible;return e&&t},ItemValue.prototype.setVisible=function(e){this.visible!==e&&(this._visible=e)},ItemValue.prototype.getLocTitle=function(){return this.locText},ItemValue.prototype.getTitle=function(){return this.text},ItemValue.prototype.setLocTitle=function(e){},ItemValue.prototype.setTitle=function(e){},itemvalue_decorate([jsonobject_property({defaultValue:!0})],ItemValue.prototype,"_visible",void 0),itemvalue_decorate([jsonobject_property()],ItemValue.prototype,"selectedValue",void 0),itemvalue_decorate([jsonobject_property()],ItemValue.prototype,"icon",void 0),ItemValue}(tD);ty.createItemValue=function(e,t){var o=null;return(o=t?eK.metaData.createClass(t,{}):"function"==typeof e.getType?new oV(null,void 0,e.getType()):new oV(null)).setData(e),o},ty.itemValueLocStrChanged=function(e){oV.locStrsChanged(e)},eB.getItemValuesDefaultValue=function(e,t){var o=[];return oV.setData(o,Array.isArray(e)?e:[],t),o},eY.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(e){return!e||"rateValues"!==e.ownerPropertyName}}],function(e){return new oV(e)});var oS=(w=function(e,t){return(w=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o_=function(e){function CalculatedValue(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this)||this;return n.expressionIsRunning=!1,n.isCalculated=!1,t&&(n.name=t),o&&(n.expression=o),n}return oS(CalculatedValue,e),CalculatedValue.prototype.setOwner=function(e){this.data=e,this.rerunExpression()},CalculatedValue.prototype.getType=function(){return"calculatedvalue"},CalculatedValue.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(CalculatedValue.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(CalculatedValue.prototype,"name",{get:function(){return this.getPropertyValue("name")||""},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(CalculatedValue.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult")},set:function(e){this.setPropertyValue("includeIntoResult",e)},enumerable:!1,configurable:!0}),Object.defineProperty(CalculatedValue.prototype,"expression",{get:function(){return this.getPropertyValue("expression")||""},set:function(e){this.setPropertyValue("expression",e),this.rerunExpression()},enumerable:!1,configurable:!0}),CalculatedValue.prototype.locCalculation=function(){this.expressionIsRunning=!0},CalculatedValue.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},CalculatedValue.prototype.resetCalculation=function(){this.isCalculated=!1},CalculatedValue.prototype.doCalculation=function(e,t,o){this.isCalculated||(this.runExpressionCore(e,t,o),this.isCalculated=!0)},CalculatedValue.prototype.runExpression=function(e,t){this.runExpressionCore(null,e,t)},Object.defineProperty(CalculatedValue.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),CalculatedValue.prototype.setValue=function(e){this.data&&this.data.setVariable(this.name,e)},Object.defineProperty(CalculatedValue.prototype,"canRunExpression",{get:function(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name},enumerable:!1,configurable:!0}),CalculatedValue.prototype.rerunExpression=function(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},CalculatedValue.prototype.runExpressionCore=function(e,t,o){this.canRunExpression&&(this.ensureExpression(t),this.locCalculation(),e&&this.runDependentExpressions(e,t,o),this.expressionRunner.run(t,o))},CalculatedValue.prototype.runDependentExpressions=function(e,t,o){var n=this.expressionRunner.getVariables();if(n)for(var r=0;r<e.length;r++){var i=e[r];i===this||0>n.indexOf(i.name)||(i.doCalculation(e,t,o),t[i.name]=i.value)}},CalculatedValue.prototype.ensureExpression=function(e){var t=this;this.expressionRunner||(this.expressionRunner=new tp(this.expression),this.expressionRunner.onRunComplete=function(e){eQ.isTwoValueEquals(e,t.value,!1,!0,!1)||t.setValue(e),t.unlocCalculation()})},CalculatedValue}(ty);eY.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new o_},"base");var oT=(P=function(e,t){return(P=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),oR=function(e){function ExpressionItem(t){void 0===t&&(t=null);var o=e.call(this)||this;return o.expression=t,o}return oT(ExpressionItem,e),ExpressionItem.prototype.getType=function(){return"expressionitem"},ExpressionItem.prototype.runCondition=function(e,t){return!!this.expression&&new tc(this.expression).run(e,t)},Object.defineProperty(ExpressionItem.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(ExpressionItem.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),ExpressionItem.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},ExpressionItem.prototype.getMarkdownHtml=function(e,t){return this.locOwner?this.locOwner.getMarkdownHtml(e,t):void 0},ExpressionItem.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},ExpressionItem.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},ExpressionItem.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},ExpressionItem.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.locOwner},ExpressionItem}(ty),oO=function(e){function HtmlConditionItem(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this,t)||this;return n.createLocalizableString("html",n),n.html=o,n}return oT(HtmlConditionItem,e),HtmlConditionItem.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(HtmlConditionItem.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(HtmlConditionItem.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),HtmlConditionItem}(oR),oI=function(e){function UrlConditionItem(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this,t)||this;return n.createLocalizableString("url",n),n.url=o,n}return oT(UrlConditionItem,e),UrlConditionItem.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(UrlConditionItem.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(e){this.setLocalizableStringText("url",e)},enumerable:!1,configurable:!0}),Object.defineProperty(UrlConditionItem.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),UrlConditionItem}(oR);eY.addClass("expressionitem",["expression:condition"],function(){return new oR},"base"),eY.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new oO},"expressionitem"),eY.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new oI},"expressionitem");var oE=(x=function(e,t){return(x=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),oD=function(){function XmlParser(){this.parser=new DOMParser}return XmlParser.prototype.assignValue=function(e,t,o){Array.isArray(e[t])?e[t].push(o):void 0!==e[t]?e[t]=[e[t]].concat(o):"object"==typeof o&&1===Object.keys(o).length&&Object.keys(o)[0]===t?e[t]=o[t]:e[t]=o},XmlParser.prototype.xml2Json=function(e,t){if(e.children&&e.children.length>0)for(var o=0;o<e.children.length;o++){var n=e.children[o],r={};this.xml2Json(n,r),this.assignValue(t,n.nodeName,r)}else this.assignValue(t,e.nodeName,e.textContent)},XmlParser.prototype.parseXmlString=function(e){var t=this.parser.parseFromString(e,"text/xml"),o={};return this.xml2Json(t,o),o},XmlParser}(),oQ=function(e){function ChoicesRestful(){var t=e.call(this)||this;return t.lastObjHash="",t.isRunningValue=!1,t.processedUrl="",t.processedPath="",t.isUsingCacheFromUrl=void 0,t.error=null,t.createItemValue=function(e){return new oV(e)},t.registerPropertyChangedHandlers(["url"],function(){t.owner&&t.owner.setPropertyValue("isUsingRestful",!!t.url)}),t}return oE(ChoicesRestful,e),Object.defineProperty(ChoicesRestful,"EncodeParameters",{get:function(){return t0.web.encodeUrlParams},set:function(e){t0.web.encodeUrlParams=e},enumerable:!1,configurable:!0}),ChoicesRestful.clearCache=function(){ChoicesRestful.itemsResult={},ChoicesRestful.sendingSameRequests={}},ChoicesRestful.addSameRequest=function(e){if(!e.isUsingCache)return!1;var t=e.objHash,o=ChoicesRestful.sendingSameRequests[t];return o?(o.push(e),e.isRunningValue=!0,!0):(ChoicesRestful.sendingSameRequests[e.objHash]=[],!1)},ChoicesRestful.unregisterSameRequests=function(e,t){if(e.isUsingCache){var o=ChoicesRestful.sendingSameRequests[e.objHash];if(delete ChoicesRestful.sendingSameRequests[e.objHash],o)for(var n=0;n<o.length;n++)o[n].isRunningValue=!1,o[n].getResultCallback&&o[n].getResultCallback(t)}},Object.defineProperty(ChoicesRestful,"onBeforeSendRequest",{get:function(){return t0.web.onBeforeRequestChoices},set:function(e){t0.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),ChoicesRestful.getCachedItemsResult=function(e){var t=e.objHash,o=ChoicesRestful.itemsResult[t];return!!o&&(e.getResultCallback&&e.getResultCallback(o),!0)},ChoicesRestful.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.owner?this.owner.survey:null},ChoicesRestful.prototype.run=function(e){if(void 0===e&&(e=null),this.url&&this.getResultCallback){if(this.processedText(e),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(ChoicesRestful.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(ChoicesRestful.prototype,"isUsingCache",{get:function(){return!0===this.isUsingCacheFromUrl||!1!==this.isUsingCacheFromUrl&&t0.web.cacheLoadedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(ChoicesRestful.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),ChoicesRestful.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(ChoicesRestful.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),ChoicesRestful.prototype.useChangedItemsResults=function(){return ChoicesRestful.getCachedItemsResult(this)},ChoicesRestful.prototype.doEmptyResultCallback=function(e){var t=[];this.updateResultCallback&&(t=this.updateResultCallback(t,e)),this.getResultCallback(t)},ChoicesRestful.prototype.processedText=function(e){var t=this.url;if(t&&(t=t.replace(ChoicesRestful.cacheText,"").replace(ChoicesRestful.noCacheText,"")),e){var o=e.processTextEx({text:t,runAtDesign:!0}),n=e.processTextEx({text:this.path,runAtDesign:!0});o.hasAllValuesOnLastRun&&n.hasAllValuesOnLastRun?(this.processedUrl=o.text,this.processedPath=n.text):(this.processedUrl="",this.processedPath="")}else this.processedUrl=t,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},ChoicesRestful.prototype.parseResponse=function(e){var t;if(e&&"function"==typeof e.indexOf&&0===e.indexOf("<"))t=new oD().parseXmlString(e);else try{t=JSON.parse(e)}catch(o){t=(e||"").split("\n").map(function(e){return e.trim(" ")}).filter(function(e){return!!e})}return t},ChoicesRestful.prototype.sendRequest=function(){var e=new XMLHttpRequest;e.open("GET",this.processedUrl),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var t=this,o=this.objHash;e.onload=function(){t.beforeLoadRequest(),200===e.status?t.onLoad(t.parseResponse(e.response),o):t.onError(e.statusText,e.responseText)};var n={request:e};t0.web.onBeforeRequestChoices&&t0.web.onBeforeRequestChoices(this,n),this.beforeSendRequest(),n.request.send()},ChoicesRestful.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(ChoicesRestful.prototype,"isEmpty",{get:function(){return!this.url&&!this.path},enumerable:!1,configurable:!0}),ChoicesRestful.prototype.getCustomPropertiesNames=function(){for(var e=this.getCustomProperties(),t=[],o=0;o<e.length;o++)t.push(this.getCustomPropertyName(e[o].name));return t},ChoicesRestful.prototype.getCustomPropertyName=function(e){return e+"Name"},ChoicesRestful.prototype.getCustomProperties=function(){for(var e=eY.getProperties(this.itemValueType),t=[],o=0;o<e.length;o++)"value"!==e[o].name&&"text"!==e[o].name&&"visibleIf"!==e[o].name&&"enableIf"!==e[o].name&&t.push(e[o]);return t},ChoicesRestful.prototype.getAllPropertiesNames=function(){var e=[];return eY.getPropertiesByObj(this).forEach(function(t){return e.push(t.name)}),this.getCustomPropertiesNames().forEach(function(t){return e.push(t)}),e},ChoicesRestful.prototype.setData=function(e){var t=this;e||(e={}),this.getAllPropertiesNames().forEach(function(o){t[o]=e[o]})},ChoicesRestful.prototype.getData=function(){var e=this,t={},o=!1;return this.getAllPropertiesNames().forEach(function(n){var r=e[n];e.isValueEmpty(r)||r===e.getDefaultPropertyValue(n)||(t[n]=r,o=!0)}),o?t:null},Object.defineProperty(ChoicesRestful.prototype,"url",{get:function(){return this.getPropertyValue("url")||""},set:function(e){this.setPropertyValue("url",e),this.isUsingCacheFromUrl=void 0,e&&(e.indexOf(ChoicesRestful.cacheText)>-1?this.isUsingCacheFromUrl=!0:e.indexOf(ChoicesRestful.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(ChoicesRestful.prototype,"path",{get:function(){return this.getPropertyValue("path")||""},set:function(e){this.setPropertyValue("path",e)},enumerable:!1,configurable:!0}),Object.defineProperty(ChoicesRestful.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){this.setPropertyValue("valueName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(ChoicesRestful.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(e){this.setPropertyValue("titleName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(ChoicesRestful.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(e){this.setPropertyValue("imageLinkName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(ChoicesRestful.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(e){this.setPropertyValue("allowEmptyResponse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(ChoicesRestful.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(e){this.setPropertyValue("attachOriginalItems",e)},enumerable:!1,configurable:!0}),Object.defineProperty(ChoicesRestful.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var e=eY.findProperty(this.owner.getType(),"choices");return e&&"itemvalue[]"!=e.type?e.type:"itemvalue"},enumerable:!1,configurable:!0}),ChoicesRestful.prototype.clear=function(){this.setData(void 0)},ChoicesRestful.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},ChoicesRestful.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},ChoicesRestful.prototype.onLoad=function(e,t){void 0===t&&(t=null),t||(t=this.objHash);var o=[],n=this.getResultAfterPath(e);if(n&&n.length)for(var r=0;r<n.length;r++){var i=n[r];if(i){var s=this.getItemValueCallback?this.getItemValueCallback(i):this.getValue(i),a=this.createItemValue(s);this.setTitle(a,i),this.setCustomProperties(a,i),this.attachOriginalItems&&(a.originalItem=i);var l=this.getImageLink(i);l&&(a.imageLink=l),o.push(a)}}else this.allowEmptyResponse||(this.error=new ot(null,this.owner));this.updateResultCallback&&(o=this.updateResultCallback(o,e)),this.isUsingCache&&(ChoicesRestful.itemsResult[t]=o),this.callResultCallback(o,t),ChoicesRestful.unregisterSameRequests(this,o)},ChoicesRestful.prototype.callResultCallback=function(e,t){t==this.objHash&&this.getResultCallback(e)},ChoicesRestful.prototype.setCustomProperties=function(e,t){for(var o=this.getCustomProperties(),n=0;n<o.length;n++){var r=o[n],i=this.getValueCore(t,this.getPropertyBinding(r.name));this.isValueEmpty(i)||(e[r.name]=i)}},ChoicesRestful.prototype.getPropertyBinding=function(e){return this[this.getCustomPropertyName(e)]?this[this.getCustomPropertyName(e)]:this[e]?this[e]:e},ChoicesRestful.prototype.onError=function(e,t){this.error=new oe(e,t,this.owner),this.doEmptyResultCallback(t),ChoicesRestful.unregisterSameRequests(this,[])},ChoicesRestful.prototype.getResultAfterPath=function(e){if(!e||!this.processedPath)return e;for(var t=this.getPathes(),o=0;o<t.length;o++)if(!(e=e[t[o]]))return null;return e},ChoicesRestful.prototype.getPathes=function(){var e=[];return 0==(e=this.processedPath.indexOf(";")>-1?this.path.split(";"):this.processedPath.split(",")).length&&e.push(this.processedPath),e},ChoicesRestful.prototype.getValue=function(e){return e?this.valueName?this.getValueCore(e,this.valueName):e instanceof Object?Object.keys(e).length<1?null:e[Object.keys(e)[0]]:e:null},ChoicesRestful.prototype.setTitle=function(e,t){var o=this.titleName?this.titleName:"title",n=this.getValueCore(t,o);n&&("string"==typeof n?e.text=n:e.locText.setJson(n))},ChoicesRestful.prototype.getImageLink=function(e){var t=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(e,t)},ChoicesRestful.prototype.getValueCore=function(e,t){if(!e)return null;if(0>t.indexOf("."))return e[t];for(var o=t.split("."),n=0;n<o.length;n++)if(!(e=e[o[n]]))return null;return e},Object.defineProperty(ChoicesRestful.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),ChoicesRestful.cacheText="{CACHE}",ChoicesRestful.noCacheText="{NOCACHE}",ChoicesRestful.itemsResult={},ChoicesRestful.sendingSameRequests={},ChoicesRestful}(ty),oA=function(e){function ChoicesRestfull(){return null!==e&&e.apply(this,arguments)||this}return oE(ChoicesRestfull,e),Object.defineProperty(ChoicesRestfull,"EncodeParameters",{get:function(){return oQ.EncodeParameters},set:function(e){oQ.EncodeParameters=e},enumerable:!1,configurable:!0}),ChoicesRestfull.clearCache=function(){oQ.clearCache()},Object.defineProperty(ChoicesRestfull,"onBeforeSendRequest",{get:function(){return t0.web.onBeforeRequestChoices},set:function(e){t0.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),ChoicesRestfull}(oQ);eY.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(e){return!!e&&!!e.owner&&"imagepicker"==e.owner.getType()}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new oQ});var oL=(M=function(e,t){return(M=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),martixBase_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},ok=function(e){function QuestionMatrixBaseModel(t){var o=e.call(this,t)||this;return o.generatedVisibleRows=null,o.generatedTotalRow=null,o.filteredRows=null,o.columns=o.createColumnValues(),o.rows=o.createItemValues("rows"),o}return oL(QuestionMatrixBaseModel,e),QuestionMatrixBaseModel.prototype.createColumnValues=function(){return this.createItemValues("columns")},QuestionMatrixBaseModel.prototype.getType=function(){return"matrixbase"},QuestionMatrixBaseModel.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(QuestionMatrixBaseModel.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixBaseModel.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(e){this.setPropertyValue("showHeader",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixBaseModel.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(e){this.setPropertyValue("columns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixBaseModel.prototype,"visibleColumns",{get:function(){var e=this,t=[];return this.columns.forEach(function(o){e.isColumnVisible(o)&&t.push(o)}),t},enumerable:!1,configurable:!0}),QuestionMatrixBaseModel.prototype.isColumnVisible=function(e){return e.isVisible},Object.defineProperty(QuestionMatrixBaseModel.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){var t=this.processRowsOnSet(e);this.setPropertyValue("rows",t)},enumerable:!1,configurable:!0}),QuestionMatrixBaseModel.prototype.processRowsOnSet=function(e){return e},QuestionMatrixBaseModel.prototype.getVisibleRows=function(){return[]},Object.defineProperty(QuestionMatrixBaseModel.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixBaseModel.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(e){this.setPropertyValue("rowsVisibleIf",e),this.isLoadingFromJsonValue||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixBaseModel.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(e){this.setPropertyValue("columnsVisibleIf",e),this.isLoadingFromJson||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},enumerable:!1,configurable:!0}),QuestionMatrixBaseModel.prototype.runCondition=function(t,o){e.prototype.runCondition.call(this,t,o),this.runItemsCondition(t,o)},QuestionMatrixBaseModel.prototype.onColumnsChanged=function(){},QuestionMatrixBaseModel.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},QuestionMatrixBaseModel.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&this.onVisibleChanged()},QuestionMatrixBaseModel.prototype.isVisibleCore=function(){var t,o=e.prototype.isVisibleCore.call(this);return o&&this.hideIfRowsEmpty?(null===(t=this.visibleRows)||void 0===t?void 0:t.length)>0:o},QuestionMatrixBaseModel.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},QuestionMatrixBaseModel.prototype.hasRowsAsItems=function(){return!0},QuestionMatrixBaseModel.prototype.runItemsCondition=function(e,t){var o=this.hasRowsAsItems()&&this.runConditionsForRows(e,t),n=this.runConditionsForColumns(e,t);(o=n||o)&&(this.isClearValueOnHidden&&n&&this.clearInvisibleColumnValues(),this.clearGeneratedRows(),n&&this.onColumnsChanged(),this.onRowsChanged())},QuestionMatrixBaseModel.prototype.isRowsFiltered=function(){return!!this.filteredRows},QuestionMatrixBaseModel.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},QuestionMatrixBaseModel.prototype.createRowsVisibleIfRunner=function(){return null},QuestionMatrixBaseModel.prototype.runConditionsForRows=function(e,t){var o=!!this.survey&&this.survey.areInvisibleElementsShowing,n=o?null:this.createRowsVisibleIfRunner();this.filteredRows=[];var r=oV.runConditionsForItems(this.rows,this.filteredRows,n,e,t,!o);return oV.runEnabledConditionsForItems(this.rows,void 0,e,t),this.filteredRows.length===this.rows.length&&(this.filteredRows=null),r},QuestionMatrixBaseModel.prototype.runConditionsForColumns=function(e,t){var o=this.survey&&!this.survey.areInvisibleElementsShowing&&this.columnsVisibleIf?new tc(this.columnsVisibleIf):null;return oV.runConditionsForItems(this.columns,void 0,o,e,t,this.shouldRunColumnExpression())},QuestionMatrixBaseModel.prototype.clearInvisibleColumnValues=function(){},QuestionMatrixBaseModel.prototype.clearInvisibleValuesInRows=function(){},QuestionMatrixBaseModel.prototype.needResponsiveWidth=function(){return!0},Object.defineProperty(QuestionMatrixBaseModel.prototype,"columnsAutoWidth",{get:function(){return!this.isMobile&&!this.columns.some(function(e){return!!e.width})},enumerable:!1,configurable:!0}),QuestionMatrixBaseModel.prototype.getTableCss=function(){var e;return new tP().append(this.cssClasses.root).append(this.cssClasses.columnsAutoWidth,this.columnsAutoWidth).append(this.cssClasses.noHeader,!this.showHeader).append(this.cssClasses.hasFooter,!!(null===(e=this.renderedTable)||void 0===e?void 0:e.showAddRowOnBottom)).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,"top"===this.verticalAlign).append(this.cssClasses.rootVerticalAlignMiddle,"middle"===this.verticalAlign).toString()},Object.defineProperty(QuestionMatrixBaseModel.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth")||""},set:function(e){this.setPropertyValue("columnMinWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixBaseModel.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth")||""},set:function(e){this.setPropertyValue("rowTitleWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixBaseModel.prototype,"displayMode",{get:function(){return this.getPropertyValue("displayMode")},set:function(e){this.setPropertyValue("displayMode",e)},enumerable:!1,configurable:!0}),QuestionMatrixBaseModel.prototype.getCellAriaLabel=function(e,t){return(this.getLocalizationString("matrix_row")||"row").toLocaleLowerCase()+" "+e+", "+(this.getLocalizationString("matrix_column")||"column").toLocaleLowerCase()+" "+t},Object.defineProperty(QuestionMatrixBaseModel.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),QuestionMatrixBaseModel.prototype.getIsMobile=function(){return"auto"==this.displayMode?e.prototype.getIsMobile.call(this):"list"===this.displayMode},martixBase_decorate([jsonobject_property()],QuestionMatrixBaseModel.prototype,"verticalAlign",void 0),martixBase_decorate([jsonobject_property()],QuestionMatrixBaseModel.prototype,"alternateRows",void 0),QuestionMatrixBaseModel}(ox);eY.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1},{name:"displayMode",default:"auto",choices:["auto","table","list"],visible:!1}],void 0,"question");var TextPreProcessorItem=function(){},TextPreProcessorValue=function(e,t){this.name=e,this.returnDisplayValue=t,this.isExists=!1,this.canProcess=!0},oj=function(){function TextPreProcessor(){this._unObservableValues=[void 0]}return Object.defineProperty(TextPreProcessor.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(e){this._unObservableValues[0]=e},enumerable:!1,configurable:!0}),TextPreProcessor.prototype.process=function(e,t,o){if(void 0===t&&(t=!1),void 0===o&&(o=!1),this.hasAllValuesOnLastRunValue=!0,!e||!this.onProcess)return e;for(var n=this.getItems(e),r=n.length-1;r>=0;r--){var i=n[r],s=this.getName(e.substring(i.start+1,i.end));if(s){var a=new TextPreProcessorValue(s,t);if(this.onProcess(a),!a.isExists){a.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}eQ.isValueEmpty(a.value)&&(this.hasAllValuesOnLastRunValue=!1);var l=eQ.isValueEmpty(a.value)?"":a.value;o&&(l=encodeURIComponent(l)),e=e.substring(0,i.start)+l+e.substring(i.end+1)}}return e},TextPreProcessor.prototype.processValue=function(e,t){var o=new TextPreProcessorValue(e,t);return this.onProcess&&this.onProcess(o),o},Object.defineProperty(TextPreProcessor.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),TextPreProcessor.prototype.getItems=function(e){for(var t=[],o=e.length,n=-1,r="",i=0;i<o;i++)if("{"==(r=e[i])&&(n=i),"}"==r){if(n>-1){var s=new TextPreProcessorItem;s.start=n,s.end=i,t.push(s)}n=-1}return t},TextPreProcessor.prototype.getName=function(e){if(e)return e.trim()},TextPreProcessor}(),oB=function(){function QuestionTextProcessor(e){var t=this;this.variableName=e,this.textPreProcessor=new oj,this.textPreProcessor.onProcess=function(e){t.getProcessedTextValue(e)}}return QuestionTextProcessor.prototype.processValue=function(e,t){return this.textPreProcessor.processValue(e,t)},Object.defineProperty(QuestionTextProcessor.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextProcessor.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),QuestionTextProcessor.prototype.getValues=function(){return this.panel?this.panel.getValue():null},QuestionTextProcessor.prototype.getQuestionByName=function(e){return this.panel?this.panel.getQuestionByValueName(e):null},QuestionTextProcessor.prototype.getParentTextProcessor=function(){return null},QuestionTextProcessor.prototype.onCustomProcessText=function(e){return!1},QuestionTextProcessor.prototype.getQuestionDisplayText=function(e){return e.displayValue},QuestionTextProcessor.prototype.getProcessedTextValue=function(e){if(!(!e||this.onCustomProcessText(e))){var t=new e1().getFirstName(e.name);if(e.isExists=t==this.variableName,e.canProcess=e.isExists,e.canProcess){e.name=e.name.replace(this.variableName+".","");var t=new e1().getFirstName(e.name),o=this.getQuestionByName(t),n={};if(o)n[t]=e.returnDisplayValue?this.getQuestionDisplayText(o):o.value;else{var r=this.panel?this.getValues():null;r&&(n[t]=r[t])}e.value=new e1().getValue(e.name,n)}}},QuestionTextProcessor.prototype.processText=function(e,t){return this.survey&&this.survey.isDesignMode?e:(e=this.textPreProcessor.process(e,t),e=this.processTextCore(this.getParentTextProcessor(),e,t),this.processTextCore(this.survey,e,t))},QuestionTextProcessor.prototype.processTextEx=function(e){e.text=this.processText(e.text,e.returnDisplayValue);var t=this.textPreProcessor.hasAllValuesOnLastRun,o={hasAllValuesOnLastRun:!0,text:e.text};return this.survey&&(o=this.survey.processTextEx(e)),o.hasAllValuesOnLastRun=o.hasAllValuesOnLastRun&&t,o},QuestionTextProcessor.prototype.processTextCore=function(e,t,o){return e?e.processText(t,o):t},QuestionTextProcessor}(),oF=(V=function(e,t){return(V=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),oN=function(){function ComponentQuestionJSON(e,t){this.name=e,this.json=t;var o=this;eY.addClass(e,[],function(e){return oq.Instance.createQuestion(e?e.name:"",o)},"question"),this.onInit()}return ComponentQuestionJSON.prototype.onInit=function(){this.json.onInit&&this.json.onInit()},ComponentQuestionJSON.prototype.onCreated=function(e){this.json.onCreated&&this.json.onCreated(e)},ComponentQuestionJSON.prototype.onLoaded=function(e){this.json.onLoaded&&this.json.onLoaded(e)},ComponentQuestionJSON.prototype.onAfterRender=function(e,t){this.json.onAfterRender&&this.json.onAfterRender(e,t)},ComponentQuestionJSON.prototype.onAfterRenderContentElement=function(e,t,o){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(e,t,o)},ComponentQuestionJSON.prototype.onUpdateQuestionCssClasses=function(e,t,o){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(e,t,o)},ComponentQuestionJSON.prototype.onSetQuestionValue=function(e,t){this.json.onSetQuestionValue&&this.json.onSetQuestionValue(e,t),this.json.onValueSet&&this.json.onValueSet(e,t)},ComponentQuestionJSON.prototype.onPropertyChanged=function(e,t,o){this.json.onPropertyChanged&&this.json.onPropertyChanged(e,t,o)},ComponentQuestionJSON.prototype.onValueChanged=function(e,t,o){this.json.onValueChanged&&this.json.onValueChanged(e,t,o)},ComponentQuestionJSON.prototype.onValueChanging=function(e,t,o){return this.json.onValueChanging?this.json.onValueChanging(e,t,o):o},ComponentQuestionJSON.prototype.onGetErrorText=function(e){if(this.json.getErrorText)return this.json.getErrorText(e)},ComponentQuestionJSON.prototype.onItemValuePropertyChanged=function(e,t,o,n,r){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(e,{obj:t,propertyName:o,name:n,newValue:r})},ComponentQuestionJSON.prototype.getDisplayValue=function(e,t,o){return this.json.getDisplayValue?this.json.getDisplayValue(o):o.getDisplayValue(e,t)},Object.defineProperty(ComponentQuestionJSON.prototype,"defaultQuestionTitle",{get:function(){return this.json.defaultQuestionTitle},enumerable:!1,configurable:!0}),ComponentQuestionJSON.prototype.setValueToQuestion=function(e){var t=this.json.valueToQuestion||this.json.setValue;return t?t(e):e},ComponentQuestionJSON.prototype.getValueFromQuestion=function(e){var t=this.json.valueFromQuestion||this.json.getValue;return t?t(e):e},Object.defineProperty(ComponentQuestionJSON.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),ComponentQuestionJSON.prototype.getDynamicProperties=function(){return Array.isArray(this.dynamicProperties)||(this.dynamicProperties=this.calcDynamicProperties()),this.dynamicProperties},ComponentQuestionJSON.prototype.calcDynamicProperties=function(){var e=this.json.inheritBaseProps;if(!e||!this.json.questionJSON)return[];var t=this.json.questionJSON.type;if(!t)return[];if(Array.isArray(e)){var o=[];return e.forEach(function(e){var n=eY.findProperty(t,e);n&&o.push(n)}),o}var n=[];for(var r in this.json.questionJSON)n.push(r);return eY.getDynamicPropertiesByTypes(this.name,t,n)},ComponentQuestionJSON}(),oq=function(){function ComponentCollection(){this.customQuestionValues=[]}return ComponentCollection.prototype.add=function(e){if(e){var t=e.name;if(!t)throw"Attribute name is missed";if(t=t.toLowerCase(),this.getCustomQuestionByName(t))throw"There is already registered custom question with name '"+t+"'";if(eY.findClass(t))throw"There is already class with name '"+t+"'";var o=new oN(t,e);this.onAddingJson&&this.onAddingJson(t,o.isComposite),this.customQuestionValues.push(o)}},ComponentCollection.prototype.remove=function(e){if(!e)return!1;var t=this.getCustomQuestionIndex(e.toLowerCase());return!(t<0)&&(this.removeByIndex(t),!0)},Object.defineProperty(ComponentCollection.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),ComponentCollection.prototype.getCustomQuestionByName=function(e){var t=this.getCustomQuestionIndex(e);return t>=0?this.customQuestionValues[t]:void 0},ComponentCollection.prototype.getCustomQuestionIndex=function(e){for(var t=0;t<this.customQuestionValues.length;t++)if(this.customQuestionValues[t].name===e)return t;return -1},ComponentCollection.prototype.removeByIndex=function(e){eY.removeClass(this.customQuestionValues[e].name),this.customQuestionValues.splice(e,1)},ComponentCollection.prototype.clear=function(e){for(var t=this.customQuestionValues.length-1;t>=0;t--)(e||!this.customQuestionValues[t].json.internal)&&this.removeByIndex(t)},ComponentCollection.prototype.createQuestion=function(e,t){return t.isComposite?this.createCompositeModel(e,t):this.createCustomModel(e,t)},ComponentCollection.prototype.createCompositeModel=function(e,t){return this.onCreateComposite?this.onCreateComposite(e,t):new oW(e,t)},ComponentCollection.prototype.createCustomModel=function(e,t){return this.onCreateCustom?this.onCreateCustom(e,t):new oz(e,t)},ComponentCollection.Instance=new ComponentCollection,ComponentCollection}(),oH=function(e){function QuestionCustomModelBase(t,o){var n=e.call(this,t)||this;return n.customQuestion=o,eF.createProperties(n),t$.CreateDisabledDesignElements=!0,n.locQuestionTitle=n.createLocalizableString("questionTitle",n),n.locQuestionTitle.setJson(n.customQuestion.defaultQuestionTitle),n.createWrapper(),t$.CreateDisabledDesignElements=!1,n.customQuestion&&n.customQuestion.onCreated(n),n}return oF(QuestionCustomModelBase,e),QuestionCustomModelBase.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},QuestionCustomModelBase.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},QuestionCustomModelBase.prototype.localeChanged=function(){e.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().localeChanged()},QuestionCustomModelBase.prototype.getDefaultTitle=function(){return this.locQuestionTitle.isEmpty?e.prototype.getDefaultTitle.call(this):this.getProcessedText(this.locQuestionTitle.textOrHtml)},QuestionCustomModelBase.prototype.addUsedLocales=function(t){e.prototype.addUsedLocales.call(this,t),this.getElement()&&this.getElement().addUsedLocales(t)},QuestionCustomModelBase.prototype.needResponsiveWidth=function(){var e=this.getElement();return!!e&&e.needResponsiveWidth()},QuestionCustomModelBase.prototype.createWrapper=function(){},QuestionCustomModelBase.prototype.onPropertyValueChanged=function(t,o,n){e.prototype.onPropertyValueChanged.call(this,t,o,n),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,t,n)},QuestionCustomModelBase.prototype.itemValuePropertyChanged=function(t,o,n,r){e.prototype.itemValuePropertyChanged.call(this,t,o,n,r),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,t,t.ownerPropertyName,o,r)},QuestionCustomModelBase.prototype.onFirstRendering=function(){var t=this.getElement();t&&t.onFirstRendering(),e.prototype.onFirstRendering.call(this)},QuestionCustomModelBase.prototype.onHidingContent=function(){e.prototype.onHidingContent.call(this);var t=this.getElement();t&&t.onHidingContent()},QuestionCustomModelBase.prototype.getProgressInfo=function(){var t=e.prototype.getProgressInfo.call(this);return this.getElement()&&(t=this.getElement().getProgressInfo()),this.isRequired&&0==t.requiredQuestionCount&&(t.requiredQuestionCount=1,this.isEmpty()||(t.answeredQuestionCount=1)),t},QuestionCustomModelBase.prototype.initElement=function(e){e&&(e.setSurveyImpl(this),e.disableDesignActions=!0)},QuestionCustomModelBase.prototype.setSurveyImpl=function(t,o){this.isSettingValOnLoading=!0,e.prototype.setSurveyImpl.call(this,t,o),this.initElement(this.getElement()),this.isSettingValOnLoading=!1},QuestionCustomModelBase.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},QuestionCustomModelBase.prototype.afterRenderQuestionElement=function(e){},QuestionCustomModelBase.prototype.afterRenderCore=function(t){e.prototype.afterRenderCore.call(this,t),this.customQuestion&&this.customQuestion.onAfterRender(this,t)},QuestionCustomModelBase.prototype.onUpdateQuestionCssClasses=function(e,t){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,e,t)},QuestionCustomModelBase.prototype.setQuestionValue=function(t,o){void 0===o&&(o=!0),e.prototype.setQuestionValue.call(this,t,o),this.updateElementCss(),this.customQuestion&&this.customQuestion.onSetQuestionValue(this,t)},QuestionCustomModelBase.prototype.setNewValue=function(t){e.prototype.setNewValue.call(this,t),this.updateElementCss()},QuestionCustomModelBase.prototype.onCheckForErrors=function(t,o,n){if(e.prototype.onCheckForErrors.call(this,t,o,n),this.customQuestion){var r=this.customQuestion.onGetErrorText(this);r&&t.push(new ol(r,this))}},QuestionCustomModelBase.prototype.getSurveyData=function(){return this},QuestionCustomModelBase.prototype.getTextProcessor=function(){return this.textProcessor},QuestionCustomModelBase.prototype.getValue=function(e){return this.value},QuestionCustomModelBase.prototype.setValue=function(e,t,o,n){if(this.data){this.customQuestion&&this.customQuestion.onValueChanged(this,e,t);var r=this.convertDataName(e),i=this.convertDataValue(e,t);this.valueToDataCallback&&(i=this.valueToDataCallback(i)),this.data.setValue(r,i,o,n),this.updateIsAnswered(),this.updateElementCss()}},QuestionCustomModelBase.prototype.getQuestionByName=function(e){},QuestionCustomModelBase.prototype.isValueChanging=function(e,t){if(this.customQuestion){var o=t;if(t=this.customQuestion.onValueChanging(this,e,t),!eQ.isTwoValueEquals(t,o)){var n=this.getQuestionByName(e);if(n)return n.value=t,!0}}return!1},QuestionCustomModelBase.prototype.convertDataName=function(e){return this.getValueName()},QuestionCustomModelBase.prototype.convertDataValue=function(e,t){return t},QuestionCustomModelBase.prototype.getVariable=function(e){return this.data?this.data.getVariable(e):null},QuestionCustomModelBase.prototype.setVariable=function(e,t){this.data&&this.data.setVariable(e,t)},QuestionCustomModelBase.prototype.getComment=function(e){return this.data?this.data.getComment(this.getValueName()):""},QuestionCustomModelBase.prototype.setComment=function(e,t,o){this.data&&this.data.setComment(this.getValueName(),t,o)},QuestionCustomModelBase.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},QuestionCustomModelBase.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},QuestionCustomModelBase.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},QuestionCustomModelBase.prototype.findQuestionByName=function(e){return this.data?this.data.findQuestionByName(e):null},QuestionCustomModelBase.prototype.getEditingSurveyElement=function(){},QuestionCustomModelBase.prototype.addElement=function(e,t){},QuestionCustomModelBase.prototype.removeElement=function(e){return!1},QuestionCustomModelBase.prototype.getQuestionTitleLocation=function(){return"left"},QuestionCustomModelBase.prototype.getQuestionTitleWidth=function(){},QuestionCustomModelBase.prototype.getColumsForElement=function(e){return[]},QuestionCustomModelBase.prototype.updateColumns=function(){},QuestionCustomModelBase.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},QuestionCustomModelBase.prototype.getChildrenLayoutType=function(){return"row"},QuestionCustomModelBase.prototype.elementWidthChanged=function(e){},Object.defineProperty(QuestionCustomModelBase.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),QuestionCustomModelBase.prototype.indexOf=function(e){return -1},QuestionCustomModelBase.prototype.ensureRowsVisibility=function(){},QuestionCustomModelBase.prototype.validateContainerOnly=function(){},QuestionCustomModelBase.prototype.onQuestionValueChanged=function(e){},QuestionCustomModelBase.prototype.getQuestionErrorLocation=function(){return this.getErrorLocation()},QuestionCustomModelBase.prototype.getContentDisplayValueCore=function(t,o,n){return n?this.customQuestion.getDisplayValue(t,o,n):e.prototype.getDisplayValueCore.call(this,t,o)},QuestionCustomModelBase}(ox),oz=function(e){function QuestionCustomModel(){return null!==e&&e.apply(this,arguments)||this}return oF(QuestionCustomModel,e),QuestionCustomModel.prototype.getTemplate=function(){return"custom"},QuestionCustomModel.prototype.getDynamicProperties=function(){return this.customQuestion.getDynamicProperties()||[]},QuestionCustomModel.prototype.getDynamicType=function(){return this.questionWrapper?this.questionWrapper.getType():"question"},QuestionCustomModel.prototype.getOriginalObj=function(){return this.questionWrapper},QuestionCustomModel.prototype.createWrapper=function(){var e=this;this.questionWrapper=this.createQuestion(),this.createDynamicProperties(this.questionWrapper),this.getDynamicProperties().length>0&&(this.questionWrapper.onPropertyValueChangedCallback=function(t,o,n,r,i){e.getDynamicProperty(t)&&e.propertyValueChanged(t,o,n,i)})},QuestionCustomModel.prototype.getDynamicProperty=function(e){for(var t=this.getDynamicProperties(),o=0;o<t.length;o++)if(t[o].name===e)return t[o];return null},QuestionCustomModel.prototype.getElement=function(){return this.contentQuestion},QuestionCustomModel.prototype.onAnyValueChanged=function(t,o){e.prototype.onAnyValueChanged.call(this,t,o),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(t,o)},QuestionCustomModel.prototype.getQuestionByName=function(e){return this.contentQuestion},QuestionCustomModel.prototype.getDefaultTitle=function(){return this.hasJSONTitle&&this.contentQuestion?this.getProcessedText(this.contentQuestion.title):e.prototype.getDefaultTitle.call(this)},QuestionCustomModel.prototype.setValue=function(t,o,n,r){this.isValueChanging(t,o)||e.prototype.setValue.call(this,t,o,n,r)},QuestionCustomModel.prototype.onSetData=function(){e.prototype.onSetData.call(this),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)},QuestionCustomModel.prototype.hasErrors=function(t,o){if(void 0===t&&(t=!0),void 0===o&&(o=null),!this.contentQuestion)return!1;var n=this.contentQuestion.hasErrors(t,o);this.errors=[];for(var r=0;r<this.contentQuestion.errors.length;r++)this.errors.push(this.contentQuestion.errors[r]);return n||(n=e.prototype.hasErrors.call(this,t,o)),this.updateElementCss(),n},QuestionCustomModel.prototype.focus=function(t){void 0===t&&(t=!1),this.contentQuestion?this.contentQuestion.focus(t):e.prototype.focus.call(this,t)},QuestionCustomModel.prototype.afterRenderCore=function(t){e.prototype.afterRenderCore.call(this,t),this.contentQuestion&&this.contentQuestion.afterRender(t)},Object.defineProperty(QuestionCustomModel.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),QuestionCustomModel.prototype.createQuestion=function(){var e=this,t=this.customQuestion.json,o=null;if(t.questionJSON){this.hasJSONTitle=!!t.questionJSON.title;var n=t.questionJSON.type;if(!n||!eY.findClass(n))throw"type attribute in questionJSON is empty or incorrect";(o=eY.createClass(n)).fromJSON(t.questionJSON),o=this.checkCreatedQuestion(o)}else t.createQuestion&&(o=this.checkCreatedQuestion(t.createQuestion()));return this.initElement(o),o&&(o.isContentElement=!0,o.name||(o.name="question"),o.onUpdateCssClassesCallback=function(t){e.onUpdateQuestionCssClasses(o,t)},o.hasCssErrorCallback=function(){return e.errors.length>0},o.setValueChangedDirectlyCallback=function(t){e.setValueChangedDirectly(t)}),o},QuestionCustomModel.prototype.checkCreatedQuestion=function(e){return e&&(e.isQuestion||(e=Array.isArray(e.questions)&&e.questions.length>0?e.questions[0]:eY.createClass("text"),e0.error("Could not create component: '"+this.getType()+"'. questionJSON should be a question."))),e},QuestionCustomModel.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())},QuestionCustomModel.prototype.runCondition=function(t,o){e.prototype.runCondition.call(this,t,o),this.contentQuestion&&this.contentQuestion.runCondition(t,o)},QuestionCustomModel.prototype.convertDataName=function(t){var o=this.contentQuestion;if(!o||t===this.getValueName())return e.prototype.convertDataName.call(this,t);var n=t.replace(o.getValueName(),this.getValueName());return 0==n.indexOf(this.getValueName())?n:e.prototype.convertDataName.call(this,t)},QuestionCustomModel.prototype.convertDataValue=function(t,o){return this.convertDataName(t)==e.prototype.convertDataName.call(this,t)?this.getContentQuestionValue():o},QuestionCustomModel.prototype.getContentQuestionValue=function(){if(this.contentQuestion){var e=this.contentQuestion.value;return this.customQuestion&&(e=this.customQuestion.getValueFromQuestion(e)),e}},QuestionCustomModel.prototype.setContentQuestionValue=function(e){this.contentQuestion&&(this.customQuestion&&(e=this.customQuestion.setValueToQuestion(e)),this.contentQuestion.value=e)},QuestionCustomModel.prototype.canSetValueToSurvey=function(){return!1},QuestionCustomModel.prototype.setQuestionValue=function(t,o){void 0===o&&(o=!0),e.prototype.setQuestionValue.call(this,t,o),this.isLoadingFromJson||!this.contentQuestion||this.isTwoValueEquals(this.getContentQuestionValue(),t)||this.setContentQuestionValue(this.getUnbindValue(t))},QuestionCustomModel.prototype.onSurveyValueChanged=function(t){e.prototype.onSurveyValueChanged.call(this,t),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(t)},QuestionCustomModel.prototype.getValueCore=function(){return this.contentQuestion?this.getContentQuestionValue():e.prototype.getValueCore.call(this)},QuestionCustomModel.prototype.setValueChangedDirectly=function(t){this.isSettingValueChanged||(this.isSettingValueChanged=!0,e.prototype.setValueChangedDirectly.call(this,t),this.contentQuestion&&this.contentQuestion.setValueChangedDirectly(t),this.isSettingValueChanged=!1)},QuestionCustomModel.prototype.createDynamicProperties=function(e){if(e){var t=this.getDynamicProperties();Array.isArray(t)&&eY.addDynamicPropertiesIntoObj(this,e,t)}},QuestionCustomModel.prototype.initElement=function(t){var o=this;e.prototype.initElement.call(this,t),t&&(t.parent=this,t.afterRenderQuestionCallback=function(e,t){o.customQuestion&&o.customQuestion.onAfterRenderContentElement(o,e,t)})},QuestionCustomModel.prototype.updateElementCss=function(t){this.contentQuestion&&this.questionWrapper.updateElementCss(t),e.prototype.updateElementCss.call(this,t)},QuestionCustomModel.prototype.updateElementCssCore=function(t){this.contentQuestion&&(t=this.contentQuestion.cssClasses),e.prototype.updateElementCssCore.call(this,t)},QuestionCustomModel.prototype.getDisplayValueCore=function(t,o){return e.prototype.getContentDisplayValueCore.call(this,t,o,this.contentQuestion)},QuestionCustomModel}(oH),oU=function(e){function QuestionCompositeTextProcessor(t,o){var n=e.call(this,o)||this;return n.composite=t,n.variableName=o,n}return oF(QuestionCompositeTextProcessor,e),Object.defineProperty(QuestionCompositeTextProcessor.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCompositeTextProcessor.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),QuestionCompositeTextProcessor}(oB),oW=function(e){function QuestionCompositeModel(t,o){var n=e.call(this,t,o)||this;return n.customQuestion=o,n.settingNewValue=!1,n.textProcessing=new oU(n,QuestionCompositeModel.ItemVariableName),n}return oF(QuestionCompositeModel,e),QuestionCompositeModel.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},QuestionCompositeModel.prototype.getTemplate=function(){return"composite"},QuestionCompositeModel.prototype.getElement=function(){return this.contentPanel},QuestionCompositeModel.prototype.getCssRoot=function(t){return new tP().append(e.prototype.getCssRoot.call(this,t)).append(t.composite).toString()},Object.defineProperty(QuestionCompositeModel.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),QuestionCompositeModel.prototype.hasErrors=function(t,o){void 0===t&&(t=!0),void 0===o&&(o=null);var n=e.prototype.hasErrors.call(this,t,o);return this.contentPanel&&this.contentPanel.hasErrors(t,!1,o)||n},QuestionCompositeModel.prototype.updateElementCss=function(t){e.prototype.updateElementCss.call(this,t),this.contentPanel&&this.contentPanel.updateElementCss(t)},QuestionCompositeModel.prototype.dispose=function(){this.unConnectEditingObj(),e.prototype.dispose.call(this)},QuestionCompositeModel.prototype.updateEditingObj=function(){var e,t=this,o=null===(e=this.data)||void 0===e?void 0:e.getEditingSurveyElement();if(o){var n=o[this.getValueName()];return n&&!n.onPropertyChanged&&(n=void 0),n!==this.editingObjValue&&(this.unConnectEditingObj(),this.editingObjValue=n,n&&(this.onEditingObjPropertyChanged=function(e,o){t.setNewValueIntoQuestion(o.name,t.editingObjValue[o.name])},n.onPropertyChanged.add(this.onEditingObjPropertyChanged))),this.editingObjValue}},QuestionCompositeModel.prototype.unConnectEditingObj=function(){this.editingObjValue&&!this.editingObjValue.isDisposed&&this.editingObjValue.onPropertyChanged.remove(this.onEditingObjPropertyChanged)},QuestionCompositeModel.prototype.getEditingSurveyElement=function(){return this.editingObjValue},QuestionCompositeModel.prototype.getTextProcessor=function(){return this.textProcessing},QuestionCompositeModel.prototype.findQuestionByName=function(t){return this.getQuestionByName(t)||e.prototype.findQuestionByName.call(this,t)},QuestionCompositeModel.prototype.clearValueIfInvisibleCore=function(t){e.prototype.clearValueIfInvisibleCore.call(this,t);for(var o=this.contentPanel.questions,n=0;n<o.length;n++)o[n].clearValueIfInvisible(t)},QuestionCompositeModel.prototype.onAnyValueChanged=function(t,o){e.prototype.onAnyValueChanged.call(this,t,o);for(var n=this.contentPanel.questions,r=0;r<n.length;r++)n[r].onAnyValueChanged(t,o)},Object.defineProperty(QuestionCompositeModel.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCompositeModel.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),QuestionCompositeModel.prototype.createPanel=function(){var e=this,t=eY.createClass("panel");t.showQuestionNumbers="off",t.renderWidth="100%";var o=this.customQuestion.json;return o.elementsJSON&&t.fromJSON({elements:o.elementsJSON}),o.createElements&&o.createElements(t,this),this.initElement(t),t.readOnly=this.isReadOnly,t.questions.forEach(function(t){return t.onUpdateCssClassesCallback=function(o){e.onUpdateQuestionCssClasses(t,o)}}),this.setAfterRenderCallbacks(t),t},QuestionCompositeModel.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),e.prototype.onReadOnlyChanged.call(this)},QuestionCompositeModel.prototype.updateValueFromSurvey=function(t,o){void 0===o&&(o=!1),this.updateEditingObj(),e.prototype.updateValueFromSurvey.call(this,t,o)},QuestionCompositeModel.prototype.onSurveyLoad=function(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),e.prototype.onSurveyLoad.call(this),this.contentPanel){var t=this.getContentPanelValue();eQ.isValueEmpty(t)||(this.value=t)}this.isSettingValOnLoading=!1},QuestionCompositeModel.prototype.setIsContentElement=function(e){e.isContentElement=!0;for(var t=e.elements,o=0;o<t.length;o++){var n=t[o];n.isPanel?this.setIsContentElement(n):n.isContentElement=!0}},QuestionCompositeModel.prototype.setVisibleIndex=function(t){var o=e.prototype.setVisibleIndex.call(this,t);return this.isVisible&&this.contentPanel&&(o+=this.contentPanel.setVisibleIndex(t)),o},QuestionCompositeModel.prototype.runCondition=function(t,o){if(e.prototype.runCondition.call(this,t,o),this.contentPanel){var n=t[QuestionCompositeModel.ItemVariableName];t[QuestionCompositeModel.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(t,o),delete t[QuestionCompositeModel.ItemVariableName],n&&(t[QuestionCompositeModel.ItemVariableName]=n)}},QuestionCompositeModel.prototype.onSurveyValueChanged=function(t){e.prototype.onSurveyValueChanged.call(this,t);var o=t||{};this.contentPanel&&this.contentPanel.questions.forEach(function(e){e.onSurveyValueChanged(o[e.getValueName()])})},QuestionCompositeModel.prototype.getValue=function(e){var t=this.value;return t?t[e]:null},QuestionCompositeModel.prototype.getQuestionByName=function(e){return this.contentPanel?this.contentPanel.getQuestionByName(e):void 0},QuestionCompositeModel.prototype.setValue=function(t,o,n,r){if(this.settingNewValue){this.setNewValueIntoQuestion(t,o);return}if(!this.isValueChanging(t,o)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel)for(var i=0,s=this.contentPanel.questions.length+1;i<s&&this.updateValueCoreWithPanelValue();)i++;this.setNewValueIntoQuestion(t,o),e.prototype.setValue.call(this,t,o,n,r),this.settingNewValue=!1,this.runPanelTriggers(QuestionCompositeModel.ItemVariableName+"."+t,o)}},QuestionCompositeModel.prototype.runPanelTriggers=function(e,t){this.contentPanel&&this.contentPanel.questions.forEach(function(o){o.runTriggers(e,t)})},QuestionCompositeModel.prototype.getFilteredValues=function(){var e=this.data?this.data.getFilteredValues():{};return this.contentPanel&&(e[QuestionCompositeModel.ItemVariableName]=this.contentPanel.getValue()),e},QuestionCompositeModel.prototype.updateValueCoreWithPanelValue=function(){var e=this.getContentPanelValue();return!this.isTwoValueEquals(this.getValueCore(),e)&&(this.setValueCore(e),!0)},QuestionCompositeModel.prototype.getContentPanelValue=function(e){return e||(e=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(e)},QuestionCompositeModel.prototype.getValueForContentPanel=function(e){return this.customQuestion.getValueFromQuestion(e)},QuestionCompositeModel.prototype.setNewValueIntoQuestion=function(e,t){var o=this.getQuestionByName(e);o&&!this.isTwoValueEquals(t,o.value)&&(o.value=t)},QuestionCompositeModel.prototype.addConditionObjectsByContext=function(e,t){if(this.contentPanel)for(var o=this.contentPanel.questions,n=this.name,r=this.title,i=0;i<o.length;i++)e.push({name:n+"."+o[i].name,text:r+"."+o[i].title,question:o[i]})},QuestionCompositeModel.prototype.collectNestedQuestionsCore=function(e,t){this.contentPanel&&this.contentPanel.questions.forEach(function(o){return o.collectNestedQuestions(e,t)})},QuestionCompositeModel.prototype.convertDataValue=function(e,t){var o=this.contentPanel&&!this.isEditingSurveyElement?this.contentPanel.getValue():this.getValueForContentPanel(this.value);return o||(o={}),o.getType||(o=eQ.getUnbindValue(o)),this.isValueEmpty(t)&&!this.isEditingSurveyElement?delete o[e]:o[e]=t,this.getContentPanelValue(o)},QuestionCompositeModel.prototype.setQuestionValue=function(t,o){void 0===o&&(o=!0),this.setValuesIntoQuestions(t),!this.isEditingSurveyElement&&this.contentPanel&&(t=this.getContentPanelValue()),e.prototype.setQuestionValue.call(this,t,o)},QuestionCompositeModel.prototype.setValuesIntoQuestions=function(e){if(this.contentPanel){e=this.getValueForContentPanel(e);var t=this.settingNewValue;this.settingNewValue=!0;for(var o=this.contentPanel.questions,n=0;n<o.length;n++){var r=o[n].getValueName(),i=e?e[r]:void 0,s=o[n];this.isTwoValueEquals(s.value,i)||void 0===i&&s.isEmpty()||(s.value=i)}this.settingNewValue=t}},QuestionCompositeModel.prototype.getDisplayValueCore=function(t,o){return e.prototype.getContentDisplayValueCore.call(this,t,o,this.contentPanel)},QuestionCompositeModel.prototype.setAfterRenderCallbacks=function(e){var t=this;if(e&&this.customQuestion)for(var o=e.questions,n=0;n<o.length;n++)o[n].afterRenderQuestionCallback=function(e,o){t.customQuestion.onAfterRenderContentElement(t,e,o)}},Object.defineProperty(QuestionCompositeModel.prototype,"ariaRole",{get:function(){return"group"},enumerable:!1,configurable:!0}),QuestionCompositeModel.ItemVariableName="composite",QuestionCompositeModel}(oH),oJ=function(){function QuestionFactory(){}return Object.defineProperty(QuestionFactory,"DefaultChoices",{get:function(){var e=getLocaleString("choices_Item");return[e+"1",e+"2",e+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFactory,"DefaultColums",{get:function(){var e=getLocaleString("matrix_column")+" ";return[e+"1",e+"2",e+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFactory,"DefaultRows",{get:function(){var e=getLocaleString("matrix_row")+" ";return[e+"1",e+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFactory,"DefaultMutlipleTextItems",{get:function(){var e=getLocaleString("multipletext_itemname");return[e+"1",e+"2"]},enumerable:!1,configurable:!0}),QuestionFactory.prototype.registerQuestion=function(e,t,o){void 0===o&&(o=!0),o$.Instance.registerElement(e,t,o)},QuestionFactory.prototype.registerCustomQuestion=function(e){o$.Instance.registerCustomQuestion(e)},QuestionFactory.prototype.unregisterElement=function(e,t){void 0===t&&(t=!1),o$.Instance.unregisterElement(e,t)},QuestionFactory.prototype.clear=function(){o$.Instance.clear()},QuestionFactory.prototype.getAllTypes=function(){return o$.Instance.getAllTypes()},QuestionFactory.prototype.createQuestion=function(e,t){return o$.Instance.createElement(e,t)},QuestionFactory.Instance=new QuestionFactory,QuestionFactory}(),o$=function(){function ElementFactory(){var e=this;this.creatorHash={},this.registerCustomQuestion=function(t,o){void 0===o&&(o=!0),e.registerElement(t,function(e){var o=eY.createClass(t);return o&&(o.name=e),o},o)}}return ElementFactory.prototype.registerElement=function(e,t,o){void 0===o&&(o=!0),this.creatorHash[e]={showInToolbox:o,creator:t}},ElementFactory.prototype.clear=function(){this.creatorHash={}},ElementFactory.prototype.unregisterElement=function(e,t){void 0===t&&(t=!1),delete this.creatorHash[e],t&&eY.removeClass(e)},ElementFactory.prototype.getAllToolboxTypes=function(){return this.getAllTypesCore(!0)},ElementFactory.prototype.getAllTypes=function(){return this.getAllTypesCore(!1)},ElementFactory.prototype.createElement=function(e,t){var o=this.creatorHash[e];if(o&&o.creator)return o.creator(t);var n=oq.Instance.getCustomQuestionByName(e);return n?oq.Instance.createQuestion(t,n):null},ElementFactory.prototype.getAllTypesCore=function(e){var t=[];for(var o in this.creatorHash)(!e||this.creatorHash[o].showInToolbox)&&t.push(o);return t.sort()},ElementFactory.Instance=new ElementFactory,ElementFactory}(),oG=(S=function(e,t){return(S=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),oZ=function(e){function QuestionExpressionModel(t){var o=e.call(this,t)||this;return o.createLocalizableString("format",o),o.registerPropertyChangedHandlers(["expression"],function(){o.expressionRunner&&(o.expressionRunner=o.createRunner())}),o.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){o.updateFormatedValue()}),o}return oG(QuestionExpressionModel,e),QuestionExpressionModel.prototype.getType=function(){return"expression"},Object.defineProperty(QuestionExpressionModel.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionExpressionModel.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(e){this.setLocalizableStringText("format",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionExpressionModel.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionExpressionModel.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),QuestionExpressionModel.prototype.locCalculation=function(){this.expressionIsRunning=!0},QuestionExpressionModel.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},QuestionExpressionModel.prototype.runCondition=function(t,o){e.prototype.runCondition.call(this,t,o),this.expression&&!this.expressionIsRunning&&(this.runIfReadOnly||!this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=this.createRunner()),this.expressionRunner.run(t,o))},QuestionExpressionModel.prototype.canCollectErrors=function(){return!0},QuestionExpressionModel.prototype.hasRequiredError=function(){return!1},QuestionExpressionModel.prototype.createRunner=function(){var e=this,t=this.createExpressionRunner(this.expression);return t.onRunComplete=function(t){e.value=e.roundValue(t),e.unlocCalculation()},t},Object.defineProperty(QuestionExpressionModel.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("maximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionExpressionModel.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("minimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionExpressionModel.prototype,"runIfReadOnly",{get:function(){return!0===this.runIfReadOnlyValue},set:function(e){this.runIfReadOnlyValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionExpressionModel.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),QuestionExpressionModel.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},QuestionExpressionModel.prototype.onValueChanged=function(){this.updateFormatedValue()},QuestionExpressionModel.prototype.updateValueFromSurvey=function(t,o){e.prototype.updateValueFromSurvey.call(this,t,o),this.updateFormatedValue()},QuestionExpressionModel.prototype.getDisplayValueCore=function(e,t){var o=null==t?this.defaultValue:t,n="";if(!this.isValueEmpty(o)){var r=this.getValueAsStr(o);n=this.format?this.format.format(r):r}return this.survey&&(n=this.survey.getExpressionDisplayValue(this,o,n)),n},Object.defineProperty(QuestionExpressionModel.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(e){this.setPropertyValue("displayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionExpressionModel.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(e){0>getCurrecyCodes().indexOf(e)||this.setPropertyValue("currency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionExpressionModel.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(e){this.setPropertyValue("useGrouping",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionExpressionModel.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(e){this.setPropertyValue("precision",e)},enumerable:!1,configurable:!0}),QuestionExpressionModel.prototype.roundValue=function(e){if(e!==1/0)return this.precision<0||!eQ.isNumber(e)?e:parseFloat(e.toFixed(this.precision))},QuestionExpressionModel.prototype.getValueAsStr=function(e){if("date"==this.displayStyle){var t=new Date(e);if(t&&t.toLocaleDateString)return t.toLocaleDateString()}if("none"!=this.displayStyle&&eQ.isNumber(e)){var o=this.getLocale();o||(o="en");var n={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(n.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(n.minimumFractionDigits=this.minimumFractionDigits),e.toLocaleString(o,n)}return e.toString()},QuestionExpressionModel}(ox);function getCurrecyCodes(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}eY.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return getCurrecyCodes()},default:"USD",visibleIf:function(e){return"currency"===e.displayStyle}},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new oZ("")},"question"),oJ.Instance.registerQuestion("expression",function(e){return new oZ(e)});var oK=(_=function(e,t){return(_=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function onUpdateSelectBaseCellQuestion(e,t,o,n){e.storeOthersAsComment=!!o&&o.storeOthersAsComment,(!e.choices||0==e.choices.length)&&e.choicesByUrl.isEmpty&&(e.choices=o.choices),e.choicesByUrl.isEmpty||e.choicesByUrl.run(n.getTextProcessor())}var oY={dropdown:{onCellQuestionUpdate:function(e,t,o,n){onUpdateSelectBaseCellQuestion(e,t,o,n),e.locPlaceholder&&e.locPlaceholder.isEmpty&&!o.locPlaceholder.isEmpty&&(e.optionsCaption=o.optionsCaption)}},checkbox:{onCellQuestionUpdate:function(e,t,o,n){onUpdateSelectBaseCellQuestion(e,t,o,n),e.colCount=t.colCount>-1?t.colCount:o.columnColCount}},radiogroup:{onCellQuestionUpdate:function(e,t,o,n){onUpdateSelectBaseCellQuestion(e,t,o,n),e.colCount=t.colCount>-1?t.colCount:o.columnColCount}},tagbox:{onCellQuestionUpdate:function(e,t,o,n){onUpdateSelectBaseCellQuestion(e,t,o,n)}},text:{},comment:{},boolean:{onCellQuestionUpdate:function(e,t,o,n){e.renderAs=t.renderAs}},expression:{},rating:{}},oX=function(e){function MatrixDropdownColumn(t,o,n){var r=e.call(this)||this;return r.indexValue=-1,r._hasVisibleCell=!0,r.isColumnsVisibleIf=!0,r.previousChoicesId=void 0,r.colOwnerValue=n,r.createLocalizableString("totalFormat",r),r.createLocalizableString("cellHint",r),r.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){r.doShowInMultipleColumnsChanged()}),r.registerPropertyChangedHandlers(["visible"],function(){r.doColumnVisibilityChanged()}),r.updateTemplateQuestion(void 0,t,o),r}return oK(MatrixDropdownColumn,e),MatrixDropdownColumn.getColumnTypes=function(){var e=[];for(var t in oY)e.push(t);return e},MatrixDropdownColumn.prototype.getOriginalObj=function(){return this.templateQuestion},MatrixDropdownColumn.prototype.getClassNameProperty=function(){return"cellType"},MatrixDropdownColumn.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.colOwner?this.colOwner.survey:null},MatrixDropdownColumn.prototype.endLoadingFromJson=function(){var t=this;e.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return t.getSurvey()}},MatrixDropdownColumn.prototype.getDynamicPropertyName=function(){return"cellType"},MatrixDropdownColumn.prototype.getDynamicType=function(){return"default"===this.cellType?"question":this.calcCellQuestionType(null)},Object.defineProperty(MatrixDropdownColumn.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(e){this.colOwnerValue=e,e&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),MatrixDropdownColumn.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},MatrixDropdownColumn.prototype.addUsedLocales=function(t){e.prototype.addUsedLocales.call(this,t),this.templateQuestion.addUsedLocales(t)},Object.defineProperty(MatrixDropdownColumn.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),MatrixDropdownColumn.prototype.setIndex=function(e){this.indexValue=e},MatrixDropdownColumn.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(MatrixDropdownColumn.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(e){e=e.toLocaleLowerCase(),this.updateTemplateQuestion(e),this.setPropertyValue("cellType",e),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"isColumnVisible",{get:function(){return!!this.isDesignMode||this.visible&&this.hasVisibleCell},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"visible",{get:function(){return this.templateQuestion.visible},set:function(e){this.templateQuestion.visible=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(e){this._hasVisibleCell=e},enumerable:!1,configurable:!0}),MatrixDropdownColumn.prototype.getVisibleMultipleChoices=function(){var e=this.templateQuestion.visibleChoices;if(!Array.isArray(e))return[];if(!Array.isArray(this._visiblechoices))return e;for(var t=[],o=0;o<e.length;o++){var n=e[o];this._visiblechoices.indexOf(n.value)>-1&&t.push(n)}return t},Object.defineProperty(MatrixDropdownColumn.prototype,"getVisibleChoicesInCell",{get:function(){if(Array.isArray(this._visiblechoices))return this._visiblechoices;var e=this.templateQuestion.visibleChoices;return Array.isArray(e)?e:[]},enumerable:!1,configurable:!0}),MatrixDropdownColumn.prototype.setVisibleChoicesInCell=function(e){this._visiblechoices=e},Object.defineProperty(MatrixDropdownColumn.prototype,"isFilteredMultipleColumns",{get:function(){if(!this.showInMultipleColumns)return!1;var e=this.templateQuestion.choices;if(!Array.isArray(e))return!1;for(var t=0;t<e.length;t++)if(e[t].visibleIf)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(e){this.templateQuestion.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(e){this.templateQuestion.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(e){this.templateQuestion.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(e){this.setPropertyValue("isRenderedRequired",e)},enumerable:!1,configurable:!0}),MatrixDropdownColumn.prototype.updateIsRenderedRequired=function(e){this.isRenderedRequired=e||this.isRequired},Object.defineProperty(MatrixDropdownColumn.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(e){this.templateQuestion.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(e){this.templateQuestion.readOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(e){this.templateQuestion.hasOther=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(e){this.templateQuestion.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(e){this.templateQuestion.enableIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(e){this.templateQuestion.requiredIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"resetValueIf",{get:function(){return this.templateQuestion.resetValueIf},set:function(e){this.templateQuestion.resetValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"defaultValueExpression",{get:function(){return this.templateQuestion.defaultValueExpression},set:function(e){this.templateQuestion.defaultValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"setValueIf",{get:function(){return this.templateQuestion.setValueIf},set:function(e){this.templateQuestion.setValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"setValueExpression",{get:function(){return this.templateQuestion.setValueExpression},set:function(e){this.templateQuestion.setValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(e){this.setPropertyValue("isUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns")},set:function(e){this.setPropertyValue("showInMultipleColumns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(e){this.templateQuestion.validators=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(e){this.setPropertyValue("totalType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(e){this.setPropertyValue("totalExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"hasTotal",{get:function(){return"none"!=this.totalType||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(e){this.setLocalizableStringText("totalFormat",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(e){this.setLocalizableStringText("cellHint",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(e){this.setPropertyValue("renderAs",e),this.templateQuestion&&(this.templateQuestion.renderAs=e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMaximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMinimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(e){this.setPropertyValue("totalDisplayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"totalAlignment",{get:function(){return this.getPropertyValue("totalAlignment")},set:function(e){this.setPropertyValue("totalAlignment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(e){0>getCurrecyCodes().indexOf(e)||this.setPropertyValue("totalCurrency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"width",{get:function(){return this.templateQuestion.width},set:function(e){this.templateQuestion.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownColumn.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<-1||e>4||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),MatrixDropdownColumn.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},MatrixDropdownColumn.prototype.getMarkdownHtml=function(e,t){return this.colOwner?this.colOwner.getMarkdownHtml(e,t):void 0},MatrixDropdownColumn.prototype.getRenderer=function(e){return this.colOwner?this.colOwner.getRenderer(e):null},MatrixDropdownColumn.prototype.getRendererContext=function(e){return this.colOwner?this.colOwner.getRendererContext(e):e},MatrixDropdownColumn.prototype.getProcessedText=function(e){return this.colOwner?this.colOwner.getProcessedText(e):e},MatrixDropdownColumn.prototype.createCellQuestion=function(e){var t=this.calcCellQuestionType(e),o=this.createNewQuestion(t);return this.callOnCellQuestionUpdate(o,e),o},MatrixDropdownColumn.prototype.startLoadingFromJson=function(t){e.prototype.startLoadingFromJson.call(this,t),t&&!t.cellType&&t.choices&&(t.cellType=this.colOwner.getCellType())},MatrixDropdownColumn.prototype.updateCellQuestion=function(e,t,o){void 0===o&&(o=null),this.setQuestionProperties(e,o)},MatrixDropdownColumn.prototype.callOnCellQuestionUpdate=function(e,t){var o=oY[e.getType()];o&&o.onCellQuestionUpdate&&o.onCellQuestionUpdate(e,this,this.colOwner,t)},MatrixDropdownColumn.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},MatrixDropdownColumn.prototype.calcCellQuestionType=function(e){var t=this.getDefaultCellQuestionType();return e&&this.colOwner&&(t=this.colOwner.getCustomCellType(this,e,t)),t},MatrixDropdownColumn.prototype.getDefaultCellQuestionType=function(e){return(e||(e=this.cellType),"default"!==e)?e:this.colOwner?this.colOwner.getCellType():t0.matrix.defaultCellType},MatrixDropdownColumn.prototype.updateTemplateQuestion=function(e,t,o){var n=this,r=this.getDefaultCellQuestionType(e),i=this.templateQuestion?this.templateQuestion.getType():"";r!==i&&(this.templateQuestion&&this.removeProperties(i),this.templateQuestionValue=this.createNewQuestion(r),this.templateQuestion.locOwner=this,this.addProperties(r),t&&(this.name=t),o?this.title=o:this.templateQuestion.locTitle.strChanged(),this.templateQuestion.onPropertyChanged.add(function(e,t){n.propertyValueChanged(t.name,t.oldValue,t.newValue,t.arrayChanges,t.target)}),this.templateQuestion.onItemValuePropertyChanged.add(function(e,t){n.doItemValuePropertyChanged(t.propertyName,t.obj,t.name,t.newValue,t.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return n.getSurvey()}),this.templateQuestion.locTitle.strChanged())},MatrixDropdownColumn.prototype.createNewQuestion=function(e){var t=eY.createClass(e);return t||(t=eY.createClass("text")),t.loadingOwner=this,t.isEditableTemplateElement=!0,t.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(t),this.setParentQuestionToTemplate(t),t},MatrixDropdownColumn.prototype.setParentQuestionToTemplate=function(e){this.colOwner&&this.colOwner.isQuestion&&e.setParentQuestion(this.colOwner)},MatrixDropdownColumn.prototype.setQuestionProperties=function(e,t){var o=this;if(void 0===t&&(t=null),this.templateQuestion){var n=new eK().toJsonObject(this.templateQuestion,!0);if(t&&t(n),n.type=e.getType(),"default"===this.cellType&&this.colOwner&&this.colOwner.hasChoices()&&delete n.choices,delete n.itemComponent,this.jsonObj&&"rating"===n.type&&Object.keys(this.jsonObj).forEach(function(e){n[e]=o.jsonObj[e]}),"random"===n.choicesOrder){n.choicesOrder="none";var r=this.templateQuestion.visibleChoices;Array.isArray(r)&&(n.choices=r)}new eK().toObject(n,e),e.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,e.loadedChoicesFromServerCallback=function(){if(o.isShowInMultipleColumns&&(!o.previousChoicesId||o.previousChoicesId===e.id)){o.previousChoicesId=e.id;var t=e.visibleChoices;o.templateQuestion.choices=t,o.propertyValueChanged("choices",t,t)}}}},MatrixDropdownColumn.prototype.propertyValueChanged=function(t,o,n,r,i){if(e.prototype.propertyValueChanged.call(this,t,o,n,r,i),"isRequired"===t&&this.updateIsRenderedRequired(n),this.colOwner&&!this.isLoadingFromJson){if(this.isShowInMultipleColumns){if("choicesOrder"===t)return;["visibleChoices","choices"].indexOf(t)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this)}eY.hasOriginalProperty(this,t)&&this.colOwner.onColumnPropertyChanged(this,t,n)}},MatrixDropdownColumn.prototype.doItemValuePropertyChanged=function(e,t,o,n,r){eY.hasOriginalProperty(t,o)&&null!=this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,e,t,o,n,r)},MatrixDropdownColumn.prototype.doShowInMultipleColumnsChanged=function(){null!=this.colOwner&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},MatrixDropdownColumn.prototype.doColumnVisibilityChanged=function(){null==this.colOwner||this.isDesignMode||this.colOwner.onColumnVisibilityChanged(this)},MatrixDropdownColumn.prototype.getProperties=function(e){return eY.getDynamicPropertiesByObj(this,e)},MatrixDropdownColumn.prototype.removeProperties=function(e){for(var t=this.getProperties(e),o=0;o<t.length;o++){var n=t[o];delete this[n.name],n.serializationProperty&&delete this[n.serializationProperty]}},MatrixDropdownColumn.prototype.addProperties=function(e){var t=this.getProperties(e);eY.addDynamicPropertiesIntoObj(this,this.templateQuestion,t)},MatrixDropdownColumn}(ty);eY.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(e,t){e&&t&&(t.placeholder=e.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var e=oX.getColumnTypes();return e.splice(0,0,"default"),e}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(e,t){e&&t&&(t.value=e.minWidth)}},"width",{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(e){return e.isSupportMultipleColumns}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",visibleIf:function(e){return!e.isShowInMultipleColumns},default:"none",choices:["none","sum","count","min","max","avg"]},{name:"totalExpression:expression",visibleIf:function(e){return!e.isShowInMultipleColumns}},{name:"totalFormat",serializationProperty:"locTotalFormat",visibleIf:function(e){return e.hasTotal}},{name:"totalDisplayStyle",visibleIf:function(e){return e.hasTotal},default:"none",choices:["none","decimal","currency","percent"]},{name:"totalAlignment",visibleIf:function(e){return e.hasTotal},default:"auto",choices:["auto","left","center","right"]},{name:"totalCurrency",visibleIf:function(e){return e.hasTotal},choices:function(){return getCurrecyCodes()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1,visibleIf:function(e){return e.hasTotal}},{name:"totalMinimumFractionDigits:number",default:-1,visibleIf:function(e){return e.hasTotal}},{name:"renderAs",default:"default",visible:!1}],function(){return new oX("")});var o1=(T=function(e,t){return(T=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_matrixdropdownrendered_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},question_matrixdropdownrendered_spreadArray=function(e,t){for(var o=0,n=t.length,r=e.length;o<n;o++,r++)e[r]=t[o];return e},o0=function(){function QuestionMatrixDropdownRenderedCell(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isErrorsCell=!1,this.isDragHandlerCell=!1,this.isDetailRowCell=!1,this.classNameValue="",this.idValue=QuestionMatrixDropdownRenderedCell.counter++}return Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"requiredText",{get:function(){return this.column&&this.column.isRenderedRequired?this.column.requiredText:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"hasQuestion",{get:function(){return!!this.question&&!this.isErrorsCell},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"item",{get:function(){return this.itemValue},set:function(e){this.itemValue=e,e&&(e.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"isFirstChoice",{get:function(){return 0===this.choiceIndex},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"className",{get:function(){var e=new tP().append(this.classNameValue);return this.hasQuestion&&e.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),e.toString()},set:function(e){this.classNameValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"cellQuestionWrapperClassName",{get:function(){return this.cell.getQuestionWrapperClassName(this.matrix.cssClasses.cellQuestionWrapper)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"isVisible",{get:function(){var e;return!this.hasQuestion&&!this.isErrorsCell||!(null===(e=this.matrix)||void 0===e?void 0:e.isMobile)||this.question.isVisible},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"showResponsiveTitle",{get:function(){var e;return this.hasQuestion&&(null===(e=this.matrix)||void 0===e?void 0:e.isMobile)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"responsiveTitleCss",{get:function(){return new tP().append(this.matrix.cssClasses.cellResponsiveTitle).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"responsiveLocTitle",{get:function(){return this.cell.column.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedCell.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(this.matrix.IsMultiplyColumn(this.cell.column))return this.item?this.item.locText.renderedHtml:"";var e=this.cell.column.cellHint;return e?""===e.trim()?"":this.cell.column.locCellHint.renderedHtml:this.hasQuestion&&this.question.isVisible&&this.question.title?this.question.title:this.cell.column.title}return this.hasQuestion&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),QuestionMatrixDropdownRenderedCell.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},QuestionMatrixDropdownRenderedCell.prototype.calculateFinalClassName=function(e){var t=this.cell.question.cssClasses,o=new tP().append(t.itemValue,!!t).append(t.asCell,!!t);return o.append(e.cell,o.isEmpty()&&!!e).append(e.choiceCell,this.isChoice).toString()},QuestionMatrixDropdownRenderedCell.prototype.focusIn=function(){this.question&&this.question.focusIn()},QuestionMatrixDropdownRenderedCell.counter=1,QuestionMatrixDropdownRenderedCell}(),o2=function(e){function QuestionMatrixDropdownRenderedRow(t,o){void 0===o&&(o=!1);var n=e.call(this)||this;return n.cssClasses=t,n.isDetailRow=o,n.hasEndActions=!1,n.isErrorsRow=!1,n.cells=[],n.idValue=QuestionMatrixDropdownRenderedRow.counter++,n}return o1(QuestionMatrixDropdownRenderedRow,e),Object.defineProperty(QuestionMatrixDropdownRenderedRow.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedRow.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedRow.prototype,"className",{get:function(){var e,t;return new tP().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.rowHasPanel,null===(e=this.row)||void 0===e?void 0:e.hasPanel).append(this.cssClasses.expandedRow,(null===(t=this.row)||void 0===t?void 0:t.isDetailPanelShowing)&&!this.isDetailRow).append(this.cssClasses.rowHasEndActions,this.hasEndActions).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),QuestionMatrixDropdownRenderedRow.prototype.setRootElement=function(e){this.rootElement=e},QuestionMatrixDropdownRenderedRow.prototype.getRootElement=function(){return this.rootElement},QuestionMatrixDropdownRenderedRow.prototype.focusCell=function(e){if(this.rootElement){var t=this.rootElement.querySelectorAll(":scope td:nth-of-type("+(e+1)+") input, :scope td:nth-of-type("+(e+1)+") button")[0];t&&t.focus()}},QuestionMatrixDropdownRenderedRow.counter=1,question_matrixdropdownrendered_decorate([jsonobject_property({defaultValue:!1})],QuestionMatrixDropdownRenderedRow.prototype,"isGhostRow",void 0),question_matrixdropdownrendered_decorate([jsonobject_property({defaultValue:!1})],QuestionMatrixDropdownRenderedRow.prototype,"isAdditionalClasses",void 0),question_matrixdropdownrendered_decorate([jsonobject_property({defaultValue:!0})],QuestionMatrixDropdownRenderedRow.prototype,"visible",void 0),QuestionMatrixDropdownRenderedRow}(ty),o5=function(e){function QuestionMatrixDropdownRenderedErrorRow(t){var o=e.call(this,t)||this;return o.isErrorsRow=!0,o}return o1(QuestionMatrixDropdownRenderedErrorRow,e),Object.defineProperty(QuestionMatrixDropdownRenderedErrorRow.prototype,"attributes",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedErrorRow.prototype,"className",{get:function(){return new tP().append(this.cssClasses.row).append(this.cssClasses.errorRow).toString()},enumerable:!1,configurable:!0}),QuestionMatrixDropdownRenderedErrorRow.prototype.onAfterCreated=function(){var e=this,callback=function(){e.visible=e.cells.some(function(e){return e.question&&e.question.hasVisibleErrors})};this.cells.forEach(function(e){e.question&&e.question.registerFunctionOnPropertyValueChanged("hasVisibleErrors",callback)}),callback()},QuestionMatrixDropdownRenderedErrorRow}(o2),o7=function(e){function QuestionMatrixDropdownRenderedTable(t){var o=e.call(this)||this;return o.matrix=t,o._renderedRows=[],o.renderedRowsAnimation=new tz(o.getRenderedRowsAnimationOptions(),function(e){o._renderedRows=e},function(){return o._renderedRows}),o.hasActionCellInRowsValues={},o.build(),o}return o1(QuestionMatrixDropdownRenderedTable,e),QuestionMatrixDropdownRenderedTable.prototype.getIsAnimationAllowed=function(){return e.prototype.getIsAnimationAllowed.call(this)&&this.matrix.animationAllowed},QuestionMatrixDropdownRenderedTable.prototype.getRenderedRowsAnimationOptions=function(){var e=this,onBeforeRunAnimation=function(e){e.querySelectorAll(":scope > td > *").forEach(function(e){prepareElementForVerticalAnimation(e)})},onAfterRunAnimation=function(e){e.querySelectorAll(":scope > td > *").forEach(function(e){cleanHtmlElementAfterAnimation(e)})};return{isAnimationEnabled:function(){return e.animationAllowed},getRerenderEvent:function(){return e.onElementRerendered},getAnimatedElement:function(e){return e.getRootElement()},getLeaveOptions:function(){return{cssClass:e.cssClasses.rowLeave,onBeforeRunAnimation:onBeforeRunAnimation,onAfterRunAnimation:onAfterRunAnimation}},getEnterOptions:function(t,o){return{cssClass:e.cssClasses.rowEnter,onBeforeRunAnimation:onBeforeRunAnimation,onAfterRunAnimation:onAfterRunAnimation}}}},QuestionMatrixDropdownRenderedTable.prototype.updateRenderedRows=function(){this.renderedRows=this.rows},Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"renderedRows",{get:function(){return this._renderedRows},set:function(e){this.renderedRowsAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"showAddRow",{get:function(){return this.getPropertyValue("showAddRow",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),QuestionMatrixDropdownRenderedTable.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"isRowsDragAndDrop",{get:function(){return this.matrix.isRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"showCellErrorsTop",{get:function(){return"top"===this.matrix.getErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"showCellErrorsBottom",{get:function(){return"bottom"===this.matrix.getErrorLocation()},enumerable:!1,configurable:!0}),QuestionMatrixDropdownRenderedTable.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.matrix.visibleRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},QuestionMatrixDropdownRenderedTable.prototype.updateShowTableAndAddRow=function(){var e=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",e);var t=this.matrix.canAddRow&&e,o=t,n=t;o&&(o="default"===this.matrix.getAddRowLocation()?!this.matrix.isColumnLayoutHorizontal:"bottom"!==this.matrix.getAddRowLocation()),n&&"topBottom"!==this.matrix.getAddRowLocation()&&(n=!o),this.setPropertyValue("showAddRow",this.matrix.canAddRow),this.setPropertyValue("showAddRowOnTop",o),this.setPropertyValue("showAddRowOnBottom",n)},QuestionMatrixDropdownRenderedTable.prototype.onAddedRow=function(e,t){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var o=this.getRenderedRowIndexByIndex(t);this.rowsActions.splice(t,0,this.buildRowActions(e)),this.addHorizontalRow(this.rows,e,o),this.updateShowTableAndAddRow()}},QuestionMatrixDropdownRenderedTable.prototype.getRenderedRowIndexByIndex=function(e){for(var t=0,o=0,n=0;n<this.rows.length;n++){if(o===e){(this.rows[n].isErrorsRow||this.rows[n].isDetailRow)&&t++;break}t++,!this.rows[n].isErrorsRow&&!this.rows[n].isDetailRow&&o++}return o<e?this.rows.length:t},QuestionMatrixDropdownRenderedTable.prototype.getRenderedDataRowCount=function(){for(var e=0,t=0;t<this.rows.length;t++)!this.rows[t].isErrorsRow&&!this.rows[t].isDetailRow&&e++;return e},QuestionMatrixDropdownRenderedTable.prototype.onRemovedRow=function(e){var t=this.getRenderedRowIndex(e);if(!(t<0)){this.rowsActions.splice(t,1);var o=1;t<this.rows.length-1&&this.showCellErrorsBottom&&this.rows[t+1].isErrorsRow&&o++,t<this.rows.length-1&&(this.rows[t+1].isDetailRow||this.showCellErrorsBottom&&t+1<this.rows.length-1&&this.rows[t+2].isDetailRow)&&o++,t>0&&this.showCellErrorsTop&&this.rows[t-1].isErrorsRow&&(t--,o++),this.rows.splice(t,o),this.updateShowTableAndAddRow()}},QuestionMatrixDropdownRenderedTable.prototype.onDetailPanelChangeVisibility=function(e,t){var o=this.getRenderedRowIndex(e);if(!(o<0)){var n=o;this.showCellErrorsBottom&&n++;var r=n<this.rows.length-1&&this.rows[n+1].isDetailRow?n+1:-1;if((!t||!(r>-1))&&(t||!(r<0))){if(t){var i=this.createDetailPanelRow(e,this.rows[o]);this.rows.splice(n+1,0,i)}else this.rows.splice(r,1)}}},QuestionMatrixDropdownRenderedTable.prototype.focusActionCell=function(e,t){var o=this.rows[this.rows.length-1];if(this.matrix.isColumnLayoutHorizontal){var n=this.getRenderedRowIndex(e);o=this.rows[n]}null==o||o.focusCell(t)},QuestionMatrixDropdownRenderedTable.prototype.getRenderedRowIndex=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].row==e)return t;return -1},QuestionMatrixDropdownRenderedTable.prototype.buildRowsActions=function(){this.rowsActions=[];for(var e=this.matrix.visibleRows,t=0;t<e.length;t++)this.rowsActions.push(this.buildRowActions(e[t]))},QuestionMatrixDropdownRenderedTable.prototype.createRenderedRow=function(e,t){return void 0===t&&(t=!1),new o2(e,t)},QuestionMatrixDropdownRenderedTable.prototype.createErrorRenderedRow=function(e){return new o5(e)},QuestionMatrixDropdownRenderedTable.prototype.buildHeader=function(){var e=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",e),e){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var t=0;t<this.matrix.columns.length;t++){var o=this.matrix.columns[t];o.isColumnVisible&&(this.matrix.IsMultiplyColumn(o)?this.createMutlipleColumnsHeader(o):this.headerRow.cells.push(this.createHeaderCell(o)))}else{for(var n=this.matrix.visibleRows,t=0;t<n.length;t++){var r=this.createTextCell(n[t].locText);this.setHeaderCellCssClasses(r),r.row=n[t],this.headerRow.cells.push(r)}if(this.matrix.hasFooter){var r=this.createTextCell(this.matrix.getFooterText());this.setHeaderCellCssClasses(r),this.headerRow.cells.push(r)}}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null,"action"))}},QuestionMatrixDropdownRenderedTable.prototype.buildFooter=function(){if(this.showFooter){if(this.footerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText){var e=this.createTextCell(this.matrix.getFooterText());e.className=new tP().append(e.className).append(this.cssClasses.footerTotalCell).toString(),this.footerRow.cells.push(e)}for(var t=this.matrix.visibleTotalRow.cells,o=0;o<t.length;o++){var n=t[o];if(n.column.isColumnVisible){if(this.matrix.IsMultiplyColumn(n.column))this.createMutlipleColumnsFooter(this.footerRow,n);else{var r=this.createEditCell(n);n.column&&this.setCellWidth(n.column,r),r.className=new tP().append(r.className).append(this.cssClasses.footerCell).toString(),this.footerRow.cells.push(r)}}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null,"action"))}},QuestionMatrixDropdownRenderedTable.prototype.buildRows=function(){this.blockAnimations();var e=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=e,this.releaseAnimations()},QuestionMatrixDropdownRenderedTable.prototype.hasActionCellInRows=function(e){return void 0===this.hasActionCellInRowsValues[e]&&(this.hasActionCellInRowsValues[e]=this.hasActionsCellInLocaltion(e)),this.hasActionCellInRowsValues[e]},QuestionMatrixDropdownRenderedTable.prototype.hasActionsCellInLocaltion=function(e){var t=this;return"end"==e&&!!this.hasRemoveRows||this.matrix.visibleRows.some(function(o,n){return!t.isValueEmpty(t.getRowActions(n,e))})},QuestionMatrixDropdownRenderedTable.prototype.canRemoveRow=function(e){return this.matrix.canRemoveRow(e)},QuestionMatrixDropdownRenderedTable.prototype.buildHorizontalRows=function(){for(var e=this.matrix.visibleRows,t=[],o=0;o<e.length;o++)this.addHorizontalRow(t,e[o]);return t},QuestionMatrixDropdownRenderedTable.prototype.addHorizontalRow=function(e,t,o){void 0===o&&(o=-1);var n=this.createHorizontalRow(t),r=this.createErrorRow(n);if(n.row=t,o<0&&(o=e.length),this.matrix.isMobile){for(var i=[],s=0;s<n.cells.length;s++)this.showCellErrorsTop&&!r.cells[s].isEmpty&&i.push(r.cells[s]),i.push(n.cells[s]),this.showCellErrorsBottom&&!r.cells[s].isEmpty&&i.push(r.cells[s]);n.cells=i,e.splice(o,0,n)}else e.splice.apply(e,question_matrixdropdownrendered_spreadArray([o,0],this.showCellErrorsTop?[r,n]:[n,r])),o++;t.isDetailPanelShowing&&e.splice(o+1,0,this.createDetailPanelRow(t,n))},QuestionMatrixDropdownRenderedTable.prototype.getRowDragCell=function(e){var t=new o0,o=this.matrix.lockedRowCount;return t.isDragHandlerCell=o<1||e>=o,t.isEmpty=!t.isDragHandlerCell,t.className=this.getActionsCellClassName(t),t.row=this.matrix.visibleRows[e],t},QuestionMatrixDropdownRenderedTable.prototype.getActionsCellClassName=function(e){var t=this;void 0===e&&(e=null);var o=new tP().append(this.cssClasses.actionsCell).append(this.cssClasses.actionsCellDrag,null==e?void 0:e.isDragHandlerCell).append(this.cssClasses.detailRowCell,null==e?void 0:e.isDetailRowCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal);if(e.isActionsCell){var n=e.item.value.actions;this.cssClasses.actionsCellPrefix&&n.forEach(function(e){o.append(t.cssClasses.actionsCellPrefix+"--"+e.id)})}return o.toString()},QuestionMatrixDropdownRenderedTable.prototype.getRowActionsCell=function(e,t,o){void 0===o&&(o=!1);var n=this.getRowActions(e,t);if(!this.isValueEmpty(n)){var r=new o0,i=this.matrix.allowAdaptiveActions?new tk:new tV;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(i.cssClasses=this.matrix.survey.getCss().actionBar),i.setItems(n);var s=new oV(i);return r.item=s,r.isActionsCell=!0,r.isDragHandlerCell=!1,r.isDetailRowCell=o,r.className=this.getActionsCellClassName(r),r.row=this.matrix.visibleRows[e],r}return null},QuestionMatrixDropdownRenderedTable.prototype.getRowActions=function(e,t){var o=this.rowsActions[e];return Array.isArray(o)?o.filter(function(e){return e.location||(e.location="start"),e.location===t}):[]},QuestionMatrixDropdownRenderedTable.prototype.buildRowActions=function(e){var t=[];return this.setDefaultRowActions(e,t),this.matrix.survey&&(t=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,e,t)),t},Object.defineProperty(QuestionMatrixDropdownRenderedTable.prototype,"showRemoveButtonAsIcon",{get:function(){return t0.matrix.renderRemoveAsIcon&&this.matrix.survey&&"sd-root-modern"===this.matrix.survey.css.root},enumerable:!1,configurable:!0}),QuestionMatrixDropdownRenderedTable.prototype.setDefaultRowActions=function(e,t){var o=this,n=this.matrix;this.hasRemoveRows&&this.canRemoveRow(e)&&(this.showRemoveButtonAsIcon?t.push(new tQ({id:"remove-row",iconName:"icon-delete-24x24",iconSize:"auto",component:"sv-action-bar-item",innerCss:new tP().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:n.removeRowText,enabled:!n.isInputReadOnly,data:{row:e,question:n},action:function(){n.removeRowUI(e)}})):t.push(new tQ({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:e,question:this.matrix}}))),e.hasPanel&&(this.matrix.isMobile?t.unshift(new tQ({id:"show-detail-mobile",title:"Show Details",showTitle:!0,location:"end",action:function(t){t.title=e.isDetailPanelShowing?o.matrix.getLocalizationString("showDetails"):o.matrix.getLocalizationString("hideDetails"),e.showHideDetailPanelClick()}})):t.push(new tQ({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:e,question:this.matrix}})))},QuestionMatrixDropdownRenderedTable.prototype.createErrorRow=function(e){for(var t=this.createErrorRenderedRow(this.cssClasses),o=0;o<e.cells.length;o++){var n=e.cells[o];n.hasQuestion?this.matrix.IsMultiplyColumn(n.cell.column)?n.isFirstChoice?t.cells.push(this.createErrorCell(n.cell)):t.cells.push(this.createEmptyCell(!0)):t.cells.push(this.createErrorCell(n.cell)):t.cells.push(this.createEmptyCell(!0))}return t.onAfterCreated(),t},QuestionMatrixDropdownRenderedTable.prototype.createHorizontalRow=function(e){var t=this.createRenderedRow(this.cssClasses);if(this.isRowsDragAndDrop){var o=this.matrix.visibleRows.indexOf(e);t.cells.push(this.getRowDragCell(o))}if(this.addRowActionsCell(e,t,"start"),this.matrix.hasRowText){var n=this.createTextCell(e.locText);n.row=e,t.cells.push(n),this.setCellWidth(null,n),n.className=new tP().append(n.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell,!this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.detailRowText,e.hasPanel).toString()}for(var r=0;r<e.cells.length;r++){var i=e.cells[r];if(i.column.isColumnVisible){if(this.matrix.IsMultiplyColumn(i.column))this.createMutlipleEditCells(t,i);else{i.column.isShowInMultipleColumns&&i.question.visibleChoices.map(function(e){return e.hideCaption=!1});var n=this.createEditCell(i);t.cells.push(n),this.setCellWidth(i.column,n)}}}return this.addRowActionsCell(e,t,"end"),t},QuestionMatrixDropdownRenderedTable.prototype.addRowActionsCell=function(e,t,o){var n=this.matrix.visibleRows.indexOf(e);if(this.hasActionCellInRows(o)){var r=this.getRowActionsCell(n,o,t.isDetailRow);if(r)t.cells.push(r),t.hasEndActions=!0;else{var i=new o0;i.isEmpty=!0,i.isDetailRowCell=t.isDetailRow,t.cells.push(i)}}},QuestionMatrixDropdownRenderedTable.prototype.createDetailPanelRow=function(e,t){var o=this.matrix.isDesignMode,n=this.createRenderedRow(this.cssClasses,!0);n.row=e;var r=new o0;this.matrix.hasRowText&&(r.colSpans=2),r.isEmpty=!0,o||n.cells.push(r);var i=null;this.hasActionCellInRows("end")&&((i=new o0).isEmpty=!0);var s=new o0;return s.panel=e.detailPanel,s.colSpans=t.cells.length-(o?0:r.colSpans)-(i?i.colSpans:0),s.className=this.cssClasses.detailPanelCell,n.cells.push(s),i&&(this.matrix.isMobile?this.addRowActionsCell(e,n,"end"):n.cells.push(i)),"function"==typeof this.matrix.onCreateDetailPanelRenderedRowCallback&&this.matrix.onCreateDetailPanelRenderedRowCallback(n),n},QuestionMatrixDropdownRenderedTable.prototype.buildVerticalRows=function(){for(var e=this.matrix.columns,t=[],o=0;o<e.length;o++){var n=e[o];if(n.isColumnVisible){if(this.matrix.IsMultiplyColumn(n))this.createMutlipleVerticalRows(t,n,o);else{var r=this.createVerticalRow(n,o),i=this.createErrorRow(r);this.showCellErrorsTop?(t.push(i),t.push(r)):(t.push(r),t.push(i))}}}return this.hasActionCellInRows("end")&&t.push(this.createEndVerticalActionRow()),t},QuestionMatrixDropdownRenderedTable.prototype.createMutlipleVerticalRows=function(e,t,o){var n=this.getMultipleColumnChoices(t);if(n)for(var r=0;r<n.length;r++){var i=this.createVerticalRow(t,o,n[r],r),s=this.createErrorRow(i);this.showCellErrorsTop?(e.push(s),e.push(i)):(e.push(i),e.push(s))}},QuestionMatrixDropdownRenderedTable.prototype.createVerticalRow=function(e,t,o,n){void 0===o&&(o=null),void 0===n&&(n=-1);var r=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var i=o?o.locText:e.locTitle,s=this.createTextCell(i);s.column=e,s.className=new tP().append(s.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell).toString(),r.cells.push(s)}for(var a=this.matrix.visibleRows,l=0;l<a.length;l++){var u=o,c=n>=0?n:l,p=a[l].cells[t],d=o?p.question.visibleChoices:void 0;d&&c<d.length&&(u=d[c]);var h=this.createEditCell(p,u);h.item=u,h.choiceIndex=c,r.cells.push(h)}return this.matrix.hasTotal&&r.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[t])),r},QuestionMatrixDropdownRenderedTable.prototype.createEndVerticalActionRow=function(){var e=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&e.cells.push(this.createEmptyCell());for(var t=this.matrix.visibleRows,o=0;o<t.length;o++)e.cells.push(this.getRowActionsCell(o,"end"));return this.matrix.hasTotal&&e.cells.push(this.createEmptyCell()),e},QuestionMatrixDropdownRenderedTable.prototype.createMutlipleEditCells=function(e,t,o){void 0===o&&(o=!1);var n=o?this.getMultipleColumnChoices(t.column):t.question.visibleChoices;if(n)for(var r=0;r<n.length;r++){var i=this.createEditCell(t,o?void 0:n[r]);o||(this.setItemCellCssClasses(i),i.choiceIndex=r),e.cells.push(i)}},QuestionMatrixDropdownRenderedTable.prototype.setItemCellCssClasses=function(e){e.className=new tP().append(this.cssClasses.cell).append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,e.isRadio).append(this.cssClasses.checkboxCell,e.isCheckbox).toString()},QuestionMatrixDropdownRenderedTable.prototype.createEditCell=function(e,t){void 0===t&&(t=void 0);var o=new o0;return o.cell=e,o.row=e.row,o.question=e.question,o.matrix=this.matrix,o.item=t,o.isOtherChoice=!!t&&!!e.question&&e.question.otherItem===t,o.className=o.calculateFinalClassName(this.cssClasses),o},QuestionMatrixDropdownRenderedTable.prototype.createErrorCell=function(e,t){void 0===t&&(t=void 0);var o=new o0;return o.question=e.question,o.row=e.row,o.matrix=this.matrix,o.isErrorsCell=!0,o.className=new tP().append(this.cssClasses.cell).append(this.cssClasses.errorsCell).append(this.cssClasses.errorsCellTop,this.showCellErrorsTop).append(this.cssClasses.errorsCellBottom,this.showCellErrorsBottom).toString(),o},QuestionMatrixDropdownRenderedTable.prototype.createMutlipleColumnsFooter=function(e,t){this.createMutlipleEditCells(e,t,!0)},QuestionMatrixDropdownRenderedTable.prototype.createMutlipleColumnsHeader=function(e){var t=this.getMultipleColumnChoices(e);if(t)for(var o=0;o<t.length;o++){var n=this.createTextCell(t[o].locText);this.setHeaderCell(e,n),this.setHeaderCellCssClasses(n),this.headerRow.cells.push(n)}},QuestionMatrixDropdownRenderedTable.prototype.getMultipleColumnChoices=function(e){var t=e.templateQuestion.choices;return t&&Array.isArray(t)&&0==t.length?[].concat(this.matrix.choices,e.getVisibleMultipleChoices()):(t=e.getVisibleMultipleChoices())&&Array.isArray(t)?t:null},QuestionMatrixDropdownRenderedTable.prototype.setHeaderCellCssClasses=function(e,t){e.className=new tP().append(this.cssClasses.headerCell).append(this.cssClasses.columnTitleCell,this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.emptyCell,!!e.isEmpty).append(this.cssClasses.cell+"--"+t,!!t).toString()},QuestionMatrixDropdownRenderedTable.prototype.createHeaderCell=function(e,t){void 0===t&&(t=null);var o=e?this.createTextCell(e.locTitle):this.createEmptyCell();return o.column=e,this.setHeaderCell(e,o),t||(t=e&&"default"!==e.cellType?e.cellType:this.matrix.cellType),this.setHeaderCellCssClasses(o,t),o},QuestionMatrixDropdownRenderedTable.prototype.setHeaderCell=function(e,t){this.setCellWidth(e,t)},QuestionMatrixDropdownRenderedTable.prototype.setCellWidth=function(e,t){t.minWidth=null!=e?this.matrix.getColumnWidth(e):this.matrix.getRowTitleWidth(),t.width=null!=e?e.width:this.matrix.getRowTitleWidth()},QuestionMatrixDropdownRenderedTable.prototype.createTextCell=function(e){var t=new o0;return t.locTitle=e,this.cssClasses.cell&&(t.className=this.cssClasses.cell),t},QuestionMatrixDropdownRenderedTable.prototype.createEmptyCell=function(e){void 0===e&&(e=!1);var t=this.createTextCell(null);return t.isEmpty=!0,t.className=new tP().append(this.cssClasses.cell).append(this.cssClasses.emptyCell).append(this.cssClasses.errorsCell,e).toString(),t},question_matrixdropdownrendered_decorate([propertyArray({onPush:function(e,t,o){o.updateRenderedRows()},onRemove:function(e,t,o){o.updateRenderedRows()}})],QuestionMatrixDropdownRenderedTable.prototype,"rows",void 0),question_matrixdropdownrendered_decorate([propertyArray()],QuestionMatrixDropdownRenderedTable.prototype,"_renderedRows",void 0),QuestionMatrixDropdownRenderedTable}(ty),o4=(R=function(e,t){return(R=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o9=function(){function MatrixDropdownCell(e,t,o){this.column=e,this.row=t,this.data=o,this.questionValue=this.createQuestion(e,t,o),this.questionValue.updateCustomWidget(),this.updateCellQuestionTitleDueToAccessebility(t)}return MatrixDropdownCell.prototype.updateCellQuestionTitleDueToAccessebility=function(e){var t=this;this.questionValue.locTitle.onGetTextCallback=function(o){if(!e||!e.getSurvey())return t.questionValue.title;var n=e.getAccessbilityText();return n?t.column.colOwner.getCellAriaLabel(n,t.questionValue.title):t.questionValue.title}},MatrixDropdownCell.prototype.locStrsChanged=function(){this.question.locStrsChanged()},MatrixDropdownCell.prototype.createQuestion=function(e,t,o){var n=this,r=o.createQuestion(this.row,this.column);return r.readOnlyCallback=function(){return!n.row.isRowEnabled()},r.validateValueCallback=function(){return o.validateCell(t,e.name,t.value)},eF.getProperties(e.getType()).forEach(function(t){var o=t.name;void 0!==e[o]&&(r[o]=e[o])}),r},Object.defineProperty(MatrixDropdownCell.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownCell.prototype,"value",{get:function(){return this.question.value},set:function(e){this.question.value=e},enumerable:!1,configurable:!0}),MatrixDropdownCell.prototype.getQuestionWrapperClassName=function(e){return e},MatrixDropdownCell.prototype.runCondition=function(e,t){this.question.runCondition(e,t)},MatrixDropdownCell}(),o3=function(e){function MatrixDropdownTotalCell(t,o,n){var r=e.call(this,t,o,n)||this;return r.column=t,r.row=o,r.data=n,r.updateCellQuestion(),r}return o4(MatrixDropdownTotalCell,e),MatrixDropdownTotalCell.prototype.createQuestion=function(e,t,o){var n=eY.createClass("expression");return n.setSurveyImpl(t),n},MatrixDropdownTotalCell.prototype.locStrsChanged=function(){this.updateCellQuestion(),e.prototype.locStrsChanged.call(this)},MatrixDropdownTotalCell.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(e){delete e.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},MatrixDropdownTotalCell.prototype.getQuestionWrapperClassName=function(t){var o=e.prototype.getQuestionWrapperClassName.call(this,t);if(!o)return o;this.question.expression&&"''"!=this.question.expression&&(o+=" "+t+"--expression");var n=this.column.totalAlignment;return"auto"===n&&"dropdown"===this.column.cellType&&(n="left"),o+" "+t+"--"+n},MatrixDropdownTotalCell.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if("none"==this.column.totalType)return"''";var e=this.column.totalType+"InArray";return e2.Instance.hasFunction(e)?e+"({self}, '"+this.column.name+"')":""},MatrixDropdownTotalCell}(o9),o6=function(e){function MatrixDropdownRowTextProcessor(t,o,n){var r=e.call(this,o)||this;return r.row=t,r.variableName=o,r.parentTextProcessor=n,r}return o4(MatrixDropdownRowTextProcessor,e),MatrixDropdownRowTextProcessor.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(MatrixDropdownRowTextProcessor.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),MatrixDropdownRowTextProcessor.prototype.getValues=function(){return this.row.value},MatrixDropdownRowTextProcessor.prototype.getQuestionByName=function(e){return this.row.getQuestionByName(e)},MatrixDropdownRowTextProcessor.prototype.onCustomProcessText=function(e){return e.name==o8.IndexVariableName?(e.isExists=!0,e.value=this.row.rowIndex,!0):[o8.RowValueVariableName,o8.RowNameVariableName].indexOf(e.name)>-1&&(e.isExists=!0,e.value=this.row.rowName,!0)},MatrixDropdownRowTextProcessor}(oB),o8=function(){function MatrixDropdownRowModelBase(e,t){var o=this;this.isSettingValue=!1,this.detailPanelValue=null,this.visibleValue=!0,this.cells=[],this.isCreatingDetailPanel=!1,this.data=e,this.subscribeToChanges(t),this.textPreProcessor=new o6(this,MatrixDropdownRowModelBase.RowVariableName,e?e.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(o.getSurvey().isDesignMode)return!0;o.showHideDetailPanel()},this.idValue=MatrixDropdownRowModelBase.getId()}return MatrixDropdownRowModelBase.getId=function(){return"srow_"+MatrixDropdownRowModelBase.idCounter++},Object.defineProperty(MatrixDropdownRowModelBase.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModelBase.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModelBase.prototype,"dataName",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModelBase.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),MatrixDropdownRowModelBase.prototype.isRowEnabled=function(){return!0},MatrixDropdownRowModelBase.prototype.isRowHasEnabledCondition=function(){return!1},Object.defineProperty(MatrixDropdownRowModelBase.prototype,"isVisible",{get:function(){return this.visible&&this.isItemVisible()},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModelBase.prototype,"visible",{get:function(){return this.visibleValue},set:function(e){var t;this.visible!==e&&(this.visibleValue=e,null===(t=this.data)||void 0===t||t.onRowVisibilityChanged(this))},enumerable:!1,configurable:!0}),MatrixDropdownRowModelBase.prototype.isItemVisible=function(){return!0},Object.defineProperty(MatrixDropdownRowModelBase.prototype,"value",{get:function(){for(var e={},t=this.questions,o=0;o<t.length;o++){var n=t[o];n.isEmpty()||(e[n.getValueName()]=n.value),n.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(e[n.getValueName()+ty.commentSuffix]=n.comment)}return e},set:function(e){this.isSettingValue=!0,this.subscribeToChanges(e);for(var t=this.questions,o=0;o<t.length;o++){var n=t[o],r=this.getCellValue(e,n.getValueName()),i=n.comment,s=e?e[n.getValueName()+ty.commentSuffix]:"";void 0==s&&(s=""),n.updateValueFromSurvey(r),(s||this.isTwoValueEquals(i,n.comment))&&n.updateCommentFromSurvey(s),n.onSurveyValueChanged(r)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModelBase.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),MatrixDropdownRowModelBase.prototype.getAccessbilityText=function(){return this.locText&&this.locText.renderedHtml},Object.defineProperty(MatrixDropdownRowModelBase.prototype,"hasPanel",{get:function(){return!!this.data&&this.data.hasDetailPanel(this)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModelBase.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModelBase.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModelBase.prototype,"isDetailPanelShowing",{get:function(){return!!this.data&&this.data.getIsDetailPanelShowing(this)},enumerable:!1,configurable:!0}),MatrixDropdownRowModelBase.prototype.setIsDetailPanelShowing=function(e){!e&&this.detailPanel&&this.detailPanel.onHidingContent(),this.data&&this.data.setIsDetailPanelShowing(this,e),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},MatrixDropdownRowModelBase.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},MatrixDropdownRowModelBase.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},MatrixDropdownRowModelBase.prototype.hideDetailPanel=function(e){void 0===e&&(e=!1),this.setIsDetailPanelShowing(!1),e&&(this.detailPanelValue=null)},MatrixDropdownRowModelBase.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!this.detailPanelValue&&this.hasPanel&&this.data){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var e=this.detailPanelValue.questions,t=this.data.getRowValue(this.data.getRowIndex(this));if(!eQ.isValueEmpty(t))for(var o=0;o<e.length;o++){var n=e[o].getValueName(),r=this.editingObj?eY.getObjPropertyValue(this.editingObj,n):t[n];eQ.isValueEmpty(r)||(e[o].value=r)}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},MatrixDropdownRowModelBase.prototype.getAllValues=function(){return this.value},MatrixDropdownRowModelBase.prototype.getFilteredValues=function(){var e=this.data?this.data.getDataFilteredValues():{},t=this.validationValues;if(t)for(var o in t)e[o]=t[o];return e.row=this.getAllValues(),this.applyRowVariablesToValues(e,this.rowIndex),e},MatrixDropdownRowModelBase.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},MatrixDropdownRowModelBase.prototype.applyRowVariablesToValues=function(e,t){e[MatrixDropdownRowModelBase.IndexVariableName]=t,e[MatrixDropdownRowModelBase.RowValueVariableName]=this.rowName,e[MatrixDropdownRowModelBase.RowNameVariableName]=this.rowName},MatrixDropdownRowModelBase.prototype.runCondition=function(e,t,o){if(this.data){e[MatrixDropdownRowModelBase.OwnerVariableName]=this.data.getFilteredData();var n=this.rowIndex;this.applyRowVariablesToValues(e,n);var r=eQ.createCopy(t);r[MatrixDropdownRowModelBase.RowVariableName]=this;var i=n>0?this.data.getRowValue(this.rowIndex-1):this.value;o?(e[MatrixDropdownRowModelBase.RowVariableName]=i,this.setRowsVisibleIfValues(e),this.visible=new tc(o).run(e,t)):this.visible=!0;for(var s=0;s<this.cells.length;s++)s>0&&mergeValues(this.value,i),e[MatrixDropdownRowModelBase.RowVariableName]=i,this.cells[s].runCondition(e,r);this.detailPanel&&this.detailPanel.runCondition(e,r),this.isRowHasEnabledCondition()&&this.onQuestionReadOnlyChanged()}},MatrixDropdownRowModelBase.prototype.updateElementVisibility=function(){this.cells.forEach(function(e){return e.question.updateElementVisibility()}),this.detailPanel&&this.detailPanel.updateElementVisibility()},MatrixDropdownRowModelBase.prototype.setRowsVisibleIfValues=function(e){},MatrixDropdownRowModelBase.prototype.getNamesWithDefaultValues=function(){var e=[];return this.questions.forEach(function(t){t.isValueDefault&&e.push(t.getValueName())}),e},MatrixDropdownRowModelBase.prototype.clearValue=function(e){for(var t=this.questions,o=0;o<t.length;o++)t[o].clearValue(e)},MatrixDropdownRowModelBase.prototype.onAnyValueChanged=function(e,t){for(var o=this.questions,n=0;n<o.length;n++)o[n].onAnyValueChanged(e,t)},MatrixDropdownRowModelBase.prototype.getDataValueCore=function(e,t){var o=this.getSurvey();return o?o.getDataValueCore(e,t):e[t]},MatrixDropdownRowModelBase.prototype.getValue=function(e){var t=this.getQuestionByName(e);return t?t.value:null},MatrixDropdownRowModelBase.prototype.setValue=function(e,t){this.setValueCore(e,t,!1)},MatrixDropdownRowModelBase.prototype.getVariable=function(e){},MatrixDropdownRowModelBase.prototype.setVariable=function(e,t){},MatrixDropdownRowModelBase.prototype.getComment=function(e){var t=this.getQuestionByName(e);return t?t.comment:""},MatrixDropdownRowModelBase.prototype.setComment=function(e,t,o){this.setValueCore(e,t,!0)},MatrixDropdownRowModelBase.prototype.findQuestionByName=function(e){if(e){var t=MatrixDropdownRowModelBase.RowVariableName+".";if(0===e.indexOf(t))return this.getQuestionByName(e.substring(t.length));var o=this.getSurvey();return o?o.getQuestionByName(e):null}},MatrixDropdownRowModelBase.prototype.getEditingSurveyElement=function(){},MatrixDropdownRowModelBase.prototype.setValueCore=function(e,t,o){if(!this.isSettingValue){this.updateQuestionsValue(e,t,o),o||this.updateSharedQuestionsValue(e,t);var n=this.value,r=o?e+ty.commentSuffix:e,i=this.getQuestionByName(e),s=this.data.onRowChanging(this,r,n);if(i&&!this.isTwoValueEquals(s,t)&&(this.isSettingValue=!0,o?i.comment=s:i.value=s,this.isSettingValue=!1,n=this.value),!(this.data.isValidateOnValueChanging&&this.hasQuestonError(i))){var a=null==t&&!i||o&&!t&&!!i;this.data.onRowChanged(this,r,n,a),r&&this.runTriggers(ne.RowVariableName+"."+r,n),this.onAnyValueChanged(MatrixDropdownRowModelBase.RowVariableName,"")}}},MatrixDropdownRowModelBase.prototype.updateQuestionsValue=function(e,t,o){if(this.detailPanel){var n=this.getQuestionByColumnName(e),r=this.detailPanel.getQuestionByName(e);if(n&&r){var i=this.isTwoValueEquals(t,o?n.comment:n.value)?r:n;this.isSettingValue=!0,o?i.comment=t:i.value=t,this.isSettingValue=!1}}},MatrixDropdownRowModelBase.prototype.updateSharedQuestionsValue=function(e,t){var o=this.getQuestionsByValueName(e);if(o.length>1)for(var n=0;n<o.length;n++)eQ.isTwoValueEquals(o[n].value,t)||(this.isSettingValue=!0,o[n].updateValueFromSurvey(t),this.isSettingValue=!1)},MatrixDropdownRowModelBase.prototype.runTriggers=function(e,t){e&&this.questions.forEach(function(o){return o.runTriggers(e,t)})},MatrixDropdownRowModelBase.prototype.hasQuestonError=function(e){if(!e)return!1;if(e.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(e.isEmpty())return!1;var t=this.getCellByColumnName(e.name);return!!t&&!!t.column&&!!t.column.isUnique&&this.data.checkIfValueInRowDuplicated(this,e)},Object.defineProperty(MatrixDropdownRowModelBase.prototype,"isEmpty",{get:function(){var e=this.value;if(eQ.isValueEmpty(e))return!0;for(var t in e)if(void 0!==e[t]&&null!==e[t])return!1;return!0},enumerable:!1,configurable:!0}),MatrixDropdownRowModelBase.prototype.getQuestionByColumn=function(e){var t=this.getCellByColumn(e);return t?t.question:null},MatrixDropdownRowModelBase.prototype.getCellByColumn=function(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column==e)return this.cells[t];return null},MatrixDropdownRowModelBase.prototype.getCellByColumnName=function(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column.name==e)return this.cells[t];return null},MatrixDropdownRowModelBase.prototype.getQuestionByColumnName=function(e){var t=this.getCellByColumnName(e);return t?t.question:null},Object.defineProperty(MatrixDropdownRowModelBase.prototype,"questions",{get:function(){for(var e=[],t=0;t<this.cells.length;t++)e.push(this.cells[t].question);for(var o=this.detailPanel?this.detailPanel.questions:[],t=0;t<o.length;t++)e.push(o[t]);return e},enumerable:!1,configurable:!0}),MatrixDropdownRowModelBase.prototype.getQuestionByName=function(e){return this.getQuestionByColumnName(e)||(this.detailPanel?this.detailPanel.getQuestionByName(e):null)},MatrixDropdownRowModelBase.prototype.getQuestionsByName=function(e){var t=[],o=this.getQuestionByColumnName(e);return o&&t.push(o),this.detailPanel&&(o=this.detailPanel.getQuestionByName(e))&&t.push(o),t},MatrixDropdownRowModelBase.prototype.getQuestionsByValueName=function(e){for(var t=[],o=0;o<this.cells.length;o++){var n=this.cells[o];n.question&&n.question.getValueName()===e&&t.push(n.question)}return this.detailPanel&&(t=t.concat(this.detailPanel.getQuestionsByValueName(e))),t},MatrixDropdownRowModelBase.prototype.getSharedQuestionByName=function(e){return this.data?this.data.getSharedQuestionByName(e,this):null},MatrixDropdownRowModelBase.prototype.clearIncorrectValues=function(e){for(var t in e){var o=this.getQuestionByName(t);if(o){var n=o.value;o.clearIncorrectValues(),this.isTwoValueEquals(n,o.value)||this.setValue(t,o.value)}else!this.getSharedQuestionByName(t)&&0>t.indexOf(t0.matrix.totalsSuffix)&&this.setValue(t,null)}},MatrixDropdownRowModelBase.prototype.getLocale=function(){return this.data?this.data.getLocale():""},MatrixDropdownRowModelBase.prototype.getMarkdownHtml=function(e,t){return this.data?this.data.getMarkdownHtml(e,t):void 0},MatrixDropdownRowModelBase.prototype.getRenderer=function(e){return this.data?this.data.getRenderer(e):null},MatrixDropdownRowModelBase.prototype.getRendererContext=function(e){return this.data?this.data.getRendererContext(e):e},MatrixDropdownRowModelBase.prototype.getProcessedText=function(e){return this.data?this.data.getProcessedText(e):e},MatrixDropdownRowModelBase.prototype.locStrsChanged=function(){for(var e=0;e<this.cells.length;e++)this.cells[e].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},MatrixDropdownRowModelBase.prototype.updateCellQuestionOnColumnChanged=function(e,t,o){var n=this.getCellByColumn(e);n&&this.updateCellOnColumnChanged(n,t,o)},MatrixDropdownRowModelBase.prototype.updateCellQuestionOnColumnItemValueChanged=function(e,t,o,n,r,i){var s=this.getCellByColumn(e);s&&this.updateCellOnColumnItemValueChanged(s,t,o,n,r,i)},MatrixDropdownRowModelBase.prototype.onQuestionReadOnlyChanged=function(){for(var e=this.questions,t=0;t<e.length;t++){var o=e[t];o.setPropertyValue("isReadOnly",o.isReadOnly)}if(this.detailPanel){var n=!!this.data&&this.data.isMatrixReadOnly();this.detailPanel.readOnly=n||!this.isRowEnabled()}},MatrixDropdownRowModelBase.prototype.hasErrors=function(e,t,o){var n=!1,r=this.cells;if(!r)return n;this.validationValues=t.validationValues;for(var i=0;i<r.length;i++)if(r[i]){var s=r[i].question;s&&s.visible&&(s.onCompletedAsyncValidators=function(e){o()},t&&!0===t.isOnValueChanged&&s.isEmpty()||(n=s.hasErrors(e,t)||n))}if(this.hasPanel){this.ensureDetailPanel();var a=this.detailPanel.hasErrors(e,!1,t);!t.hideErroredPanel&&a&&e&&(t.isSingleDetailPanel&&(t.hideErroredPanel=!0),this.showDetailPanel()),n=a||n}return this.validationValues=void 0,n},MatrixDropdownRowModelBase.prototype.updateCellOnColumnChanged=function(e,t,o){"choices"===t&&Array.isArray(o)&&0===o.length&&this.data&&(o=this.data.choices),e.question[t]=o},MatrixDropdownRowModelBase.prototype.updateCellOnColumnItemValueChanged=function(e,t,o,n,r,i){var s=e.question[t];if(Array.isArray(s)){var a="value"===n?i:o.value,l=oV.getItemByValue(s,a);l&&(l[n]=r)}},MatrixDropdownRowModelBase.prototype.buildCells=function(e){this.isSettingValue=!0;for(var t=this.data.columns,o=0;o<t.length;o++){var n=t[o],r=this.createCell(n);this.cells.push(r);var i=this.getCellValue(e,n.name);if(!eQ.isValueEmpty(i)){r.question.value=i;var s=n.name+ty.commentSuffix;e&&!eQ.isValueEmpty(e[s])&&(r.question.comment=e[s])}}this.isSettingValue=!1},MatrixDropdownRowModelBase.prototype.isTwoValueEquals=function(e,t){return eQ.isTwoValueEquals(e,t,!1,!0,!1)},MatrixDropdownRowModelBase.prototype.getCellValue=function(e,t){return this.editingObj?eY.getObjPropertyValue(this.editingObj,t):e?e[t]:void 0},MatrixDropdownRowModelBase.prototype.createCell=function(e){return new o9(e,this,this.data)},MatrixDropdownRowModelBase.prototype.getSurveyData=function(){return this},MatrixDropdownRowModelBase.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},MatrixDropdownRowModelBase.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(MatrixDropdownRowModelBase.prototype,"rowIndex",{get:function(){return this.getRowIndex()},enumerable:!1,configurable:!0}),MatrixDropdownRowModelBase.prototype.getRowIndex=function(){return this.data?this.data.getRowIndex(this)+1:-1},Object.defineProperty(MatrixDropdownRowModelBase.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),MatrixDropdownRowModelBase.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},MatrixDropdownRowModelBase.prototype.subscribeToChanges=function(e){var t=this;e&&e.getType&&e.onPropertyChanged&&e!==this.editingObj&&(this.editingObjValue=e,this.onEditingObjPropertyChanged=function(e,o){t.updateOnSetValue(o.name,o.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},MatrixDropdownRowModelBase.prototype.updateOnSetValue=function(e,t){this.isSettingValue=!0;for(var o=this.getQuestionsByName(e),n=0;n<o.length;n++)o[n].value=t;this.isSettingValue=!1},MatrixDropdownRowModelBase.RowVariableName="row",MatrixDropdownRowModelBase.OwnerVariableName="self",MatrixDropdownRowModelBase.IndexVariableName="rowIndex",MatrixDropdownRowModelBase.RowValueVariableName="rowValue",MatrixDropdownRowModelBase.RowNameVariableName="rowName",MatrixDropdownRowModelBase.idCounter=1,MatrixDropdownRowModelBase}(),ne=function(e){function MatrixDropdownTotalRowModel(t){var o=e.call(this,t,null)||this;return o.buildCells(null),o}return o4(MatrixDropdownTotalRowModel,e),MatrixDropdownTotalRowModel.prototype.createCell=function(e){return new o3(e,this,this.data)},MatrixDropdownTotalRowModel.prototype.setValue=function(e,t){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},MatrixDropdownTotalRowModel.prototype.runCondition=function(t,o,n){var r,i=0;do r=eQ.getUnbindValue(this.value),e.prototype.runCondition.call(this,t,o,""),i++;while(!eQ.isTwoValueEquals(r,this.value)&&i<3)},MatrixDropdownTotalRowModel.prototype.updateCellOnColumnChanged=function(e,t,o){e.updateCellQuestion()},MatrixDropdownTotalRowModel}(o8),nt=function(e){function QuestionMatrixDropdownModelBase(t){var o=e.call(this,t)||this;return o.isRowChanging=!1,o.lockResetRenderedTable=!1,o.isDoingonAnyValueChanged=!1,o.createItemValues("choices"),o.createLocalizableString("placeholder",o,!1,!0),o.createLocalizableString("keyDuplicationError",o,!1,!0),o.detailPanelValue=o.createNewDetailPanel(),o.detailPanel.selectedElementInDesign=o,o.detailPanel.renderWidth="100%",o.detailPanel.isInteractiveDesignElement=!1,o.detailPanel.showTitle=!1,o.registerPropertyChangedHandlers(["columns","cellType"],function(){o.updateColumnsAndRows()}),o.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){o.clearRowsAndResetRenderedTable()}),o.registerPropertyChangedHandlers(["transposeData","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode","displayMode"],function(){o.resetRenderedTable()}),o}return o4(QuestionMatrixDropdownModelBase,e),Object.defineProperty(QuestionMatrixDropdownModelBase,"defaultCellType",{get:function(){return t0.matrix.defaultCellType},set:function(e){t0.matrix.defaultCellType=e},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.addDefaultColumns=function(e){for(var t=oJ.DefaultColums,o=0;o<t.length;o++)e.addColumn(t[o])},QuestionMatrixDropdownModelBase.prototype.createColumnValues=function(){var e=this;return this.createNewArray("columns",function(t){t.colOwner=e,e.onAddColumn&&e.onAddColumn(t),e.survey&&e.survey.matrixColumnAdded(e,t)},function(t){t.colOwner=null,e.onRemoveColumn&&e.onRemoveColumn(t)})},QuestionMatrixDropdownModelBase.prototype.getType=function(){return"matrixdropdownbase"},QuestionMatrixDropdownModelBase.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.beginUpdate=function(){this.isUpdating=!0},QuestionMatrixDropdownModelBase.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},QuestionMatrixDropdownModelBase.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},QuestionMatrixDropdownModelBase.prototype.itemValuePropertyChanged=function(t,o,n,r){e.prototype.itemValuePropertyChanged.call(this,t,o,n,r),"choices"===t.ownerPropertyName&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"transposeData",{get:function(){return this.getPropertyValue("transposeData")},set:function(e){this.setPropertyValue("transposeData",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"columnLayout",{get:function(){return this.transposeData?"vertical":"horizontal"},set:function(e){this.transposeData="vertical"===e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(e){this.columnLayout=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"detailErrorLocation",{get:function(){return this.getPropertyValue("detailErrorLocation")},set:function(e){this.setPropertyValue("detailErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"cellErrorLocation",{get:function(){return this.getPropertyValue("cellErrorLocation")},set:function(e){this.setPropertyValue("cellErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.getChildErrorLocation=function(t){var o=t.parent?this.detailErrorLocation:this.cellErrorLocation;return"default"!==o?o:e.prototype.getChildErrorLocation.call(this,t)},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"isColumnLayoutHorizontal",{get:function(){return!!this.isMobile||!this.transposeData},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"isUniqueCaseSensitive",{get:function(){return void 0!==this.isUniqueCaseSensitiveValue?this.isUniqueCaseSensitiveValue:t0.comparator.caseSensitive},set:function(e){this.isUniqueCaseSensitiveValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(e){this.setPropertyValue("detailPanelMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.createNewDetailPanel=function(){return eY.createClass("panel")},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.getFooterText=function(){return null},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.canRemoveRow=function(e){return!0},QuestionMatrixDropdownModelBase.prototype.onPointerDown=function(e,t){},QuestionMatrixDropdownModelBase.prototype.onRowsChanged=function(){this.clearVisibleRows(),this.resetRenderedTable(),e.prototype.onRowsChanged.call(this)},QuestionMatrixDropdownModelBase.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly(!0)},QuestionMatrixDropdownModelBase.prototype.onEndRowAdding=function(){if(this.lockResetRenderedTable=!1,this.renderedTable){if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{var e=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[e],e)}}},QuestionMatrixDropdownModelBase.prototype.onEndRowRemoving=function(e){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():e&&this.renderedTable.onRemovedRow(e)},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(e){this.setPropertyValue("renderedTable",e)},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},QuestionMatrixDropdownModelBase.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},QuestionMatrixDropdownModelBase.prototype.clearGeneratedRows=function(){if(this.clearVisibleRows(),this.generatedVisibleRows){for(var t=0;t<this.generatedVisibleRows.length;t++)this.generatedVisibleRows[t].dispose();e.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"isRendredTableCreated",{get:function(){return!!this.renderedTableValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"renderedTable",{get:function(){return!this.renderedTableValue&&(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.createRenderedTable=function(){return new o7(this)},QuestionMatrixDropdownModelBase.prototype.onMatrixRowCreated=function(e){if(this.survey)for(var t={rowValue:e.value,row:e,column:null,columnName:null,cell:null,cellQuestion:null,value:null},o=0;o<this.columns.length;o++){t.column=this.columns[o],t.columnName=t.column.name;var n=e.cells[o];t.cell=n,t.cellQuestion=n.question,t.value=n.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(t),this.survey.matrixCellCreated(this,t)}},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",t0.matrix.defaultCellType)},set:function(e){e=e.toLowerCase(),this.setPropertyValue("cellType",e)},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.isSelectCellType=function(){return eY.isDescendantOf(this.cellType,"selectbase")},QuestionMatrixDropdownModelBase.prototype.updateColumnsCellType=function(){for(var e=0;e<this.columns.length;e++)this.columns[e].defaultCellTypeChanged()},QuestionMatrixDropdownModelBase.prototype.updateColumnsIndexes=function(e){for(var t=0;t<e.length;t++)e[t].setIndex(t)},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(e){e<0||e>4||this.setPropertyValue("columnColCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll")},set:function(e){this.setPropertyValue("horizontalScroll",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(e){this.setPropertyValue("allowAdaptiveActions",e),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=e)},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},QuestionMatrixDropdownModelBase.prototype.hasChoices=function(){return this.choices.length>0},QuestionMatrixDropdownModelBase.prototype.onColumnPropertyChanged=function(e,t,o){if(this.updateHasFooter(),this.generatedVisibleRows){for(var n=0;n<this.generatedVisibleRows.length;n++)this.generatedVisibleRows[n].updateCellQuestionOnColumnChanged(e,t,o);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(e,t,o),this.onColumnsChanged(),"isRequired"==t&&this.resetRenderedTable()}},QuestionMatrixDropdownModelBase.prototype.onColumnItemValuePropertyChanged=function(e,t,o,n,r,i){if(this.generatedVisibleRows)for(var s=0;s<this.generatedVisibleRows.length;s++)this.generatedVisibleRows[s].updateCellQuestionOnColumnItemValueChanged(e,t,o,n,r,i)},QuestionMatrixDropdownModelBase.prototype.onShowInMultipleColumnsChanged=function(e){this.resetTableAndRows()},QuestionMatrixDropdownModelBase.prototype.onColumnVisibilityChanged=function(e){this.resetTableAndRows()},QuestionMatrixDropdownModelBase.prototype.onColumnCellTypeChanged=function(e){this.resetTableAndRows()},QuestionMatrixDropdownModelBase.prototype.resetTableAndRows=function(){this.clearGeneratedRows(),this.resetRenderedTable()},QuestionMatrixDropdownModelBase.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.getAddRowLocation=function(){return"default"},QuestionMatrixDropdownModelBase.prototype.getShowColumnsIfEmpty=function(){return!1},QuestionMatrixDropdownModelBase.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},QuestionMatrixDropdownModelBase.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"hasTotal",{get:function(){for(var e=0;e<this.columns.length;e++)if(this.columns[e].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.getCellType=function(){return this.cellType},QuestionMatrixDropdownModelBase.prototype.getCustomCellType=function(e,t,o){if(!this.survey)return o;var n={rowValue:t.value,row:t,column:e,columnName:e.name,cellType:o};return this.survey.matrixCellCreating(this,n),n.cellType},QuestionMatrixDropdownModelBase.prototype.getConditionJson=function(t,o){if(void 0===t&&(t=null),void 0===o&&(o=null),!o)return e.prototype.getConditionJson.call(this,t);for(var n="",r=o.length-1;r>=0&&"."!=o[r];r--)n=o[r]+n;var i=void 0,s=this.getColumnByName(n);return s?i=s.createCellQuestion(null):"none"!==this.detailPanelMode&&(i=this.detailPanel.getQuestionByName(n)),i?i.getConditionJson(t):null},QuestionMatrixDropdownModelBase.prototype.clearIncorrectValues=function(){if(Array.isArray(this.visibleRows))for(var e=this.generatedVisibleRows,t=0;t<e.length;t++)e[t].clearIncorrectValues(this.getRowValue(t))},QuestionMatrixDropdownModelBase.prototype.clearErrors=function(){e.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(e){e.clearErrors()})},QuestionMatrixDropdownModelBase.prototype.localeChanged=function(){e.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(e){e.localeChanged()})},QuestionMatrixDropdownModelBase.prototype.runFuncForCellQuestions=function(e){if(this.generatedVisibleRows)for(var t=0;t<this.generatedVisibleRows.length;t++)for(var o=this.generatedVisibleRows[t],n=0;n<o.cells.length;n++)e(o.cells[n].question)},QuestionMatrixDropdownModelBase.prototype.runCondition=function(t,o){e.prototype.runCondition.call(this,t,o);var n,r=0;do n=eQ.getUnbindValue(this.totalValue),this.runCellsCondition(t,o),this.runTotalsCondition(t,o),r++;while(!eQ.isTwoValueEquals(n,this.totalValue)&&r<3);this.updateVisibilityBasedOnRows()},QuestionMatrixDropdownModelBase.prototype.runTriggers=function(t,o){e.prototype.runTriggers.call(this,t,o),this.runFuncForCellQuestions(function(e){e.runTriggers(t,o)})},QuestionMatrixDropdownModelBase.prototype.updateElementVisibility=function(){e.prototype.updateElementVisibility.call(this);var t=this.generatedVisibleRows;t&&t.forEach(function(e){return e.updateElementVisibility()})},QuestionMatrixDropdownModelBase.prototype.shouldRunColumnExpression=function(){return!1},QuestionMatrixDropdownModelBase.prototype.runCellsCondition=function(e,t){var o=this.generatedVisibleRows;if(o)for(var n=this.getRowConditionValues(e),r=0;r<o.length;r++)o[r].runCondition(n,t,this.rowsVisibleIf);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()},QuestionMatrixDropdownModelBase.prototype.runConditionsForColumns=function(e,t){var o=this;return this.columns.forEach(function(n){if(o.columnsVisibleIf){var r=new tc(o.columnsVisibleIf);e.item=n.name,n.isColumnsVisibleIf=!0===r.run(e,t)}else n.isColumnsVisibleIf=!0}),!1},QuestionMatrixDropdownModelBase.prototype.checkColumnsVisibility=function(){if(!this.isDesignMode){for(var e=!1,t=0;t<this.columns.length;t++){var o=this.columns[t],n=!!o.visibleIf||o.isFilteredMultipleColumns;(n||this.columnsVisibleIf||!o.isColumnVisible)&&(e=this.isColumnVisibilityChanged(o,n)||e)}e&&this.resetRenderedTable()}},QuestionMatrixDropdownModelBase.prototype.checkColumnsRenderedRequired=function(){var e=this.generatedVisibleRows;if(e)for(var t=0;t<this.columns.length;t++){var o=this.columns[t];if(o.requiredIf&&o.isColumnVisible){for(var n=e.length>0,r=0;r<e.length;r++)if(!e[r].cells[t].question.isRequired){n=!1;break}o.updateIsRenderedRequired(n)}}},QuestionMatrixDropdownModelBase.prototype.isColumnVisibilityChanged=function(e,t){var o=e.isColumnVisible,n=!t,r=this.generatedVisibleRows,i=t&&r,s=i&&e.isFilteredMultipleColumns,a=s?e.getVisibleChoicesInCell:[],l=[];if(i)for(var u=0;u<r.length;u++){var c=r[u].cells[e.index],p=null==c?void 0:c.question;if(p&&p.isVisible){if(n=!0,s)this.updateNewVisibleChoices(p,l);else break}}return e.hasVisibleCell=n&&e.isColumnsVisibleIf,!!s&&(e.setVisibleChoicesInCell(l),!eQ.isArraysEqual(a,l,!0,!1,!1))||o!==e.isColumnVisible},QuestionMatrixDropdownModelBase.prototype.updateNewVisibleChoices=function(e,t){var o=e.visibleChoices;if(Array.isArray(o))for(var n=0;n<o.length;n++){var r=o[n];0>t.indexOf(r.value)&&t.push(r.value)}},QuestionMatrixDropdownModelBase.prototype.runTotalsCondition=function(e,t){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(e),t)},QuestionMatrixDropdownModelBase.prototype.getRowConditionValues=function(e){var t=e;t||(t={});var o={};return this.isValueEmpty(this.totalValue)||(o=JSON.parse(JSON.stringify(this.totalValue))),t.row={},t.totalRow=o,t},QuestionMatrixDropdownModelBase.prototype.IsMultiplyColumn=function(e){return e.isShowInMultipleColumns&&!this.isMobile},QuestionMatrixDropdownModelBase.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this);for(var t=this.columns,o=0;o<t.length;o++)t[o].locStrsChanged();var n=this.generatedVisibleRows;if(n){for(var o=0;o<n.length;o++)n[o].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},QuestionMatrixDropdownModelBase.prototype.getColumnByName=function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].name==e)return this.columns[t];return null},QuestionMatrixDropdownModelBase.prototype.getColumnName=function(e){return this.getColumnByName(e)},QuestionMatrixDropdownModelBase.prototype.getColumnWidth=function(e){var t;return e.minWidth?e.minWidth:this.columnMinWidth?this.columnMinWidth:(null===(t=t0.matrix.columnWidthsByType[e.cellType])||void 0===t?void 0:t.minWidth)||""},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"storeOthersAsComment",{get:function(){return!!this.survey&&this.survey.storeOthersAsComment},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.addColumn=function(e,t){var o=new oX(e,t,this);return this.columns.push(o),o},QuestionMatrixDropdownModelBase.prototype.clearVisibleRows=function(){this.visibleRowsArray=null},QuestionMatrixDropdownModelBase.prototype.isColumnVisible=function(e){return e.isColumnVisible},QuestionMatrixDropdownModelBase.prototype.getVisibleRows=function(){return this.isUpdateLocked?null:this.isGenereatingRows?[]:(this.visibleRowsArray||(this.generateVisibleRowsIfNeeded(),this.visibleRowsArray=this.getVisibleFromGenerated(this.generatedVisibleRows)),this.visibleRowsArray)},QuestionMatrixDropdownModelBase.prototype.generateVisibleRowsIfNeeded=function(){var e=this;this.isUpdateLocked||this.generatedVisibleRows||this.generatedVisibleRows||(this.isGenereatingRows=!0,this.generatedVisibleRows=this.generateRows(),this.isGenereatingRows=!1,this.generatedVisibleRows.forEach(function(t){return e.onMatrixRowCreated(t)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.generatedVisibleRows&&(this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()))},QuestionMatrixDropdownModelBase.prototype.getVisibleFromGenerated=function(e){var t=[];return e?(e.forEach(function(e){e.isVisible&&t.push(e)}),t.length===e.length?e:t):t},QuestionMatrixDropdownModelBase.prototype.updateValueOnRowsGeneration=function(e){for(var t=this.createNewValue(!0),o=this.createNewValue(),n=0;n<e.length;n++){var r=e[n];if(!r.editingObj){var i=this.getRowValue(n),s=r.value;this.isTwoValueEquals(i,s)||(o=this.getNewValueOnRowChanged(r,"",s,!1,o).value)}}this.isTwoValueEquals(t,o)||(this.isRowChanging=!0,this.setNewValue(o),this.isRowChanging=!1)},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"totalValue",{get:function(){return this.hasTotal&&this.visibleTotalRow?this.visibleTotalRow.value:{}},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var e={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),e)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},QuestionMatrixDropdownModelBase.prototype.getRowValue=function(e){if(e<0||!Array.isArray(this.visibleRows))return null;var t=this.generatedVisibleRows;if(e>=t.length)return null;var o=this.createNewValue();return this.getRowValueCore(t[e],o)},QuestionMatrixDropdownModelBase.prototype.checkIfValueInRowDuplicated=function(e,t){return!!this.generatedVisibleRows&&this.isValueInColumnDuplicated(t.name,!0,e)},QuestionMatrixDropdownModelBase.prototype.setRowValue=function(e,t){if(e<0)return null;var o=this.visibleRows;if(e>=o.length)return null;o[e].value=t,this.onRowChanged(o[e],"",t,!1)},QuestionMatrixDropdownModelBase.prototype.generateRows=function(){return null},QuestionMatrixDropdownModelBase.prototype.generateTotalRow=function(){return new ne(this)},QuestionMatrixDropdownModelBase.prototype.createNewValue=function(e){void 0===e&&(e=!1);var t=this.value?this.createValueCopy():{};return e&&this.isMatrixValueEmpty(t)?null:t},QuestionMatrixDropdownModelBase.prototype.getRowValueCore=function(e,t,o){void 0===o&&(o=!1);var n=t&&t[e.rowName]?t[e.rowName]:null;return!n&&o&&(n={},t&&(t[e.rowName]=n)),n},QuestionMatrixDropdownModelBase.prototype.getRowObj=function(e){var t=this.getRowValueCore(e,this.value);return t&&t.getType?t:null},QuestionMatrixDropdownModelBase.prototype.getRowDisplayValue=function(e,t,o){if(!o||t.editingObj)return o;for(var n=Object.keys(o),r=0;r<n.length;r++){var i=n[r],s=t.getQuestionByName(i);if(s||(s=this.getSharedQuestionByName(i,t)),s){var a=s.getDisplayValue(e,o[i]);e&&s.title&&s.title!==i?(o[s.title]=a,delete o[i]):o[i]=a}}return o},QuestionMatrixDropdownModelBase.prototype.getPlainData=function(t){var o=this;void 0===t&&(t={includeEmpty:!0});var n=e.prototype.getPlainData.call(this,t);if(n){n.isNode=!0;var r=Array.isArray(n.data)?[].concat(n.data):[];n.data=this.visibleRows.map(function(e){var n={name:e.dataName,title:e.text,value:e.value,displayValue:o.getRowDisplayValue(!1,e,e.value),getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!0,data:e.cells.map(function(e){return e.question.getPlainData(t)}).filter(function(e){return!!e})};return(t.calculations||[]).forEach(function(t){n[t.propertyName]=e[t.propertyName]}),n}),n.data=n.data.concat(r)}return n},QuestionMatrixDropdownModelBase.prototype.addConditionObjectsByContext=function(e,t){var o=[].concat(this.columns);"none"!==this.detailPanelMode&&(o=o.concat(this.detailPanel.questions));var n=!!t&&o.indexOf(t)>-1,r=!0===t||n,i=this.getConditionObjectsRowIndeces();r&&i.push(-1);for(var s=0;s<i.length;s++){var a=i[s],l=a>-1?this.getConditionObjectRowName(a):"row";if(l)for(var u=a>-1?this.getConditionObjectRowText(a):"row",c=a>-1||!0===t,p=c&&-1===a?".":"",d=(c?this.getValueName():"")+p+l+".",h=(c?this.processedTitle:"")+p+u+".",g=0;g<o.length;g++){var f=o[g];if(-1!==a||t!==f){var y={name:d+f.name,text:h+f.fullTitle,question:this};-1===a&&!0===t?y.context=this:n&&d.startsWith("row.")&&(y.context=t),e.push(y)}}}},QuestionMatrixDropdownModelBase.prototype.onHidingContent=function(){if(e.prototype.onHidingContent.call(this),this.generatedVisibleRows){var t=[];this.collectNestedQuestions(t,!0),t.forEach(function(e){return e.onHidingContent()})}},QuestionMatrixDropdownModelBase.prototype.getIsReadyNestedQuestions=function(){if(!this.generatedVisibleRows)return[];var e=[];return this.collectNestedQuestonsInRows(this.generatedVisibleRows,e,!1),this.generatedTotalRow&&this.collectNestedQuestonsInRows([this.generatedTotalRow],e,!1),e},QuestionMatrixDropdownModelBase.prototype.collectNestedQuestionsCore=function(e,t){this.collectNestedQuestonsInRows(this.visibleRows,e,t)},QuestionMatrixDropdownModelBase.prototype.collectNestedQuestonsInRows=function(e,t,o){Array.isArray(e)&&e.forEach(function(e){e.questions.forEach(function(e){return e.collectNestedQuestions(t,o)})})},QuestionMatrixDropdownModelBase.prototype.getConditionObjectRowName=function(e){return""},QuestionMatrixDropdownModelBase.prototype.getConditionObjectRowText=function(e){return this.getConditionObjectRowName(e)},QuestionMatrixDropdownModelBase.prototype.getConditionObjectsRowIndeces=function(){return[]},QuestionMatrixDropdownModelBase.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return t$.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var e=ty.createProgressInfo();return this.updateProgressInfoByValues(e),0===e.requiredQuestionCount&&this.isRequired&&(e.requiredQuestionCount=1,e.requiredAnsweredQuestionCount=this.isEmpty()?0:1),e},QuestionMatrixDropdownModelBase.prototype.updateProgressInfoByValues=function(e){},QuestionMatrixDropdownModelBase.prototype.updateProgressInfoByRow=function(e,t){for(var o=0;o<this.columns.length;o++){var n=this.columns[o];if(n.templateQuestion.hasInput){var r=!eQ.isValueEmpty(t[n.name]);(r||!n.templateQuestion.visibleIf)&&(e.questionCount+=1,e.requiredQuestionCount+=n.isRequired,e.answeredQuestionCount+=r?1:0,e.requiredAnsweredQuestionCount+=r&&n.isRequired?1:0)}}},QuestionMatrixDropdownModelBase.prototype.getCellQuestions=function(){var e=[];return this.runFuncForCellQuestions(function(t){e.push(t)}),e},QuestionMatrixDropdownModelBase.prototype.onBeforeValueChanged=function(e){},QuestionMatrixDropdownModelBase.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length)){this.isRowChanging=!0;for(var e=this.createNewValue(),t=0;t<this.generatedVisibleRows.length;t++){var o=this.generatedVisibleRows[t];this.generatedVisibleRows[t].value=this.getRowValueCore(o,e)}this.isRowChanging=!1}},QuestionMatrixDropdownModelBase.prototype.setQuestionValue=function(t){e.prototype.setQuestionValue.call(this,t,!1),this.onSetQuestionValue(),this.updateIsAnswered()},QuestionMatrixDropdownModelBase.prototype.supportGoNextPageAutomatic=function(){var e=this.generatedVisibleRows;if(e||(e=this.visibleRows),!e)return!0;for(var t=0;t<e.length;t++){var o=this.generatedVisibleRows[t].cells;if(o)for(var n=0;n<o.length;n++){var r=o[n].question;if(r&&(!r.supportGoNextPageAutomatic()||!r.value))return!1}}return!0},QuestionMatrixDropdownModelBase.prototype.getContainsErrors=function(){return e.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(e){return e.containsErrors},!1)},QuestionMatrixDropdownModelBase.prototype.getIsAnswered=function(){return e.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(e){return e.isAnswered},!0)},QuestionMatrixDropdownModelBase.prototype.checkForAnswersOrErrors=function(e,t){void 0===t&&(t=!1);var o=this.generatedVisibleRows;if(!o)return!1;for(var n=0;n<o.length;n++){var r=o[n].cells;if(r){for(var i=0;i<r.length;i++)if(r[i]){var s=r[i].question;if(s&&s.isVisible){if(e(s)){if(!t)return!0}else if(t)return!1}}}}return!!t},QuestionMatrixDropdownModelBase.prototype.hasErrors=function(t,o){void 0===t&&(t=!0),void 0===o&&(o=null);var n=this.hasErrorInRows(t,o),r=this.isValueDuplicated();return e.prototype.hasErrors.call(this,t,o)||n||r},QuestionMatrixDropdownModelBase.prototype.getIsRunningValidators=function(){if(e.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var t=0;t<this.generatedVisibleRows.length;t++){var o=this.generatedVisibleRows[t].cells;if(o){for(var n=0;n<o.length;n++)if(o[n]){var r=o[n].question;if(r&&r.isRunningValidators)return!0}}}return!1},QuestionMatrixDropdownModelBase.prototype.getAllErrors=function(){var t=e.prototype.getAllErrors.call(this),o=this.generatedVisibleRows;if(null===o)return t;for(var n=0;n<o.length;n++)for(var r=o[n],i=0;i<r.cells.length;i++){var s=r.cells[i].question.getAllErrors();s&&s.length>0&&(t=t.concat(s))}return t},QuestionMatrixDropdownModelBase.prototype.hasErrorInRows=function(e,t){var o=this,n=this.generatedVisibleRows;this.generatedVisibleRows||(n=this.visibleRows);var r=!1;if(t||(t={}),!n)return t;t.validationValues=this.getDataFilteredValues(),t.isSingleDetailPanel="underRowSingle"===this.detailPanelMode;for(var i=0;i<n.length;i++)n[i].isVisible&&(r=n[i].hasErrors(e,t,function(){o.raiseOnCompletedAsyncValidators()})||r);return r},QuestionMatrixDropdownModelBase.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var e=this.getUniqueColumnsNames(),t=!1,o=0;o<e.length;o++)t=this.isValueInColumnDuplicated(e[o],!0)||t;return t},QuestionMatrixDropdownModelBase.prototype.getUniqueColumnsNames=function(){for(var e=[],t=0;t<this.columns.length;t++)this.columns[t].isUnique&&e.push(this.columns[t].name);return e},QuestionMatrixDropdownModelBase.prototype.isValueInColumnDuplicated=function(e,t,o){var n=this.getDuplicatedRows(e);return t&&this.showDuplicatedErrorsInRows(n,e),this.removeDuplicatedErrorsInRows(n,e),o?n.indexOf(o)>-1:n.length>0},QuestionMatrixDropdownModelBase.prototype.getDuplicatedRows=function(e){for(var t={},o=[],n=this.generatedVisibleRows,r=0;r<n.length;r++){var i=void 0,s=n[r].getQuestionByName(e);if(s)i=s.value;else{var a=this.getRowValue(r);i=a?a[e]:void 0}this.isValueEmpty(i)||(this.isUniqueCaseSensitive||"string"!=typeof i||(i=i.toLocaleLowerCase()),t[i]||(t[i]=[]),t[i].push(n[r]))}for(var l in t)t[l].length>1&&t[l].forEach(function(e){return o.push(e)});return o},QuestionMatrixDropdownModelBase.prototype.showDuplicatedErrorsInRows=function(e,t){var o=this;e.forEach(function(e){var n=e.getQuestionByName(t),r=o.detailPanel.getQuestionByName(t);!n&&r&&(e.showDetailPanel(),e.detailPanel&&(n=e.detailPanel.getQuestionByName(t))),n&&(r&&e.showDetailPanel(),o.addDuplicationError(n))})},QuestionMatrixDropdownModelBase.prototype.removeDuplicatedErrorsInRows=function(e,t){var o=this;this.generatedVisibleRows.forEach(function(n){if(0>e.indexOf(n)){var r=n.getQuestionByName(t);r&&o.removeDuplicationError(n,r)}})},QuestionMatrixDropdownModelBase.prototype.getDuplicationError=function(e){for(var t=e.errors,o=0;o<t.length;o++)if("keyduplicationerror"===t[o].getErrorType())return t[o];return null},QuestionMatrixDropdownModelBase.prototype.addDuplicationError=function(e){this.getDuplicationError(e)||e.addError(new oa(this.keyDuplicationError,this))},QuestionMatrixDropdownModelBase.prototype.removeDuplicationError=function(e,t){t.removeError(this.getDuplicationError(t))&&0===t.errors.length&&e.editingObj&&(e.editingObj[t.getValueName()]=t.value)},QuestionMatrixDropdownModelBase.prototype.getFirstQuestionToFocus=function(e){return this.getFirstCellQuestion(e)},QuestionMatrixDropdownModelBase.prototype.getFirstInputElementId=function(){var t=this.getFirstCellQuestion(!1);return t?t.inputId:e.prototype.getFirstInputElementId.call(this)},QuestionMatrixDropdownModelBase.prototype.getFirstErrorInputElementId=function(){var t=this.getFirstCellQuestion(!0);return t?t.inputId:e.prototype.getFirstErrorInputElementId.call(this)},QuestionMatrixDropdownModelBase.prototype.getFirstCellQuestion=function(e){if(!this.generatedVisibleRows)return null;for(var t=0;t<this.generatedVisibleRows.length;t++)for(var o=this.generatedVisibleRows[t].cells,n=0;n<o.length;n++)if(!e||o[n].question.currentErrorCount>0)return o[n].question;return null},QuestionMatrixDropdownModelBase.prototype.onReadOnlyChanged=function(){if(e.prototype.onReadOnlyChanged.call(this),this.generateRows)for(var t=0;t<this.visibleRows.length;t++)this.visibleRows[t].onQuestionReadOnlyChanged()},QuestionMatrixDropdownModelBase.prototype.createQuestion=function(e,t){return this.createQuestionCore(e,t)},QuestionMatrixDropdownModelBase.prototype.createQuestionCore=function(e,t){var o=t.createCellQuestion(e);return o.setSurveyImpl(e),o.setParentQuestion(this),o.inMatrixMode=!0,o},QuestionMatrixDropdownModelBase.prototype.deleteRowValue=function(e,t){return e?(delete e[t.rowName],this.isObject(e)&&0==Object.keys(e).length?null:e):e},QuestionMatrixDropdownModelBase.prototype.onAnyValueChanged=function(e,t){if(!this.isUpdateLocked&&!this.isDoingonAnyValueChanged&&this.generatedVisibleRows){this.isDoingonAnyValueChanged=!0;for(var o=this.generatedVisibleRows,n=0;n<o.length;n++)o[n].onAnyValueChanged(e,t);var r=this.visibleTotalRow;r&&r.onAnyValueChanged(e,t),this.isDoingonAnyValueChanged=!1}},QuestionMatrixDropdownModelBase.prototype.isObject=function(e){return null!==e&&"object"==typeof e},QuestionMatrixDropdownModelBase.prototype.getOnCellValueChangedOptions=function(e,t,o){return{row:e,columnName:t,rowValue:o,value:o?o[t]:null,getCellQuestion:function(t){return e.getQuestionByName(t)},cellQuestion:e.getQuestionByName(t),column:this.getColumnByName(t)}},QuestionMatrixDropdownModelBase.prototype.onCellValueChanged=function(e,t,o){if(this.survey){var n=this.getOnCellValueChangedOptions(e,t,o);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(n),this.survey.matrixCellValueChanged(this,n)}},QuestionMatrixDropdownModelBase.prototype.validateCell=function(e,t,o){if(this.survey){var n=this.getOnCellValueChangedOptions(e,t,o);return this.survey.matrixCellValidate(this,n)}},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"isValidateOnValueChanging",{get:function(){return!!this.survey&&this.survey.isValidateOnValueChanging},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"hasInvisibleRows",{get:function(){var e=this.generatedVisibleRows;if(!Array.isArray(e))return!1;for(var t=0;t<e.length;t++)if(!e[t].isVisible)return!0;return!1},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.getFilteredData=function(){return!this.isEmpty()&&this.generatedVisibleRows&&this.hasInvisibleRows?this.getFilteredDataCore():this.value},QuestionMatrixDropdownModelBase.prototype.getFilteredDataCore=function(){return this.value},QuestionMatrixDropdownModelBase.prototype.onRowChanging=function(e,t,o){if(!this.survey&&!this.cellValueChangingCallback)return o?o[t]:null;var n=this.getOnCellValueChangedOptions(e,t,o),r=this.getRowValueCore(e,this.createNewValue(),!0);return n.oldValue=r?r[t]:null,this.cellValueChangingCallback&&(n.value=this.cellValueChangingCallback(e,t,n.value,n.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,n),n.value},QuestionMatrixDropdownModelBase.prototype.onRowChanged=function(e,t,o,n){var r=t?this.getRowObj(e):null;if(r){var i=null;o&&!n&&(i=o[t]),this.isRowChanging=!0,eY.setObjPropertyValue(r,t,i),this.isRowChanging=!1,this.onCellValueChanged(e,t,r)}else{var s=this.createNewValue(!0),a=this.getNewValueOnRowChanged(e,t,o,n,this.createNewValue());if(this.isTwoValueEquals(s,a.value))return;this.isRowChanging=!0,this.setNewValue(a.value),this.isRowChanging=!1,t&&this.onCellValueChanged(e,t,a.rowValue)}this.getUniqueColumnsNames().indexOf(t)>-1&&this.isValueInColumnDuplicated(t,!!r)},QuestionMatrixDropdownModelBase.prototype.getNewValueOnRowChanged=function(e,t,o,n,r){var i=this.getRowValueCore(e,r,!0);n&&delete i[t];for(var s=0;s<e.cells.length;s++){var a=e.cells[s].question.getValueName();delete i[a]}if(o)for(var a in o=JSON.parse(JSON.stringify(o)))this.isValueEmpty(o[a])||(i[a]=o[a]);return this.isObject(i)&&0===Object.keys(i).length&&(r=this.deleteRowValue(r,e)),{value:r,rowValue:i}},QuestionMatrixDropdownModelBase.prototype.getRowIndex=function(e){return Array.isArray(this.generatedVisibleRows)?this.generatedVisibleRows.indexOf(e):-1},QuestionMatrixDropdownModelBase.prototype.getElementsInDesign=function(t){var o;return void 0===t&&(t=!1),o="none"==this.detailPanelMode?e.prototype.getElementsInDesign.call(this,t):t?[this.detailPanel]:this.detailElements,this.columns.concat(o)},QuestionMatrixDropdownModelBase.prototype.hasDetailPanel=function(e){return"none"!=this.detailPanelMode&&(!!this.isDesignMode||(this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(e):this.detailElements.length>0))},QuestionMatrixDropdownModelBase.prototype.getIsDetailPanelShowing=function(e){if("none"==this.detailPanelMode)return!1;if(this.isDesignMode){var t=0==this.visibleRows.indexOf(e);return t&&!e.detailPanel&&e.showDetailPanel(),t}return this.getPropertyValue("isRowShowing"+e.id,!1)},QuestionMatrixDropdownModelBase.prototype.setIsDetailPanelShowing=function(e,t){if(t!=this.getIsDetailPanelShowing(e)&&(this.setPropertyValue("isRowShowing"+e.id,t),this.updateDetailPanelButtonCss(e),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(e,t),this.survey&&this.survey.matrixDetailPanelVisibleChanged(this,e.rowIndex-1,e,t),t&&"underRowSingle"===this.detailPanelMode))for(var o=this.visibleRows,n=0;n<o.length;n++)o[n].id!==e.id&&o[n].isDetailPanelShowing&&o[n].hideDetailPanel()},QuestionMatrixDropdownModelBase.prototype.getDetailPanelButtonCss=function(e){var t=new tP().append(this.getPropertyValue("detailButtonCss"+e.id));return t.append(this.cssClasses.detailButton,""===t.toString()).toString()},QuestionMatrixDropdownModelBase.prototype.getDetailPanelIconCss=function(e){var t=new tP().append(this.getPropertyValue("detailIconCss"+e.id));return t.append(this.cssClasses.detailIcon,""===t.toString()).toString()},QuestionMatrixDropdownModelBase.prototype.getDetailPanelIconId=function(e){return this.getIsDetailPanelShowing(e)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},QuestionMatrixDropdownModelBase.prototype.updateDetailPanelButtonCss=function(e){var t=this.cssClasses,o=this.getIsDetailPanelShowing(e),n=new tP().append(t.detailIcon).append(t.detailIconExpanded,o);this.setPropertyValue("detailIconCss"+e.id,n.toString());var r=new tP().append(t.detailButton).append(t.detailButtonExpanded,o);this.setPropertyValue("detailButtonCss"+e.id,r.toString())},QuestionMatrixDropdownModelBase.prototype.createRowDetailPanel=function(e){var t=this;if(this.isDesignMode)return this.detailPanel;var o=this.createNewDetailPanel();o.readOnly=this.isReadOnly||!e.isRowEnabled(),o.setSurveyImpl(e);var n=this.detailPanel.toJSON();return new eK().toObject(n,o),o.renderWidth="100%",o.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(e,o),o.questions.forEach(function(e){return e.setParentQuestion(t)}),o.onSurveyLoad(),o},QuestionMatrixDropdownModelBase.prototype.getSharedQuestionByName=function(e,t){if(!this.survey||!this.valueName)return null;var o=this.getRowIndex(t);return o<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,e,o)},QuestionMatrixDropdownModelBase.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+t0.matrix.totalsSuffix,this.totalValue,!1)},QuestionMatrixDropdownModelBase.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},QuestionMatrixDropdownModelBase.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var e=this.parent.data;return e&&e.getTextProcessor?e.getTextProcessor():null},QuestionMatrixDropdownModelBase.prototype.isMatrixReadOnly=function(){return this.isReadOnly},QuestionMatrixDropdownModelBase.prototype.onRowVisibilityChanged=function(e){this.clearVisibleRows(),this.resetRenderedTable()},QuestionMatrixDropdownModelBase.prototype.clearValueIfInvisibleCore=function(t){e.prototype.clearValueIfInvisibleCore.call(this,t),this.clearInvisibleValuesInRows()},QuestionMatrixDropdownModelBase.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()&&this.isRowsFiltered()){var e;((null===(e=this.survey)||void 0===e?void 0:e.questionsByValueName(this.getValueName()))||[]).length<2&&(this.value=this.getFilteredData())}},QuestionMatrixDropdownModelBase.prototype.isRowsFiltered=function(){return e.prototype.isRowsFiltered.call(this)||this.visibleRows!==this.generatedVisibleRows},QuestionMatrixDropdownModelBase.prototype.getQuestionFromArray=function(e,t){return t>=this.visibleRows.length?null:this.visibleRows[t].getQuestionByName(e)},QuestionMatrixDropdownModelBase.prototype.isMatrixValueEmpty=function(e){if(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(this.isObject(e[t])&&Object.keys(e[t]).length>0)return!1;return!0}return 0==Object.keys(e).length}},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.getCellTemplateData=function(e){return this.SurveyModel.getMatrixCellTemplateData(e)},QuestionMatrixDropdownModelBase.prototype.getCellWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,e.row instanceof ne?"row-footer":"cell")},QuestionMatrixDropdownModelBase.prototype.getCellWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,e.row instanceof ne?"row-footer":"cell")},QuestionMatrixDropdownModelBase.prototype.getColumnHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,"column-header")},QuestionMatrixDropdownModelBase.prototype.getColumnHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,"column-header")},QuestionMatrixDropdownModelBase.prototype.getRowHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,"row-header")},QuestionMatrixDropdownModelBase.prototype.getRowHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,"row-header")},Object.defineProperty(QuestionMatrixDropdownModelBase.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModelBase.prototype.onMobileChanged=function(){e.prototype.onMobileChanged.call(this),this.resetRenderedTable()},QuestionMatrixDropdownModelBase.prototype.getRootCss=function(){return new tP().append(e.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},QuestionMatrixDropdownModelBase.prototype.afterRenderQuestionElement=function(t){e.prototype.afterRenderQuestionElement.call(this,t),this.setRootElement(null==t?void 0:t.parentElement)},QuestionMatrixDropdownModelBase.prototype.beforeDestroyQuestionElement=function(t){e.prototype.beforeDestroyQuestionElement.call(this,t),this.setRootElement(void 0)},QuestionMatrixDropdownModelBase.prototype.setRootElement=function(e){this.rootElement=e},QuestionMatrixDropdownModelBase.prototype.getRootElement=function(){return this.rootElement},QuestionMatrixDropdownModelBase}(ok);eY.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn",isArray:!0},{name:"columnLayout",alternativeName:"columnsLocation",choices:["horizontal","vertical"],visible:!1,isSerializable:!1},{name:"transposeData:boolean",version:"1.9.130",oldName:"columnLayout"},{name:"detailElements",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},{name:"cellErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"detailErrorLocation",default:"default",choices:["default","top","bottom"],visibleIf:function(e){return!!e&&"none"!=e.detailPanelMode}},{name:"horizontalScroll:boolean",visible:!1},{name:"choices:itemvalue[]",uniqueProperty:"value",visibleIf:function(e){return e.isSelectCellType()}},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return oX.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new nt("")},"matrixbase");var no=(O=function(e,t){return(O=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),nn=function(e){function MatrixDropdownRowModel(t,o,n,r){var i=e.call(this,n,r)||this;return i.name=t,i.item=o,i.buildCells(r),i}return no(MatrixDropdownRowModel,e),Object.defineProperty(MatrixDropdownRowModel.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModel.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDropdownRowModel.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),MatrixDropdownRowModel.prototype.isItemVisible=function(){return this.item.isVisible},MatrixDropdownRowModel.prototype.isRowEnabled=function(){return this.item.isEnabled},MatrixDropdownRowModel.prototype.isRowHasEnabledCondition=function(){return!!this.item.enableIf},MatrixDropdownRowModel.prototype.setRowsVisibleIfValues=function(e){e.item=this.item.value,e.choice=this.item.value},MatrixDropdownRowModel}(o8),nr=function(e){function QuestionMatrixDropdownModel(t){var o=e.call(this,t)||this;return o.defaultValuesInRows={},o.createLocalizableString("totalText",o,!0),o.registerPropertyChangedHandlers(["rows"],function(){o.generatedVisibleRows&&(o.clearGeneratedRows(),o.resetRenderedTable(),o.getVisibleRows(),o.clearIncorrectValues())}),o.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){o.updateVisibilityBasedOnRows()}),o}return no(QuestionMatrixDropdownModel,e),QuestionMatrixDropdownModel.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(QuestionMatrixDropdownModel.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(e){this.setLocalizableStringText("totalText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDropdownModel.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModel.prototype.getFooterText=function(){return this.locTotalText},QuestionMatrixDropdownModel.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(QuestionMatrixDropdownModel.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(e){this.setPropertyValue("hideIfRowsEmpty",e)},enumerable:!1,configurable:!0}),QuestionMatrixDropdownModel.prototype.getDisplayValueCore=function(e,t){if(!t)return t;var o=this.visibleRows,n={};if(!o)return n;for(var r=0;r<o.length;r++){var i=o[r].rowName,s=t[i];if(s){if(e){var a=oV.getTextOrHtmlByValue(this.rows,i);a&&(i=a)}n[i]=this.getRowDisplayValue(e,o[r],s)}}return n},QuestionMatrixDropdownModel.prototype.getConditionObjectRowName=function(e){return"."+this.rows[e].value},QuestionMatrixDropdownModel.prototype.getConditionObjectRowText=function(e){return"."+this.rows[e].calculatedText},QuestionMatrixDropdownModel.prototype.getConditionObjectsRowIndeces=function(){for(var e=[],t=0;t<this.rows.length;t++)e.push(t);return e},QuestionMatrixDropdownModel.prototype.isNewValueCorrect=function(e){return eQ.isValueObject(e,!0)},QuestionMatrixDropdownModel.prototype.clearIncorrectValues=function(){if(!this.isEmpty()){this.getVisibleRows();var t={},o=this.value;for(var n in o){var r=this.getRowByKey(n);r&&r.isVisible&&(t[n]=o[n])}this.value=t}e.prototype.clearIncorrectValues.call(this)},QuestionMatrixDropdownModel.prototype.getRowByKey=function(e){var t=this.generatedVisibleRows;if(!t)return null;for(var o=0;o<t.length;o++)if(t[o].rowName===e)return t[o];return null},QuestionMatrixDropdownModel.prototype.clearGeneratedRows=function(){var t=this;this.generatedVisibleRows&&(this.isDisposed||this.generatedVisibleRows.forEach(function(e){t.defaultValuesInRows[e.rowName]=e.getNamesWithDefaultValues()}),e.prototype.clearGeneratedRows.call(this))},QuestionMatrixDropdownModel.prototype.getRowValueForCreation=function(e,t){var o=e[t];if(!o)return o;var n=this.defaultValuesInRows[t];return Array.isArray(n)&&0!==n.length&&n.forEach(function(e){delete o[e]}),o},QuestionMatrixDropdownModel.prototype.generateRows=function(){var e=[],t=this.rows;if(!t||0===t.length)return e;var o=this.value;o||(o={});for(var n=0;n<t.length;n++){var r=t[n];this.isValueEmpty(r.value)||e.push(this.createMatrixRow(r,this.getRowValueForCreation(o,r.value)))}return e},QuestionMatrixDropdownModel.prototype.createMatrixRow=function(e,t){return new nn(e.value,e,this,t)},QuestionMatrixDropdownModel.prototype.getFilteredDataCore=function(){var e={},t=this.createValueCopy();return this.generatedVisibleRows.forEach(function(o){var n=t[o.rowName];o.isVisible&&!eQ.isValueEmpty(n)&&(e[o.rowName]=n)}),e},QuestionMatrixDropdownModel.prototype.getSearchableItemValueKeys=function(e){e.push("rows")},QuestionMatrixDropdownModel.prototype.updateProgressInfoByValues=function(e){var t=this.value;t||(t={});for(var o=0;o<this.rows.length;o++){var n=t[this.rows[o].value];this.updateProgressInfoByRow(e,n||{})}},QuestionMatrixDropdownModel}(nt);eY.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new nr("")},"matrixdropdownbase"),oJ.Instance.registerQuestion("matrixdropdown",function(e){var t=new nr(e);return t.choices=[1,2,3,4,5],t.rows=oJ.DefaultRows,nt.addDefaultColumns(t),t});var ni=!1,ns=null;"undefined"!=typeof navigator&&navigator&&eE.isAvailable()&&(ns=navigator.userAgent||navigator.vendor||eE.hasOwn("opera")),(I=ns)&&("MacIntel"===navigator.platform&&navigator.maxTouchPoints>0||"iPad"===navigator.platform?ni=!0:(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(I)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(I.substring(0,4)))&&(ni=!0));var na=ni||!1,nl={get isTouch(){return!this.hasMouse&&this.hasTouchEvent},get hasTouchEvent(){return eE.isAvailable()&&(eE.hasOwn("ontouchstart")||navigator.maxTouchPoints>0)},hasMouse:!0},nu=eE.matchMedia;nl.hasMouse=function(e){if(!e||na)return!1;var t=e("(pointer:fine)"),o=e("(any-hover:hover)");return!!t&&t.matches||!!o&&o.matches}(nu);var nc=nl.isTouch;function _setIsTouch(e){nc=e}var dom_adapter_spreadArray=function(e,t){for(var o=0,n=t.length,r=e.length;o<n;o++,r++)e[r]=t[o];return e};"undefined"!=typeof window&&window.addEventListener("touchmove",function(e){np.PreventScrolling&&e.preventDefault()},{passive:!1});var np=function(){function DragDropDOMAdapter(e,t,o){var n=this;void 0===t&&(t=!0),void 0===o&&(o=!1),this.dd=e,this.longTap=t,this.fitToContainer=o,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=function(e){e.preventDefault(),n.currentX=e.pageX,n.currentY=e.pageY,n.isMicroMovement||(n.returnUserSelectBack(),n.stopLongTap())},this.stopLongTap=function(e){clearTimeout(n.timeoutID),n.timeoutID=null,document.removeEventListener("pointerup",n.stopLongTap),document.removeEventListener("pointermove",n.stopLongTapIfMoveEnough)},this.handlePointerCancel=function(e){n.clear()},this.handleEscapeButton=function(e){27==e.keyCode&&n.clear()},this.onContextMenu=function(e){e.preventDefault(),e.stopPropagation()},this.dragOver=function(e){n.moveShortcutElement(e),n.draggedElementShortcut.style.cursor="grabbing",n.dd.dragOver(e)},this.clear=function(){cancelAnimationFrame(n.scrollIntervalId),document.removeEventListener("pointermove",n.dragOver),document.removeEventListener("pointercancel",n.handlePointerCancel),document.removeEventListener("keydown",n.handleEscapeButton),document.removeEventListener("pointerup",n.drop),n.draggedElementShortcut.removeEventListener("pointerup",n.drop),nc&&n.draggedElementShortcut.removeEventListener("contextmenu",n.onContextMenu),n.draggedElementShortcut.parentElement.removeChild(n.draggedElementShortcut),n.dd.clear(),n.draggedElementShortcut=null,n.scrollIntervalId=null,nc&&(n.savedTargetNode.style.cssText=null,n.savedTargetNode&&n.savedTargetNode.parentElement.removeChild(n.savedTargetNode),n.insertNodeToParentAtIndex(n.savedTargetNodeParent,n.savedTargetNode,n.savedTargetNodeIndex),DragDropDOMAdapter.PreventScrolling=!1),n.savedTargetNode=null,n.savedTargetNodeParent=null,n.savedTargetNodeIndex=null,n.returnUserSelectBack()},this.drop=function(){n.dd.drop(),n.clear()},this.draggedElementShortcut=null}return Object.defineProperty(DragDropDOMAdapter.prototype,"documentOrShadowRoot",{get:function(){return t0.environment.root},enumerable:!1,configurable:!0}),Object.defineProperty(DragDropDOMAdapter.prototype,"rootElement",{get:function(){return isShadowDOM(t0.environment.root)?this.rootContainer||t0.environment.root.host:this.rootContainer||t0.environment.root.documentElement||document.body},enumerable:!1,configurable:!0}),Object.defineProperty(DragDropDOMAdapter.prototype,"isMicroMovement",{get:function(){var e=Math.abs(this.currentX-this.startX),t=Math.abs(this.currentY-this.startY);return e<5&&t<5},enumerable:!1,configurable:!0}),DragDropDOMAdapter.prototype.startLongTapProcessing=function(e,t,o,n,r){var i=this;void 0===r&&(r=!1),this.startX=e.pageX,this.startY=e.pageY,document.body.style.setProperty("touch-action","none","important"),this.timeoutID=setTimeout(function(){i.doStartDrag(e,t,o,n),r||(i.savedTargetNode=e.target,i.savedTargetNode.style.cssText="\n          position: absolute;\n          height: 1px!important;\n          width: 1px!important;\n          overflow: hidden;\n          clip: rect(1px 1px 1px 1px);\n          clip: rect(1px, 1px, 1px, 1px);\n        ",i.savedTargetNodeParent=i.savedTargetNode.parentElement,i.savedTargetNodeIndex=i.getNodeIndexInParent(i.savedTargetNode),i.rootElement.appendChild(i.savedTargetNode)),i.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},DragDropDOMAdapter.prototype.moveShortcutElement=function(e){var t=this.rootElement.getBoundingClientRect().x,o=this.rootElement.getBoundingClientRect().y,n=this.rootElement.scrollLeft,r=this.rootElement.scrollTop;this.doScroll(e.clientY,e.clientX);var i=this.draggedElementShortcut.offsetHeight,s=this.draggedElementShortcut.offsetWidth,a=this.draggedElementShortcut.shortcutXOffset||s/2,l=this.draggedElementShortcut.shortcutYOffset||i/2;0!==document.querySelectorAll("[dir='rtl']").length&&(a=s/2,l=i/2);var u=document.documentElement.clientHeight,c=document.documentElement.clientWidth,p=e.pageX,d=e.pageY,h=e.clientX,g=e.clientY;t-=n,o-=r;var f=this.getShortcutBottomCoordinate(g,i,l);if(this.getShortcutRightCoordinate(h,s,a)>=c){this.draggedElementShortcut.style.left=c-s-t+"px",this.draggedElementShortcut.style.top=g-l-o+"px";return}if(h-a<=0){this.draggedElementShortcut.style.left=p-h-t+"px",this.draggedElementShortcut.style.top=g-o-l+"px";return}if(f>=u){this.draggedElementShortcut.style.left=h-a-t+"px",this.draggedElementShortcut.style.top=u-i-o+"px";return}if(g-l<=0){this.draggedElementShortcut.style.left=h-a-t+"px",this.draggedElementShortcut.style.top=d-g-o+"px";return}this.draggedElementShortcut.style.left=h-t-a+"px",this.draggedElementShortcut.style.top=g-o-l+"px"},DragDropDOMAdapter.prototype.getShortcutBottomCoordinate=function(e,t,o){return e+t-o},DragDropDOMAdapter.prototype.getShortcutRightCoordinate=function(e,t,o){return e+t-o},DragDropDOMAdapter.prototype.requestAnimationFrame=function(e){return requestAnimationFrame(e)},DragDropDOMAdapter.prototype.scrollByDrag=function(e,t,o){var n,r,i,s,a=this;"HTML"===e.tagName?(n=0,r=document.documentElement.clientHeight,i=0,s=document.documentElement.clientWidth):(n=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom,i=e.getBoundingClientRect().left,s=e.getBoundingClientRect().right);var repeat=function(){var l=t-n<=100,u=r-t<=100,c=o-i<=100,p=s-o<=100;!l||c||p?!u||c||p?!p||l||u?!c||l||u||(e.scrollLeft-=15):e.scrollLeft+=15:e.scrollTop+=15:e.scrollTop-=15,a.scrollIntervalId=a.requestAnimationFrame(repeat)};this.scrollIntervalId=this.requestAnimationFrame(repeat)},DragDropDOMAdapter.prototype.doScroll=function(e,t){cancelAnimationFrame(this.scrollIntervalId);var o=this.draggedElementShortcut.style.display;this.draggedElementShortcut.style.display="none";var n=this.documentOrShadowRoot.elementFromPoint(t,e);this.draggedElementShortcut.style.display=o||"block";var r=findScrollableParent(n);this.scrollByDrag(r,e,t)},DragDropDOMAdapter.prototype.doStartDrag=function(e,t,o,n){nc&&(DragDropDOMAdapter.PreventScrolling=!0),3!==e.which&&(this.dd.dragInit(e,t,o,n),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(e),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),nc?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))},DragDropDOMAdapter.prototype.returnUserSelectBack=function(){document.body.style.setProperty("touch-action","auto"),document.body.style.setProperty("user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto")},DragDropDOMAdapter.prototype.startDrag=function(e,t,o,n,r){if(void 0===r&&(r=!1),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),nc){this.startLongTapProcessing(e,t,o,n,r);return}this.doStartDrag(e,t,o,n)},DragDropDOMAdapter.prototype.getNodeIndexInParent=function(e){return dom_adapter_spreadArray([],e.parentElement.childNodes).indexOf(e)},DragDropDOMAdapter.prototype.insertNodeToParentAtIndex=function(e,t,o){e.insertBefore(t,e.childNodes[o])},DragDropDOMAdapter.PreventScrolling=!1,DragDropDOMAdapter}(),nd=function(){function DragDropCore(e,t,o,n){var r,i=this;this.surveyValue=e,this.creator=t,this._isBottom=null,this.onGhostPositionChanged=new tv,this.onDragStart=new tv,this.onDragEnd=new tv,this.onDragClear=new tv,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=function(){i.allowDropHere=!1,i.doBanDropHere(),i.dropTarget=null,i.domAdapter.draggedElementShortcut.style.cursor="not-allowed",i.isBottom=null},this.doBanDropHere=function(){},this.domAdapter=n||new np(this,o,null===(r=this.survey)||void 0===r?void 0:r.fitToContainer)}return Object.defineProperty(DragDropCore.prototype,"isBottom",{get:function(){return!!this._isBottom},set:function(e){this._isBottom=e,this.ghostPositionChanged()},enumerable:!1,configurable:!0}),DragDropCore.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(DragDropCore.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-"+this.draggedElementType+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(DragDropCore.prototype,"survey",{get:function(){var e;return this.surveyValue||(null===(e=this.creator)||void 0===e?void 0:e.survey)},enumerable:!1,configurable:!0}),DragDropCore.prototype.startDrag=function(e,t,o,n,r){void 0===r&&(r=!1),this.domAdapter.rootContainer=this.getRootElement(this.survey,this.creator),this.domAdapter.startDrag(e,t,o,n,r)},DragDropCore.prototype.getRootElement=function(e,t){return t?t.rootElement:e.rootElement},DragDropCore.prototype.dragInit=function(e,t,o,n){this.draggedElement=t,this.parentElement=o;var r=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(r,n,e),this.onStartDrag(e);var i=this.draggedElement&&this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:i,draggedElement:this.draggedElement})},DragDropCore.prototype.onStartDrag=function(e){},DragDropCore.prototype.isDropTargetDoesntChanged=function(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom},DragDropCore.prototype.getShortcutText=function(e){return null==e?void 0:e.shortcutText},DragDropCore.prototype.createDraggedElementShortcut=function(e,t,o){var n=eD.createElement("div");return n&&(n.innerText=e,n.className=this.getDraggedElementClass()),n},DragDropCore.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},DragDropCore.prototype.doDragOver=function(){},DragDropCore.prototype.afterDragOver=function(e){},DragDropCore.prototype.findDropTargetNodeFromPoint=function(e,t){var o=this.domAdapter.draggedElementShortcut.style.display;if(this.domAdapter.draggedElementShortcut.style.display="none",!eD.isAvailable())return null;var n=this.domAdapter.documentOrShadowRoot.elementsFromPoint(e,t);this.domAdapter.draggedElementShortcut.style.display=o||"block";for(var r=0,i=n[0];i&&i.className&&"function"==typeof i.className.indexOf&&-1!=i.className.indexOf("sv-drag-target-skipped");)i=n[++r];return i?this.findDropTargetNodeByDragOverNode(i):null},DragDropCore.prototype.getDataAttributeValueByNode=function(e){var t=this,o="svDropTarget";return this.draggedElementType.split("-").forEach(function(e){o+=t.capitalizeFirstLetter(e)}),e.dataset[o]},DragDropCore.prototype.getDropTargetByNode=function(e,t){var o=this.getDataAttributeValueByNode(e);return this.getDropTargetByDataAttributeValue(o,e,t)},DragDropCore.prototype.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},DragDropCore.prototype.calculateVerticalMiddleOfHTMLElement=function(e){var t=e.getBoundingClientRect();return t.y+t.height/2},DragDropCore.prototype.calculateHorizontalMiddleOfHTMLElement=function(e){var t=e.getBoundingClientRect();return t.x+t.width/2},DragDropCore.prototype.calculateIsBottom=function(e,t){return!1},DragDropCore.prototype.findDropTargetNodeByDragOverNode=function(e){return e.closest(this.dropTargetDataAttributeName)},DragDropCore.prototype.dragOver=function(e){var t=this.findDropTargetNodeFromPoint(e.clientX,e.clientY);if(!t){this.banDropHere();return}this.dropTarget=this.getDropTargetByNode(t,e);var o=this.isDropTargetValid(this.dropTarget,t);if(this.doDragOver(),!o){this.banDropHere();return}var n=this.calculateIsBottom(e.clientY,t);this.allowDropHere=!0,this.isDropTargetDoesntChanged(n)||(this.isBottom=null,this.isBottom=n,this.draggedElement!=this.dropTarget&&this.afterDragOver(t),this.prevDropTarget=this.dropTarget)},DragDropCore.prototype.drop=function(){if(this.allowDropHere){var e=this.draggedElement.parent,t=this.doDrop();this.onDragEnd.fire(this,{fromElement:e,draggedElement:t,toElement:this.dropTarget})}},DragDropCore.prototype.clear=function(){this.dropTarget=null,this.prevDropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null,this.onDragClear.fire(this,{})},DragDropCore}(),nh=(E=function(e,t){return(E=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),ng=function(e){function DragDropMatrixRows(){var t=null!==e&&e.apply(this,arguments)||this;return t.fromIndex=null,t.toIndex=null,t.doDrop=function(){return t.parentElement.moveRowByIndex(t.fromIndex,t.toIndex),t.parentElement},t}return nh(DragDropMatrixRows,e),Object.defineProperty(DragDropMatrixRows.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),DragDropMatrixRows.prototype.onStartDrag=function(){var e=eD.getBody();e&&(this.restoreUserSelectValue=e.style.userSelect,e.style.userSelect="none")},Object.defineProperty(DragDropMatrixRows.prototype,"shortcutClass",{get:function(){return new tP().append(this.parentElement.cssClasses.draggedRow).toString()},enumerable:!1,configurable:!0}),DragDropMatrixRows.prototype.createDraggedElementShortcut=function(e,t,o){var n=this,r=eD.createElement("div");if(r){if(r.className=this.shortcutClass,t){var i=t.closest("[data-sv-drop-target-matrix-row]"),s=i.cloneNode(!0);s.style.cssText="\n        width: "+i.offsetWidth+"px;\n      ",s.classList.remove("sv-matrix__drag-drop--moveup"),s.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,r.appendChild(s);var a=t.getBoundingClientRect();r.shortcutXOffset=o.clientX-a.x,r.shortcutYOffset=o.clientY-a.y}return this.parentElement.renderedTable.rows.forEach(function(e,t){e.row===n.draggedElement&&(e.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),r}},DragDropMatrixRows.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.renderedTable.rows.filter(function(t){return t.row&&t.row.id===e})[0].row},DragDropMatrixRows.prototype.canInsertIntoThisRow=function(e){var t=this.parentElement.lockedRowCount;return t<=0||e.rowIndex>t},DragDropMatrixRows.prototype.isDropTargetValid=function(e,t){return this.canInsertIntoThisRow(e)},DragDropMatrixRows.prototype.calculateIsBottom=function(e){var t=this.parentElement.renderedTable.rows.map(function(e){return e.row});return t.indexOf(this.dropTarget)-t.indexOf(this.draggedElement)>0},DragDropMatrixRows.prototype.afterDragOver=function(t){var o,n,r,i=this;if(!this.isDropTargetDoesntChanged(this.isBottom)){var s=this.parentElement.renderedTable.rows;s.forEach(function(e,t){e.row===i.dropTarget&&(o=t),e.row===i.draggedElement&&(r=e,n=t,r.isGhostRow=!0)}),s.splice(n,1),s.splice(o,0,r),this.toIndex=this.parentElement.visibleRows.indexOf(this.dropTarget),e.prototype.ghostPositionChanged.call(this)}},DragDropMatrixRows.prototype.clear=function(){this.parentElement.renderedTable.rows.forEach(function(e){e.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.fromIndex=null,this.toIndex=null;var t=eD.getBody();t&&(t.style.userSelect=this.restoreUserSelectValue||"initial"),e.prototype.clear.call(this)},DragDropMatrixRows}(nd),nf=function(){function DragOrClickHelper(e){var t=this;this.dragHandler=e,this.onPointerUp=function(e){t.clearListeners()},this.tryToStartDrag=function(e){if(t.currentX=e.pageX,t.currentY=e.pageY,!t.isMicroMovement)return t.clearListeners(),t.dragHandler(t.pointerDownEvent,t.currentTarget,t.itemModel),!0}}return DragOrClickHelper.prototype.onPointerDown=function(e,t){if(nc){this.dragHandler(e,e.currentTarget,t);return}this.pointerDownEvent=e,this.currentTarget=e.currentTarget,this.startX=e.pageX,this.startY=e.pageY,eD.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=t},Object.defineProperty(DragOrClickHelper.prototype,"isMicroMovement",{get:function(){var e=Math.abs(this.currentX-this.startX),t=Math.abs(this.currentY-this.startY);return e<10&&t<10},enumerable:!1,configurable:!0}),DragOrClickHelper.prototype.clearListeners=function(){this.pointerDownEvent&&(eD.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},DragOrClickHelper}(),ny=(D=function(e,t){return(D=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),nm=function(e){function MatrixDynamicRowModel(t,o,n){var r=e.call(this,o,n)||this;return r.index=t,r.buildCells(n),r}return ny(MatrixDynamicRowModel,e),MatrixDynamicRowModel.prototype.getRowIndex=function(){var t=e.prototype.getRowIndex.call(this);return t>0?t:this.index+1},Object.defineProperty(MatrixDynamicRowModel.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDynamicRowModel.prototype,"dataName",{get:function(){return"row"+(this.index+1)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixDynamicRowModel.prototype,"text",{get:function(){return"row "+(this.index+1)},enumerable:!1,configurable:!0}),MatrixDynamicRowModel.prototype.getAccessbilityText=function(){return(this.index+1).toString()},Object.defineProperty(MatrixDynamicRowModel.prototype,"shortcutText",{get:function(){var e=this.data.visibleRows.indexOf(this)+1,t=this.cells.length>1?this.cells[1].questionValue:void 0,o=this.cells.length>0?this.cells[0].questionValue:void 0;return t&&t.value||o&&o.value||""+e},enumerable:!1,configurable:!0}),MatrixDynamicRowModel}(o8),nv=function(e){function QuestionMatrixDynamicModel(t){var o=e.call(this,t)||this;return o.rowCounter=0,o.setRowCountValueFromData=!1,o.startDragMatrixRow=function(e,t){o.dragDropMatrixRows.startDrag(e,o.draggedRow,o,e.target)},o.initialRowCount=o.getDefaultPropertyValue("rowCount"),o.createLocalizableString("confirmDeleteText",o,!1,"confirmDelete"),o.createLocalizableString("addRowText",o).onGetTextCallback=function(e){return e||o.defaultAddRowText},o.createLocalizableString("removeRowText",o,!1,"removeRow"),o.createLocalizableString("emptyRowsText",o,!1,!0),o.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){o.updateShowTableAndAddRow()}),o.registerPropertyChangedHandlers(["allowRowsDragAndDrop","isReadOnly","lockedRowCount"],function(){o.resetRenderedTable()}),o.registerPropertyChangedHandlers(["minRowCount"],function(){o.onMinRowCountChanged()}),o.registerPropertyChangedHandlers(["maxRowCount"],function(){o.onMaxRowCountChanged()}),o.dragOrClickHelper=new nf(o.startDragMatrixRow),o}return ny(QuestionMatrixDynamicModel,e),QuestionMatrixDynamicModel.prototype.setSurveyImpl=function(t,o){e.prototype.setSurveyImpl.call(this,t,o),this.dragDropMatrixRows=new ng(this.survey,null,!0)},QuestionMatrixDynamicModel.prototype.isBanStartDrag=function(e){var t=e.target;return"true"===t.getAttribute("contenteditable")||"INPUT"===t.nodeName||!this.isDragHandleAreaValid(t)},QuestionMatrixDynamicModel.prototype.isDragHandleAreaValid=function(e){return"icon"!==this.survey.matrixDragHandleArea||e.classList.contains(this.cssClasses.dragElementDecorator)},QuestionMatrixDynamicModel.prototype.onPointerDown=function(e,t){!(!t||!this.isRowsDragAndDrop||this.isBanStartDrag(e))&&(t.isDetailPanelShowing||(this.draggedRow=t,this.dragOrClickHelper.onPointerDown(e)))},QuestionMatrixDynamicModel.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(e){this.setPropertyValue("defaultRowValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow")},set:function(e){this.setPropertyValue("defaultValueFromLastRow",e)},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.isDefaultValueEmpty=function(){return e.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},QuestionMatrixDynamicModel.prototype.valueFromData=function(t){if(this.minRowCount<1||this.isEmpty())return e.prototype.valueFromData.call(this,t);Array.isArray(t)||(t=[]);for(var o=t.length;o<this.minRowCount;o++)t.push({});return t},QuestionMatrixDynamicModel.prototype.isNewValueCorrect=function(e){return Array.isArray(e)},QuestionMatrixDynamicModel.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){e.prototype.setDefaultValue.call(this);return}if(this.isEmpty()&&0!=this.rowCount){for(var t=[],o=0;o<this.rowCount;o++)t.push(this.defaultRowValue);this.value=t}},QuestionMatrixDynamicModel.prototype.moveRowByIndex=function(e,t){var o=this.createNewValue();if(!(!Array.isArray(o)&&Math.max(e,t)>=o.length)){var n=o[e];o.splice(e,1),o.splice(t,0,n),this.value=o}},QuestionMatrixDynamicModel.prototype.clearOnDrop=function(){this.isEditingSurveyElement||this.resetRenderedTable()},QuestionMatrixDynamicModel.prototype.initDataUI=function(){this.generatedVisibleRows||this.getVisibleRows()},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(e){if(!((e=eQ.getNumber(e))<0)&&!(e>t0.matrix.maxRowCount)){this.setRowCountValueFromData=!1;var t=this.rowCountValue;if(this.rowCountValue=e,this.value&&this.value.length>e){var o=this.value;o.splice(e),this.value=o}if(this.isUpdateLocked){this.initialRowCount=e;return}if(this.generatedVisibleRows||0==t){this.generatedVisibleRows||(this.clearGeneratedRows(),this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(e);for(var n=t;n<e;n++){var r=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(r),this.onMatrixRowCreated(r)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.updateBindingProp=function(t,o){e.prototype.updateBindingProp.call(this,t,o);var n=this.generatedVisibleRows;if("rowCount"===t&&Array.isArray(n)){var r=this.getUnbindValue(this.value)||[];if(r.length<n.length){for(var i=!1,s=r.length;s<n.length;s++)i||(i=!n[s].isEmpty),r.push(n[s].value||{});i&&(this.value=r)}}},QuestionMatrixDynamicModel.prototype.updateProgressInfoByValues=function(e){var t=this.value;Array.isArray(t)||(t=[]);for(var o=0;o<this.rowCount;o++){var n=o<t.length?t[o]:{};this.updateProgressInfoByRow(e,n)}},QuestionMatrixDynamicModel.prototype.getValueForNewRow=function(){var e=null;return this.onGetValueForNewRowCallBack&&(e=this.onGetValueForNewRowCallBack(this)),e},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"allowRowsDragAndDrop",{get:function(){return this.getPropertyValue("allowRowsDragAndDrop")},set:function(e){this.setPropertyValue("allowRowsDragAndDrop",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"isRowsDragAndDrop",{get:function(){return this.allowRowsDragAndDrop&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"lockedRowCount",{get:function(){return this.getPropertyValue("lockedRowCount",0)},set:function(e){this.setPropertyValue("lockedRowCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.createRenderedTable=function(){return new nb(this)},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(e){this.setPropertyValue("rowCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(e){e<0&&(e=0),this.setPropertyValue("minRowCount",e)},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.onMinRowCountChanged=function(){var e=this.minRowCount;e>this.maxRowCount&&(this.maxRowCount=e),this.initialRowCount<e&&(this.initialRowCount=e),this.rowCount<e&&(this.rowCount=e)},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(e){e<=0||(e>t0.matrix.maxRowCount&&(e=t0.matrix.maxRowCount),e!=this.maxRowCount&&this.setPropertyValue("maxRowCount",e))},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.onMaxRowCountChanged=function(){var e=this.maxRowCount;e<this.minRowCount&&(this.minRowCount=e),this.rowCount>e&&(this.rowCount=e)},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(e){this.setPropertyValue("allowAddRows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(e){this.setPropertyValue("allowRemoveRows",e),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"canRemoveRows",{get:function(){var e=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(e):e},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.canRemoveRow=function(e){if(!this.survey)return!0;var t=e.rowIndex-1;return(!(this.lockedRowCount>0)||!(t<this.lockedRowCount))&&this.survey.matrixAllowRemoveRow(this,t,e)},QuestionMatrixDynamicModel.prototype.addRowUI=function(){this.addRow(!0)},QuestionMatrixDynamicModel.prototype.getQuestionToFocusOnAddingRow=function(){if(0===this.visibleRows.length)return null;for(var e=this.visibleRows[this.visibleRows.length-1],t=0;t<e.cells.length;t++){var o=e.cells[t].question;if(o&&o.isVisible&&!o.isReadOnly)return o}return null},QuestionMatrixDynamicModel.prototype.addRow=function(e){var t=this.rowCount,o=this.canAddRow,n={question:this,canAddRow:o,allow:o};if(this.survey&&this.survey.matrixBeforeRowAdded(n),(o!==n.allow?n.allow:o!==n.canAddRow?n.canAddRow:o)&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),e&&t!==this.rowCount)){var r=this.getQuestionToFocusOnAddingRow();r&&r.focus()}},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(e){this.setPropertyValue("detailPanelShowOnAdding",e)},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.hasRowsAsItems=function(){return!1},QuestionMatrixDynamicModel.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,e.prototype.unbindValue.call(this)},QuestionMatrixDynamicModel.prototype.isValueSurveyElement=function(t){return this.isEditingSurveyElement||e.prototype.isValueSurveyElement.call(this,t)},QuestionMatrixDynamicModel.prototype.addRowCore=function(){var e=this.rowCount;this.rowCount=this.rowCount+1;var t=this.getDefaultRowValue(!0),o=null;if(this.isValueEmpty(t)||(o=this.createNewValue()).length!=this.rowCount||(o[o.length-1]=t,this.value=o),this.data){this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties());var n=this.visibleRows;if(this.isValueEmpty(t)&&n.length>0){var r=n[n.length-1];this.isValueEmpty(r.value)||(o||(o=this.createNewValue()),this.isValueSurveyElement(o)||this.isTwoValueEquals(o[o.length-1],r.value)||(o[o.length-1]=r.value,this.value=o))}}if(this.survey){var n=this.visibleRows;if(e+1==this.rowCount&&n.length>0){var r=n[n.length-1];this.survey.matrixRowAdded(this,r),this.onRowsChanged()}}},QuestionMatrixDynamicModel.prototype.getDefaultRowValue=function(e){for(var t=null,o=0;o<this.columns.length;o++){var n=this.columns[o].templateQuestion;n&&!this.isValueEmpty(n.getDefaultValue())&&((t=t||{})[this.columns[o].name]=n.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var r in this.defaultRowValue)(t=t||{})[r]=this.defaultRowValue[r];if(e&&this.defaultValueFromLastRow){var i=this.value;if(i&&Array.isArray(i)&&i.length>=this.rowCount-1){var s=i[this.rowCount-2];for(var r in s)(t=t||{})[r]=s[r]}}return t},QuestionMatrixDynamicModel.prototype.focusAddBUtton=function(){var e=this.getRootElement();if(e&&this.cssClasses.buttonAdd){var t=e.querySelectorAll("."+this.cssClasses.buttonAdd)[0];t&&t.focus()}},QuestionMatrixDynamicModel.prototype.getActionCellIndex=function(e){var t=this.showHeader?1:0;return this.isColumnLayoutHorizontal?e.cells.length-1+t:this.visibleRows.indexOf(e)+t},QuestionMatrixDynamicModel.prototype.removeRowUI=function(e){var t=this;if(e&&e.rowName){var o=this.visibleRows.indexOf(e);if(o<0)return;e=o}this.removeRow(e,void 0,function(){var e=t.visibleRows.length,n=o>=e?e-1:o,r=n>-1?t.visibleRows[n]:void 0;setTimeout(function(){r?t.renderedTable.focusActionCell(r,t.getActionCellIndex(r)):t.focusAddBUtton()},10)})},QuestionMatrixDynamicModel.prototype.isRequireConfirmOnRowDelete=function(e){if(!this.confirmDelete||e<0||e>=this.rowCount)return!1;var t=this.createNewValue();return!this.isValueEmpty(t)&&!!Array.isArray(t)&&!(e>=t.length)&&!this.isValueEmpty(t[e])},QuestionMatrixDynamicModel.prototype.removeRow=function(e,t,o){var n=this;if(this.canRemoveRows&&!(e<0)&&!(e>=this.rowCount)){var r=this.visibleRows&&e<this.visibleRows.length?this.visibleRows[e]:null;if(void 0===t&&(t=this.isRequireConfirmOnRowDelete(e)),t){confirmActionAsync(this.confirmDeleteText,function(){n.removeRowAsync(e,r),o&&o()},void 0,this.getLocale(),this.survey.rootElement);return}this.removeRowAsync(e,r),o&&o()}},QuestionMatrixDynamicModel.prototype.removeRowAsync=function(e,t){(!t||!this.survey||this.survey.matrixRowRemoving(this,e,t))&&(this.onStartRowAddingRemoving(),this.removeRowCore(e),this.onEndRowRemoving(t))},QuestionMatrixDynamicModel.prototype.removeRowCore=function(e){var t=this.generatedVisibleRows?this.generatedVisibleRows[e]:null;if(this.generatedVisibleRows&&e<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(e,1),this.rowCountValue--,this.value){var o=[];(o=Array.isArray(this.value)&&e<this.value.length?this.createValueCopy():this.createNewValue()).splice(e,1),o=this.deleteRowValue(o,null),this.isRowChanging=!0,this.value=o,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,e,t)},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(e){this.setLocalizableStringText("addRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(e){this.setPropertyValue("addRowLocation",e)},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(e){this.setPropertyValue("hideColumnsIfEmpty",e)},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(e){this.setLocalizableStringText("removeRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(e){this.setLocalizableStringText("emptyRowsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixDynamicModel.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.getDisplayValueCore=function(e,t){if(!t||!Array.isArray(t))return t;for(var o=this.getUnbindValue(t),n=this.visibleRows,r=0;r<n.length&&r<o.length;r++){var i=o[r];i&&(o[r]=this.getRowDisplayValue(e,n[r],i))}return o},QuestionMatrixDynamicModel.prototype.getConditionObjectRowName=function(e){return"["+e.toString()+"]"},QuestionMatrixDynamicModel.prototype.getConditionObjectsRowIndeces=function(){for(var e=[],t=Math.max(this.rowCount,1),o=0;o<Math.min(t0.matrix.maxRowCountInCondition,t);o++)e.push(o);return e},QuestionMatrixDynamicModel.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(QuestionMatrixDynamicModel.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),QuestionMatrixDynamicModel.prototype.onCheckForErrors=function(t,o,n){e.prototype.onCheckForErrors.call(this,t,o,n),!o&&this.hasErrorInMinRows()&&t.push(new os(this.minRowCount,this))},QuestionMatrixDynamicModel.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var e=0,t=0;t<this.generatedVisibleRows.length;t++)!this.generatedVisibleRows[t].isEmpty&&e++;return e<this.minRowCount},QuestionMatrixDynamicModel.prototype.getUniqueColumnsNames=function(){var t=e.prototype.getUniqueColumnsNames.call(this),o=this.keyName;return o&&0>t.indexOf(o)&&t.push(o),t},QuestionMatrixDynamicModel.prototype.generateRows=function(){var e=[];if(0===this.rowCount)return e;for(var t=this.createNewValue(),o=0;o<this.rowCount;o++)e.push(this.createMatrixRow(this.getRowValueByIndex(t,o)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=t),e},QuestionMatrixDynamicModel.prototype.createMatrixRow=function(e){return new nm(this.rowCounter++,this,e)},QuestionMatrixDynamicModel.prototype.getInsertedDeletedIndex=function(e,t){for(var o=Math.min(e.length,t.length),n=0;n<o;n++)if(t[n]!==e[n].editingObj)return n;return o},QuestionMatrixDynamicModel.prototype.isEditingObjectValueChanged=function(){var e=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(e))return!1;var t=this.lastDeletedRow;this.lastDeletedRow=void 0;var o=this.generatedVisibleRows;if(!Array.isArray(e)||Math.abs(o.length-e.length)>1||o.length===e.length)return!1;var n=this.getInsertedDeletedIndex(o,e);if(o.length>e.length){this.lastDeletedRow=o[n];var r=o[n];o.splice(n,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(r)}else{var i=void 0;t&&t.editingObj===e[n]?i=t:(t=void 0,i=this.createMatrixRow(e[n])),o.splice(n,0,i),t||this.onMatrixRowCreated(i),this.isRendredTableCreated&&this.renderedTable.onAddedRow(i,n)}return this.setPropertyValueDirectly("rowCount",e.length),!0},QuestionMatrixDynamicModel.prototype.updateValueFromSurvey=function(t,o){if(void 0===o&&(o=!1),this.setRowCountValueFromData=!0,this.minRowCount>0&&eQ.isValueEmpty(t)&&!eQ.isValueEmpty(this.defaultRowValue)){t=[];for(var n=0;n<this.minRowCount;n++)t.push(eQ.createCopy(this.defaultRowValue))}e.prototype.updateValueFromSurvey.call(this,t,o),this.setRowCountValueFromData=!1},QuestionMatrixDynamicModel.prototype.getFilteredDataCore=function(){var e=[],t=this.createValueCopy();if(!Array.isArray(t))return e;for(var o=this.generatedVisibleRows,n=0;n<o.length&&n<t.length;n++){var r=t[n];o[n].isVisible&&!eQ.isValueEmpty(r)&&e.push(r)}return e},QuestionMatrixDynamicModel.prototype.onBeforeValueChanged=function(e){if(e&&Array.isArray(e)){var t=e.length;if(!(t==this.rowCount||!this.setRowCountValueFromData&&t<this.initialRowCount||this.isEditingObjectValueChanged())&&(this.setRowCountValueFromData=!0,this.rowCountValue=t,this.generatedVisibleRows)){if(t==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();var o=this.getRowValueByIndex(e,t-1),n=this.createMatrixRow(o);this.generatedVisibleRows.push(n),this.onMatrixRowCreated(n),this.onEndRowAdding()}else this.clearGeneratedRows(),this.getVisibleRows(),this.onRowsChanged();this.setRowCountValueFromData=!1}}},QuestionMatrixDynamicModel.prototype.createNewValue=function(){var e=this.createValueCopy();e&&Array.isArray(e)||(e=[]),e.length>this.rowCount&&e.splice(this.rowCount);var t=this.getDefaultRowValue(!1);t=t||{};for(var o=e.length;o<this.rowCount;o++)e.push(this.getUnbindValue(t));return e},QuestionMatrixDynamicModel.prototype.deleteRowValue=function(e,t){if(!Array.isArray(e))return e;for(var o=!0,n=0;n<e.length;n++)if(this.isObject(e[n])&&Object.keys(e[n]).length>0){o=!1;break}return o?null:e},QuestionMatrixDynamicModel.prototype.getRowValueByIndex=function(e,t){return Array.isArray(e)&&t>=0&&t<e.length?e[t]:null},QuestionMatrixDynamicModel.prototype.getRowValueCore=function(e,t,o){if(void 0===o&&(o=!1),!this.generatedVisibleRows)return{};var n=this.getRowValueByIndex(t,this.generatedVisibleRows.indexOf(e));return!n&&o&&(n={}),n},QuestionMatrixDynamicModel.prototype.getAddRowButtonCss=function(e){return void 0===e&&(e=!1),new tP().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,e).toString()},QuestionMatrixDynamicModel.prototype.getRemoveRowButtonCss=function(){return new tP().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},QuestionMatrixDynamicModel.prototype.getRootCss=function(){var t;return new tP().append(e.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(null===(t=this.renderedTable)||void 0===t?void 0:t.showTable)).toString()},QuestionMatrixDynamicModel}(nt),nb=function(e){function QuestionMatrixDynamicRenderedTable(){return null!==e&&e.apply(this,arguments)||this}return ny(QuestionMatrixDynamicRenderedTable,e),QuestionMatrixDynamicRenderedTable.prototype.setDefaultRowActions=function(t,o){e.prototype.setDefaultRowActions.call(this,t,o)},QuestionMatrixDynamicRenderedTable}(o7);eY.addClass("matrixdynamic",[{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:t0.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(e){return!e||e.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(e){return!e||e.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(e){return"none"!==e.detailPanelMode}},"allowRowsDragAndDrop:switch"],function(){return new nv("")},"matrixdropdownbase"),oJ.Instance.registerQuestion("matrixdynamic",function(e){var t=new nv(e);return t.choices=[1,2,3,4,5],nt.addDefaultColumns(t),t});var nC={currentType:"",getCss:function(){var e=this.currentType?this[this.currentType]:nw;return e||(e=nw),e},getAvailableThemes:function(){return Object.keys(this).filter(function(e){return -1===["currentType","getCss","getAvailableThemes"].indexOf(e)})}},nw={root:"sd-root-modern",rootProgress:"sd-progress",rootMobile:"sd-root-modern--mobile",rootAnimationDisabled:"sd-root-modern--animation-disabled",rootReadOnly:"sd-root--readonly",rootCompact:"sd-root--compact",rootFitToContainer:"sd-root-modern--full-container",rootWrapper:"sd-root-modern__wrapper",rootWrapperFixed:"sd-root-modern__wrapper--fixed",rootWrapperHasImage:"sd-root-modern__wrapper--has-image",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",bodyLoading:"sd-body--loading",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",completedBeforePage:"sd-completed-before-page",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:"sd-btn sd-btn--small"},panel:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-element__content sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",nested:"sd-element--nested sd-element--nested-with-borders",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact",errorsContainer:"sd-panel__errbox sd-element__erbox sd-element__erbox--above-element"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",iconRemove:"sd-hidden",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",nested:"sd-element--nested sd-element--nested-with-borders",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelsContainer:"sd-paneldynamic__panels-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",panelWrapperEnter:"sd-paneldynamic__panel-wrapper--enter",panelWrapperLeave:"sd-paneldynamic__panel-wrapper--leave",panelWrapperList:"sd-paneldynamic__panel-wrapper--list",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsRoot:"sd-progress-buttons",progressButtonsNumbered:"sd-progress-buttons--numbered",progressButtonsFitSurveyWidth:"sd-progress-buttons--fit-survey-width",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsConnector:"sd-progress-buttons__connector",progressButtonsButton:"sd-progress-buttons__button",progressButtonsButtonBackground:"sd-progress-buttons__button-background",progressButtonsButtonContent:"sd-progress-buttons__button-content",progressButtonsHeader:"sd-progress-buttons__header",progressButtonsFooter:"sd-progress-buttons__footer",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description",number:"sd-page__num",errorsContainer:"sd-page__errbox"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",rowEnter:"sd-row--enter",rowDelayedEnter:"sd-row--delayed-enter",rowLeave:"sd-row--leave",rowReplace:"sd-row--replace",pageRow:"sd-page__row",question:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",mobile:"sd-question--mobile",mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-element__content sd-question__content",contentSupportContainerQueries:"sd-question__content--support-container-queries",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleTopRoot:"sd-question--title-top",descriptionUnderInputRoot:"sd-question--description-under-input",titleBottomRoot:"sd-question--title-bottom",titleOnAnswer:"sd-question__title--answer",titleEmpty:"sd-question__title--empty",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleReadOnly:"sd-element__title--readonly",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",hasErrorTop:"sd-question--error-top",hasErrorBottom:"sd-question--error-bottom",collapsed:"sd-element--collapsed",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex sd-composite",disabled:"sd-question--disabled",readOnly:"sd-question--readonly",preview:"sd-question--preview",noPointerEventsMode:"sd-question--no-pointer-events",errorsContainer:"sd-element__erbox sd-question__erbox",errorsContainerTop:"sd-element__erbox--above-element sd-question__erbox--above-question",errorsContainerBottom:"sd-question__erbox--below-question"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:"",nested:"sd-element--nested sd-html--nested"},error:{root:"sd-error",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemReadOnly:"sd-item--readonly sd-checkbox--readonly",itemPreview:"sd-item--preview sd-checkbox--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-check-16x16",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemExchanged:"sd-boolean--exchanged",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemReadOnly:"sd-boolean--readonly",itemPreview:"sd-boolean--preview",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",labelTrue:"sd-boolean__label--true",labelFalse:"sd-boolean__label--false",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",labelReadOnly:"sd-checkbox__label--readonly",labelPreview:"sd-checkbox__label--preview",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioItemDisabled:"sd-item--disabled sd-radio--disabled",radioItemReadOnly:"sd-item--readonly sd-radio--readonly",radioItemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-item--disabled sd-checkbox--disabled",checkboxItemReadOnly:"sd-item--readonly sd-checkbox--readonly",checkboxItemPreview:"sd-item--preview sd-checkbox--preview",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-check-16x16"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",constrolWithCharacterCounter:"sd-text__character-counter",characterCounterBig:"sd-text__character-counter--big",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",rootMobile:"sd-multipletext--mobile",itemLabel:"sd-multipletext__item-container sd-input",itemLabelReadOnly:"sd-input--readonly",itemLabelDisabled:"sd-input--disabled",itemLabelPreview:"sd-input--preview",itemLabelOnError:"sd-multipletext__item-container--error",itemLabelAllowFocus:"sd-multipletext__item-container--allow-focus",itemLabelAnswered:"sd-multipletext__item-container--answered",itemWithCharacterCounter:"sd-multipletext-item__character-counter",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell",cellError:"sd-multipletext__cell--error",cellErrorTop:"sd-multipletext__cell--error-top",cellErrorBottom:"sd-multipletext__cell--error-bottom"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-cancel",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemReadOnly:"sd-imagepicker__item--readonly",itemPreview:"sd-imagepicker__item--preview",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-check-24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",rowDisabled:"sd-table__row-disabled",rowReadOnly:"sd-table__row-readonly",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-check-16x16",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",itemCell:"sd-table__cell--item",row:"sd-table__row",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",expandedRow:"sd-table__row--expanded",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",row:"sd-table__row",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",expandedRow:"sd-table__row--expanded",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"sd-hidden",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-drag-24x24",footer:"sd-matrixdynamic__footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",draggedRow:"sv-matrixdynamic-dragged-row",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-matrix__question-wrapper sd-table__question-wrapper",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-rating--wrappable",rootLabelsTop:"sd-rating--labels-top",rootLabelsBottom:"sd-rating--labels-bottom",rootLabelsDiagonal:"sd-rating--labels-diagonal",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarReadOnly:"sd-rating__item-star--readonly",itemStarPreview:"sd-rating__item-star--preview",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyReadOnly:"sd-rating__item-smiley--readonly",itemSmileyPreview:"sd-rating__item-smiley--preview",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemReadOnly:"sd-rating__item--readonly",itemPreview:"sd-rating__item--preview",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",rootDragging:"sd-file--dragging",rootAnswered:"sd-file--answered",rootDisabled:"sd-file--disabled",rootReadOnly:"sd-file--readonly",rootPreview:"sd-file--preview",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",previewItem:"sd-file__preview-item",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",controlDisabled:"sd-file__choose-file-btn--disabled",removeButton:"sd-context-btn--negative",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-close_16x16",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn--small sd-context-btn--with-border sd-context-btn--colorful sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",imageWrapperDefaultImage:"sd-file__image-wrapper--default-image",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile",videoContainer:"sd-file__video-container",contextButton:"sd-context-btn",video:"sd-file__video",actionsContainer:"sd-file__actions-container",closeCameraButton:"sd-file__close-camera-button",changeCameraButton:"sd-file__change-camera-button",takePictureButton:"sd-file__take-picture-button",loadingIndicator:"sd-file__loading-indicator",page:"sd-file__page"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas sd-signaturepad__canvas",backgroundImage:"sjs_sp__background-image sd-signaturepad__background-image",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear",loadingIndicator:"sd-signaturepad__loading-indicator"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootReadOnly:"sd-ranking--readonly",rootPreview:"sd-ranking--preview",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankEmptyValueMod:"sv-ranking--select-to-rank-empty-value",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",itemReadOnly:"sv-ranking-item--readonly",itemPreview:"sv-ranking-item--preview",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-check-16x16",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-cancel-24x24",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlEditable:"sd-input--editable",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}},nP="defaultV2";nC[nP]=nw;var nx=function(){function dxSurveyService(){}return Object.defineProperty(dxSurveyService,"serviceUrl",{get:function(){return t0.web.surveyServiceUrl},set:function(e){t0.web.surveyServiceUrl=e},enumerable:!1,configurable:!0}),dxSurveyService.prototype.loadSurvey=function(e,t){var o=new XMLHttpRequest;o.open("GET",this.serviceUrl+"/getSurvey?surveyId="+e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){var e=JSON.parse(o.response);t(200==o.status,e,o.response)},o.send()},dxSurveyService.prototype.getSurveyJsonAndIsCompleted=function(e,t,o){var n=new XMLHttpRequest;n.open("GET",this.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+e+"&clientId="+t),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){var e=JSON.parse(n.response),t=e?e.survey:null,r=e?e.isCompleted:null;o(200==n.status,t,r,n.response)},n.send()},dxSurveyService.prototype.canSendResult=function(e){return!this.isSurveJSIOService||JSON.stringify(e).length<65536},Object.defineProperty(dxSurveyService.prototype,"isSurveJSIOService",{get:function(){return this.serviceUrl.indexOf("surveyjs.io")>=0},enumerable:!1,configurable:!0}),dxSurveyService.prototype.sendResult=function(e,t,o,n,r){void 0===n&&(n=null),void 0===r&&(r=!1),this.canSendResult(t)?this.sendResultCore(e,t,o,n,r):o(!1,getLocaleString("savingExceedSize",this.locale),void 0)},dxSurveyService.prototype.sendResultCore=function(e,t,o,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var i=new XMLHttpRequest;i.open("POST",this.serviceUrl+"/post/"),i.setRequestHeader("Content-Type","application/json; charset=utf-8");var s={postId:e,surveyResult:JSON.stringify(t)};n&&(s.clientId=n),r&&(s.isPartialCompleted=!0);var a=JSON.stringify(s);i.onload=i.onerror=function(){o&&o(200===i.status,i.response,i)},i.send(a)},dxSurveyService.prototype.sendFile=function(e,t,o){var n=new XMLHttpRequest;n.onload=n.onerror=function(){o&&o(200==n.status,JSON.parse(n.response))},n.open("POST",this.serviceUrl+"/upload/",!0);var r=new FormData;r.append("file",t),r.append("postId",e),n.send(r)},dxSurveyService.prototype.getResult=function(e,t,o){var n=new XMLHttpRequest;n.open("GET",this.serviceUrl+"/getResult?resultId="+e+"&name="+t),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){var e=null,t=null;if(200==n.status)for(var r in e=JSON.parse(n.response),t=[],e.QuestionResult){var i={name:r,value:e.QuestionResult[r]};t.push(i)}o(200==n.status,e,t,n.response)},n.send()},dxSurveyService.prototype.isCompleted=function(e,t,o){var n=new XMLHttpRequest;n.open("GET",this.serviceUrl+"/isCompleted?resultId="+e+"&clientId="+t),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){var e=null;200==n.status&&(e=JSON.parse(n.response)),o(200==n.status,e,n.response)},n.send()},Object.defineProperty(dxSurveyService.prototype,"serviceUrl",{get:function(){return dxSurveyService.serviceUrl||""},enumerable:!1,configurable:!0}),dxSurveyService}(),nM={setTimeout:function(e){return nM.safeTimeOut(e,1e3)},clearTimeout:function(e){clearTimeout(e)},safeTimeOut:function(e,t){return t<=0?(e(),0):setTimeout(e,t)},now:function(){return Date.now()}},nV=function(){function SurveyTimer(){this.listenerCounter=0,this.timerId=-1,this.onTimerTick=new tv,this.onTimer=this.onTimerTick}return Object.defineProperty(SurveyTimer,"instance",{get:function(){return SurveyTimer.instanceValue||(SurveyTimer.instanceValue=new SurveyTimer),SurveyTimer.instanceValue},enumerable:!1,configurable:!0}),SurveyTimer.prototype.start=function(e){var t=this;void 0===e&&(e=null),e&&this.onTimerTick.add(e),this.prevTimeInMs=nM.now(),this.timerId<0&&(this.timerId=nM.setTimeout(function(){t.doTimer()})),this.listenerCounter++},SurveyTimer.prototype.stop=function(e){void 0===e&&(e=null),e&&this.onTimerTick.remove(e),this.listenerCounter--,0==this.listenerCounter&&this.timerId>-1&&(nM.clearTimeout(this.timerId),this.timerId=-1)},SurveyTimer.prototype.doTimer=function(){var e=this;if((this.onTimerTick.isEmpty||0==this.listenerCounter)&&(this.timerId=-1),!(this.timerId<0)){var t=nM.now(),o=Math.floor((t-this.prevTimeInMs)/1e3);this.prevTimeInMs=t,o<0&&(o=1);var n=this.timerId;this.onTimerTick.fire(this,{seconds:o}),n===this.timerId&&(this.timerId=nM.setTimeout(function(){e.doTimer()}))}},SurveyTimer.instanceValue=null,SurveyTimer}(),nS=(Q=function(e,t){return(Q=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}Q(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),surveyTimerModel_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},n_=function(e){function SurveyTimerModel(t){var o=e.call(this)||this;return o.timerFunc=null,o.surveyValue=t,o.onCreating(),o}return nS(SurveyTimerModel,e),Object.defineProperty(SurveyTimerModel.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),SurveyTimerModel.prototype.onCreating=function(){},SurveyTimerModel.prototype.start=function(){var e=this;this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){e.update()}),this.timerFunc=function(t,o){e.doTimer(o.seconds)},this.setIsRunning(!0),this.update(),nV.instance.start(this.timerFunc)))},SurveyTimerModel.prototype.stop=function(){this.isRunning&&(this.setIsRunning(!1),nV.instance.stop(this.timerFunc))},Object.defineProperty(SurveyTimerModel.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),SurveyTimerModel.prototype.setIsRunning=function(e){this.setPropertyValue("isRunning",e)},SurveyTimerModel.prototype.update=function(){this.updateText(),this.updateProgress()},SurveyTimerModel.prototype.doTimer=function(e){var t=this.survey.currentPage;if(t){var o=t.getMaxTimeToFinish();o>0&&o<t.timeSpent+e&&(e=o-t.timeSpent),t.timeSpent=t.timeSpent+e}this.spent=this.spent+e,this.update(),this.onTimerTick&&this.onTimerTick(t)},SurveyTimerModel.prototype.updateProgress=function(){var e=this,t=this.survey.timerInfo,o=t.spent,n=t.limit;n?(0==o?(this.progress=0,setTimeout(function(){e.progress=Math.floor((o+1)/n*100)/100},0)):o<=n&&(this.progress=Math.floor((o+1)/n*100)/100),this.progress>1&&(this.progress=void 0)):this.progress=void 0},SurveyTimerModel.prototype.updateText=function(){var e=this.survey.timerClock;this.clockMajorText=e.majorText,this.clockMinorText=e.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(SurveyTimerModel.prototype,"showProgress",{get:function(){return void 0!==this.progress},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTimerModel.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTimerModel.prototype,"rootCss",{get:function(){return new tP().append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),SurveyTimerModel.prototype.getProgressCss=function(){return new tP().append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(SurveyTimerModel.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTimerModel.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTimerModel.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),surveyTimerModel_decorate([jsonobject_property()],SurveyTimerModel.prototype,"text",void 0),surveyTimerModel_decorate([jsonobject_property()],SurveyTimerModel.prototype,"progress",void 0),surveyTimerModel_decorate([jsonobject_property()],SurveyTimerModel.prototype,"clockMajorText",void 0),surveyTimerModel_decorate([jsonobject_property()],SurveyTimerModel.prototype,"clockMinorText",void 0),surveyTimerModel_decorate([jsonobject_property({defaultValue:0})],SurveyTimerModel.prototype,"spent",void 0),SurveyTimerModel}(ty),nT=(A=function(e,t){return(A=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),notifier_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},nR=function(e){function Notifier(t){var o=e.call(this)||this;return o.cssClasses=t,o.timeout=t0.notifications.lifetime,o.timer=void 0,o.actionsVisibility={},o.showActions=!0,o.actionBar=new tV,o.actionBar.updateCallback=function(e){o.actionBar.actions.forEach(function(e){return e.cssClasses={}})},o.css=o.cssClasses.root,o}return nT(Notifier,e),Notifier.prototype.getCssClass=function(e){return new tP().append(this.cssClasses.root).append(this.cssClasses.rootWithButtons,this.actionBar.visibleActions.length>0).append(this.cssClasses.info,"error"!==e&&"success"!==e).append(this.cssClasses.error,"error"===e).append(this.cssClasses.success,"success"===e).append(this.cssClasses.shown,this.active).toString()},Notifier.prototype.updateActionsVisibility=function(e){var t=this;this.actionBar.actions.forEach(function(o){return o.visible=t.showActions&&t.actionsVisibility[o.id]===e})},Notifier.prototype.notify=function(e,t,o){var n=this;void 0===t&&(t="info"),void 0===o&&(o=!1),this.isDisplayed=!0,setTimeout(function(){n.updateActionsVisibility(t),n.message=e,n.active=!0,n.css=n.getCssClass(t),n.timer&&(clearTimeout(n.timer),n.timer=void 0),o||(n.timer=setTimeout(function(){n.timer=void 0,n.active=!1,n.css=n.getCssClass(t)},n.timeout))},1)},Notifier.prototype.addAction=function(e,t){e.visible=!1,e.innerCss=this.cssClasses.button;var o=this.actionBar.addAction(e);this.actionsVisibility[o.id]=t},notifier_decorate([jsonobject_property({defaultValue:!1})],Notifier.prototype,"active",void 0),notifier_decorate([jsonobject_property({defaultValue:!1})],Notifier.prototype,"isDisplayed",void 0),notifier_decorate([jsonobject_property()],Notifier.prototype,"message",void 0),notifier_decorate([jsonobject_property()],Notifier.prototype,"css",void 0),Notifier}(ty),nO=(L=function(e,t){return(L=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),header_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},nI=function(){function CoverCell(e,t,o){this.cover=e,this.positionX=t,this.positionY=o}return CoverCell.prototype.calcRow=function(e){return"top"===e?1:"middle"===e?2:3},CoverCell.prototype.calcColumn=function(e){return"left"===e?1:"center"===e?2:3},CoverCell.prototype.calcAlignItems=function(e){return"left"===e?"flex-start":"center"===e?"center":"flex-end"},CoverCell.prototype.calcAlignText=function(e){return"left"===e?"start":"center"===e?"center":"end"},CoverCell.prototype.calcJustifyContent=function(e){return"top"===e?"flex-start":"middle"===e?"center":"flex-end"},Object.defineProperty(CoverCell.prototype,"survey",{get:function(){return this.cover.survey},enumerable:!1,configurable:!0}),Object.defineProperty(CoverCell.prototype,"css",{get:function(){return CoverCell.CLASSNAME+" "+CoverCell.CLASSNAME+"--"+this.positionX+" "+CoverCell.CLASSNAME+"--"+this.positionY},enumerable:!1,configurable:!0}),Object.defineProperty(CoverCell.prototype,"style",{get:function(){var e={};return e.gridColumn=this.calcColumn(this.positionX),e.gridRow=this.calcRow(this.positionY),e},enumerable:!1,configurable:!0}),Object.defineProperty(CoverCell.prototype,"contentStyle",{get:function(){var e={};return e.textAlign=this.calcAlignText(this.positionX),e.alignItems=this.calcAlignItems(this.positionX),e.justifyContent=this.calcJustifyContent(this.positionY),e},enumerable:!1,configurable:!0}),Object.defineProperty(CoverCell.prototype,"showLogo",{get:function(){return this.survey.hasLogo&&this.positionX===this.cover.logoPositionX&&this.positionY===this.cover.logoPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(CoverCell.prototype,"showTitle",{get:function(){return this.survey.hasTitle&&this.positionX===this.cover.titlePositionX&&this.positionY===this.cover.titlePositionY},enumerable:!1,configurable:!0}),Object.defineProperty(CoverCell.prototype,"showDescription",{get:function(){return this.survey.renderedHasDescription&&this.positionX===this.cover.descriptionPositionX&&this.positionY===this.cover.descriptionPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(CoverCell.prototype,"textAreaWidth",{get:function(){return this.cover.textAreaWidth?""+this.cover.textAreaWidth+"px":""},enumerable:!1,configurable:!0}),CoverCell.CLASSNAME="sv-header__cell",CoverCell}(),nE=function(e){function Cover(){var t=e.call(this)||this;return t.cells=[],["top","middle","bottom"].forEach(function(e){return["left","center","right"].forEach(function(o){return t.cells.push(new nI(t,o,e))})}),t.init(),t}return nO(Cover,e),Cover.prototype.calcBackgroundSize=function(e){return"fill"===e?"100% 100%":"tile"===e?"auto":e},Cover.prototype.updateHeaderClasses=function(){this.headerClasses=new tP().append("sv-header").append("sv-header__without-background","transparent"===this.backgroundColor&&!this.backgroundImage).append("sv-header__background-color--none","transparent"===this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--accent",!this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--custom",!!this.backgroundColor&&"transparent"!==this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__overlap",this.overlapEnabled).toString()},Cover.prototype.updateContentClasses=function(){var e=!!this.survey&&this.survey.calculateWidthMode();this.maxWidth="survey"===this.inheritWidthFrom&&!!e&&"static"===e&&this.survey.renderedWidth,this.contentClasses=new tP().append("sv-header__content").append("sv-header__content--static","survey"===this.inheritWidthFrom&&!!e&&"static"===e).append("sv-header__content--responsive","container"===this.inheritWidthFrom||!!e&&"responsive"===e).toString()},Cover.prototype.updateBackgroundImageClasses=function(){this.backgroundImageClasses=new tP().append("sv-header__background-image").append("sv-header__background-image--contain","contain"===this.backgroundImageFit).append("sv-header__background-image--tile","tile"===this.backgroundImageFit).toString()},Cover.prototype.fromTheme=function(t){e.prototype.fromJSON.call(this,t.header||{}),t.cssVariables&&(this.backgroundColor=t.cssVariables["--sjs-header-backcolor"],this.titleColor=t.cssVariables["--sjs-font-headertitle-color"],this.descriptionColor=t.cssVariables["--sjs-font-headerdescription-color"]),this.init()},Cover.prototype.init=function(){this.renderBackgroundImage=wrapUrlForBackgroundImage(this.backgroundImage),this.updateHeaderClasses(),this.updateContentClasses(),this.updateBackgroundImageClasses()},Cover.prototype.getType=function(){return"cover"},Object.defineProperty(Cover.prototype,"renderedHeight",{get:function(){return(!this.survey||this.survey.isMobile)&&this.survey?this.survey&&this.survey.isMobile&&this.mobileHeight?Math.max(this.mobileHeight,this.actualHeight)+"px":void 0:this.height?Math.max(this.height,this.actualHeight+40)+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(Cover.prototype,"renderedtextAreaWidth",{get:function(){return this.textAreaWidth?this.textAreaWidth+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(Cover.prototype,"survey",{get:function(){return this._survey},set:function(e){var t=this;this._survey!==e&&(this._survey=e,e&&(this.updateContentClasses(),this._survey.onPropertyChanged.add(function(e,o){("widthMode"==o.name||"width"==o.name)&&t.updateContentClasses()})))},enumerable:!1,configurable:!0}),Object.defineProperty(Cover.prototype,"backgroundImageStyle",{get:function(){return this.backgroundImage?{opacity:this.backgroundImageOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.calcBackgroundSize(this.backgroundImageFit)}:null},enumerable:!1,configurable:!0}),Cover.prototype.propertyValueChanged=function(t,o,n,r,i){e.prototype.propertyValueChanged.call(this,t,o,n),("backgroundColor"===t||"backgroundImage"===t||"overlapEnabled"===t)&&this.updateHeaderClasses(),"inheritWidthFrom"===t&&this.updateContentClasses(),"backgroundImageFit"===t&&this.updateBackgroundImageClasses()},Cover.prototype.calculateActualHeight=function(e,t,o){var n=["top","middle","bottom"],r=n.indexOf(this.logoPositionY),i=n.indexOf(this.titlePositionY),s=n.indexOf(this.descriptionPositionY),a=["left","center","right"],l=a.indexOf(this.logoPositionX),u=a.indexOf(this.titlePositionX),c=a.indexOf(this.descriptionPositionX),p=[[0,0,0],[0,0,0],[0,0,0]];return p[r][l]=e,p[i][u]+=t,p[s][c]+=o,p.reduce(function(e,t){return e+Math.max.apply(Math,t)},0)},Cover.prototype.processResponsiveness=function(e){if(this.survey&&this.survey.rootElement){if(this.survey.isMobile){var t=this.survey.rootElement.querySelectorAll(".sv-header > div")[0];this.actualHeight=t?t.getBoundingClientRect().height:0}else{var o=this.survey.rootElement.querySelectorAll(".sv-header__logo")[0],n=this.survey.rootElement.querySelectorAll(".sv-header__title")[0],r=this.survey.rootElement.querySelectorAll(".sv-header__description")[0],i=o?o.getBoundingClientRect().height:0,s=n?n.getBoundingClientRect().height:0,a=r?r.getBoundingClientRect().height:0;this.actualHeight=this.calculateActualHeight(i,s,a)}}},Object.defineProperty(Cover.prototype,"hasBackground",{get:function(){return!!this.backgroundImage||"transparent"!==this.backgroundColor},enumerable:!1,configurable:!0}),header_decorate([jsonobject_property({defaultValue:0})],Cover.prototype,"actualHeight",void 0),header_decorate([jsonobject_property()],Cover.prototype,"height",void 0),header_decorate([jsonobject_property()],Cover.prototype,"mobileHeight",void 0),header_decorate([jsonobject_property()],Cover.prototype,"inheritWidthFrom",void 0),header_decorate([jsonobject_property()],Cover.prototype,"textAreaWidth",void 0),header_decorate([jsonobject_property()],Cover.prototype,"textGlowEnabled",void 0),header_decorate([jsonobject_property()],Cover.prototype,"overlapEnabled",void 0),header_decorate([jsonobject_property()],Cover.prototype,"backgroundColor",void 0),header_decorate([jsonobject_property()],Cover.prototype,"titleColor",void 0),header_decorate([jsonobject_property()],Cover.prototype,"descriptionColor",void 0),header_decorate([jsonobject_property({onSet:function(e,t){t.renderBackgroundImage=wrapUrlForBackgroundImage(e)}})],Cover.prototype,"backgroundImage",void 0),header_decorate([jsonobject_property()],Cover.prototype,"renderBackgroundImage",void 0),header_decorate([jsonobject_property()],Cover.prototype,"backgroundImageFit",void 0),header_decorate([jsonobject_property()],Cover.prototype,"backgroundImageOpacity",void 0),header_decorate([jsonobject_property()],Cover.prototype,"logoPositionX",void 0),header_decorate([jsonobject_property()],Cover.prototype,"logoPositionY",void 0),header_decorate([jsonobject_property()],Cover.prototype,"titlePositionX",void 0),header_decorate([jsonobject_property()],Cover.prototype,"titlePositionY",void 0),header_decorate([jsonobject_property()],Cover.prototype,"descriptionPositionX",void 0),header_decorate([jsonobject_property()],Cover.prototype,"descriptionPositionY",void 0),header_decorate([jsonobject_property()],Cover.prototype,"logoStyle",void 0),header_decorate([jsonobject_property()],Cover.prototype,"titleStyle",void 0),header_decorate([jsonobject_property()],Cover.prototype,"descriptionStyle",void 0),header_decorate([jsonobject_property()],Cover.prototype,"headerClasses",void 0),header_decorate([jsonobject_property()],Cover.prototype,"contentClasses",void 0),header_decorate([jsonobject_property()],Cover.prototype,"maxWidth",void 0),header_decorate([jsonobject_property()],Cover.prototype,"backgroundImageClasses",void 0),Cover}(ty);eY.addClass("cover",[{name:"height:number",minValue:0,default:256},{name:"mobileHeight:number",minValue:0,default:0},{name:"inheritWidthFrom",default:"container"},{name:"textAreaWidth:number",minValue:0,default:512},{name:"textGlowEnabled:boolean"},{name:"overlapEnabled:boolean"},{name:"backgroundImage:file"},{name:"backgroundImageOpacity:number",minValue:0,maxValue:1,default:1},{name:"backgroundImageFit",default:"cover",choices:["cover","fill","contain"]},{name:"logoPositionX",default:"right"},{name:"logoPositionY",default:"top"},{name:"titlePositionX",default:"left"},{name:"titlePositionY",default:"bottom"},{name:"descriptionPositionX",default:"left"},{name:"descriptionPositionY",default:"bottom"}],function(){return new nE});var nD=(k=function(e,t){return(k=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),surveyTaskManager_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},SurveyTaskModel=function(e){this.type=e,this.timestamp=new Date},nQ=function(e){function SurveyTaskManagerModel(){var t=e.call(this)||this;return t.taskList=[],t.onAllTasksCompleted=t.addEvent(),t}return nD(SurveyTaskManagerModel,e),SurveyTaskManagerModel.prototype.runTask=function(e,t){var o=this,n=new SurveyTaskModel(e);return this.taskList.push(n),this.hasActiveTasks=!0,t(function(){return o.taskFinished(n)}),n},SurveyTaskManagerModel.prototype.waitAndExecute=function(e){if(!this.hasActiveTasks){e();return}this.onAllTasksCompleted.add(function(){e()})},SurveyTaskManagerModel.prototype.taskFinished=function(e){var t=this.taskList.indexOf(e);t>-1&&this.taskList.splice(t,1),this.hasActiveTasks&&0==this.taskList.length&&(this.hasActiveTasks=!1,this.onAllTasksCompleted.fire(this,{}))},surveyTaskManager_decorate([jsonobject_property({defaultValue:!1})],SurveyTaskManagerModel.prototype,"hasActiveTasks",void 0),SurveyTaskManagerModel}(ty),DragDropInfo=function(e,t,o){void 0===o&&(o=-1),this.source=e,this.target=t,this.nestedPanelDepth=o},nA=function(){function DragDropPanelHelperV1(e){this.panel=e}return DragDropPanelHelperV1.prototype.dragDropAddTarget=function(e){var t=this.dragDropFindRow(e.target);this.dragDropAddTargetToRow(e,t)&&this.panel.updateRowsRemoveElementFromRow(e.target,t)},DragDropPanelHelperV1.prototype.dragDropFindRow=function(e){if(!e||e.isPage)return null;for(var t=this.panel.rows,o=0;o<t.length;o++)if(t[o].elements.indexOf(e)>-1)return t[o];for(var o=0;o<this.panel.elements.length;o++){var n=this.panel.elements[o].getPanel();if(n){var r=n.dragDropFindRow(e);if(r)return r}}return null},DragDropPanelHelperV1.prototype.dragDropMoveElement=function(e,t,o){o>e.parent.elements.indexOf(e)&&o--,this.panel.removeElement(e),this.panel.addElement(t,o)},DragDropPanelHelperV1.prototype.updateRowsOnElementAdded=function(e,t,o,n){o||((o=new DragDropInfo(null,e)).target=e,o.isEdge=this.panel.elements.length>1,this.panel.elements.length<2?o.destination=n:(o.isBottom=t>0,0==t?o.destination=this.panel.elements[1]:o.destination=this.panel.elements[t-1])),this.dragDropAddTargetToRow(o,null)},DragDropPanelHelperV1.prototype.dragDropAddTargetToRow=function(e,t){if(!e.destination||this.dragDropAddTargetToEmptyPanel(e))return!0;var o=e.destination,n=this.dragDropFindRow(o);return!n||(e.target.startWithNewLine?this.dragDropAddTargetToNewRow(e,n,t):this.dragDropAddTargetToExistingRow(e,n,t))},DragDropPanelHelperV1.prototype.dragDropAddTargetToEmptyPanel=function(e){if(e.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.panel.root,e.target,e.isBottom),!0;var t=e.destination;if(t.isPanel&&!e.isEdge){if(e.target.template===t)return!1;if(e.nestedPanelDepth<0||e.nestedPanelDepth>=t.depth)return this.dragDropAddTargetToEmptyPanelCore(t,e.target,e.isBottom),!0}return!1},DragDropPanelHelperV1.prototype.dragDropAddTargetToExistingRow=function(e,t,o){var n=t.elements.indexOf(e.destination);if(0==n&&!e.isBottom){if(this.panel.isDesignModeV2);else if(t.elements[0].startWithNewLine)return t.index>0?(e.isBottom=!0,t=t.panel.rows[t.index-1],e.destination=t.elements[t.elements.length-1],this.dragDropAddTargetToExistingRow(e,t,o)):this.dragDropAddTargetToNewRow(e,t,o)}var r=-1;o==t&&(r=t.elements.indexOf(e.target)),e.isBottom&&n++;var i=this.panel.findRowByElement(e.source);return(i!=t||i.elements.indexOf(e.source)!=n)&&n!=r&&(r>-1&&(t.elements.splice(r,1),r<n&&n--),t.elements.splice(n,0,e.target),t.updateVisible(),r<0)},DragDropPanelHelperV1.prototype.dragDropAddTargetToNewRow=function(e,t,o){var n=t.panel.createRowAndSetLazy(t.panel.rows.length);this.panel.isDesignModeV2&&n.setIsLazyRendering(!1),n.addElement(e.target);var r=t.index;if(e.isBottom&&r++,o&&o.panel==n.panel&&o.index==r)return!1;var i=this.panel.findRowByElement(e.source);return(!i||i.panel!=n.panel||1!=i.elements.length||i.index!=r)&&(t.panel.rows.splice(r,0,n),!0)},DragDropPanelHelperV1.prototype.dragDropAddTargetToEmptyPanelCore=function(e,t,o){var n=e.createRow();n.addElement(t),0==e.elements.length||o?e.rows.push(n):e.rows.splice(0,0,n)},DragDropPanelHelperV1}(),nL=(j=function(e,t){return(j=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}j(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),panel_layout_column_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},nk=function(e){function PanelLayoutColumnModel(t,o){var n=e.call(this)||this;return n.effectiveWidth=t,n.questionTitleWidth=o,n}return nL(PanelLayoutColumnModel,e),PanelLayoutColumnModel.prototype.getType=function(){return"panellayoutcolumn"},PanelLayoutColumnModel.prototype.isEmpty=function(){return!this.width&&!this.questionTitleWidth},panel_layout_column_decorate([jsonobject_property()],PanelLayoutColumnModel.prototype,"width",void 0),panel_layout_column_decorate([jsonobject_property({onSet:function(e,t,o){e!==o&&(t.width=e)}})],PanelLayoutColumnModel.prototype,"effectiveWidth",void 0),panel_layout_column_decorate([jsonobject_property()],PanelLayoutColumnModel.prototype,"questionTitleWidth",void 0),PanelLayoutColumnModel}(ty);eY.addClass("panellayoutcolumn",[{name:"effectiveWidth:number",isSerializable:!1,minValue:0},{name:"width:number",visible:!1},"questionTitleWidth"],function(e){return new nk});var nj=(B=function(e,t){return(B=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),panel_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},panel_spreadArray=function(e,t){for(var o=0,n=t.length,r=e.length;o<n;o++,r++)e[r]=t[o];return e},nB=function(e){function QuestionRowModel(t){var o=e.call(this)||this;return o.panel=t,o._scrollableParent=void 0,o._updateVisibility=void 0,o.visibleElementsAnimation=new tz(o.getVisibleElementsAnimationOptions(),function(e){o.setWidth(e),o.setPropertyValue("visibleElements",e)},function(){return o.visibleElements}),o.idValue=QuestionRowModel.getRowId(),o.visible=t.areInvisibleElementsShowing,o.createNewArray("elements"),o.createNewArray("visibleElements"),o}return nj(QuestionRowModel,e),QuestionRowModel.getRowId=function(){return"pr_"+QuestionRowModel.rowCounter++},Object.defineProperty(QuestionRowModel.prototype,"allowRendering",{get:function(){return!this.panel||!this.panel.survey||!this.panel.survey.isLazyRenderingSuspended},enumerable:!1,configurable:!0}),QuestionRowModel.prototype.startLazyRendering=function(e,t){var o=this;if(void 0===t&&(t=findScrollableParent),eD.isAvailable()){this._scrollableParent=t(e),this._scrollableParent===eD.getDocumentElement()&&(this._scrollableParent=eE.getWindow());var n=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!n,n&&(this._updateVisibility=function(){if(o.allowRendering){var t=function(e,t){if(void 0===t&&(t=0),void 0===t0.environment)return!1;var o=t0.environment.root,n=isShadowDOM(o)?o.host.clientHeight:o.documentElement.clientHeight,r=e.getBoundingClientRect(),i=Math.max(n,eE.getInnerHeight()),s=-t,a=i+t;return Math.max(s,r.top)<=Math.min(a,r.bottom)}(e,50);!o.isNeedRender&&t&&(o.isNeedRender=!0,o.stopLazyRendering())}},setTimeout(function(){o._scrollableParent&&o._scrollableParent.addEventListener&&o._scrollableParent.addEventListener("scroll",o._updateVisibility),o.ensureVisibility()},10))}},QuestionRowModel.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},QuestionRowModel.prototype.stopLazyRendering=function(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},QuestionRowModel.prototype.setIsLazyRendering=function(e){this.isLazyRenderingValue=e,this.isNeedRender=!e},QuestionRowModel.prototype.isLazyRendering=function(){return!0===this.isLazyRenderingValue},Object.defineProperty(QuestionRowModel.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),QuestionRowModel.prototype.equalsCore=function(e){return this==e},Object.defineProperty(QuestionRowModel.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),QuestionRowModel.prototype.getIsAnimationAllowed=function(){var t;return e.prototype.getIsAnimationAllowed.call(this)&&this.visible&&(null===(t=this.panel)||void 0===t?void 0:t.animationAllowed)},QuestionRowModel.prototype.getVisibleElementsAnimationOptions=function(){var e=this,beforeRunAnimation=function(e){prepareElementForVerticalAnimation(e),setPropertiesOnElementForAnimation(e,{width:getElementWidth(e)+"px"})};return{getRerenderEvent:function(){return e.onElementRerendered},isAnimationEnabled:function(){return e.animationAllowed},allowSyncRemovalAddition:!1,getAnimatedElement:function(e){return e.getWrapperElement()},getLeaveOptions:function(e){return{cssClass:(e.isPanel?e.cssClasses.panel:e.cssClasses).leave,onBeforeRunAnimation:beforeRunAnimation,onAfterRunAnimation:cleanHtmlElementAfterAnimation}},getEnterOptions:function(e){return{cssClass:(e.isPanel?e.cssClasses.panel:e.cssClasses).enter,onBeforeRunAnimation:beforeRunAnimation,onAfterRunAnimation:cleanHtmlElementAfterAnimation}}}},Object.defineProperty(QuestionRowModel.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},set:function(e){if(e.length)this.visible=!0;else{this.visible=!1,this.visibleElementsAnimation.cancel();return}this.visibleElementsAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRowModel.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){this.setPropertyValue("visible",e),this.onVisibleChangedCallback&&this.onVisibleChangedCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRowModel.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(e){this.setPropertyValue("isneedrender",e)},enumerable:!1,configurable:!0}),QuestionRowModel.prototype.updateVisible=function(){for(var e=[],t=0;t<this.elements.length;t++)this.elements[t].isVisible&&e.push(this.elements[t]),(this.elements[t].isPanel||"paneldynamic"===this.elements[t].getType())&&(this.setIsLazyRendering(!1),this.stopLazyRendering());this.visibleElements=e},QuestionRowModel.prototype.addElement=function(e){this.elements.push(e),this.updateVisible()},Object.defineProperty(QuestionRowModel.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),QuestionRowModel.prototype.setWidth=function(e){var t,o=e.length;if(0!=o){for(var n=1===e.length,r=0,i=[],s=0;s<this.elements.length;s++){var a=this.elements[s];if(a.isVisible){a.isSingleInRow=n;var l=this.getElementWidth(a);l&&(a.renderWidth=this.getRenderedWidthFromWidth(l),i.push(a)),r<o-1&&!(this.panel.isDefaultV2Theme||(null===(t=this.panel.parentQuestion)||void 0===t?void 0:t.isDefaultV2Theme))?a.rightIndent=1:a.rightIndent=0,r++}else a.renderWidth=""}for(var s=0;s<this.elements.length;s++){var a=this.elements[s];!a.isVisible||i.indexOf(a)>-1||(0==i.length?a.renderWidth=Number.parseFloat((100/o).toFixed(6))+"%":a.renderWidth=this.getRenderedCalcWidth(a,i,o))}}},QuestionRowModel.prototype.getRenderedCalcWidth=function(e,t,o){for(var n="100%",r=0;r<t.length;r++)n+=" - "+t[r].renderWidth;var i=o-t.length;return i>1&&(n="("+n+")/"+i.toString()),"calc("+n+")"},QuestionRowModel.prototype.getElementWidth=function(e){var t=e.width;return t&&"string"==typeof t?t.trim():""},QuestionRowModel.prototype.getRenderedWidthFromWidth=function(e){return eQ.isNumber(e)?e+"px":e},QuestionRowModel.prototype.dispose=function(){e.prototype.dispose.call(this),this.stopLazyRendering()},QuestionRowModel.prototype.getRowCss=function(){return new tP().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||this.panel.showPanelAsPage).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},QuestionRowModel.prototype.setRootElement=function(e){this.rootElement=e},QuestionRowModel.prototype.getRootElement=function(){return this.rootElement},QuestionRowModel.rowCounter=100,panel_decorate([jsonobject_property({defaultValue:null})],QuestionRowModel.prototype,"dragTypeOverMe",void 0),QuestionRowModel}(ty),nF=function(e){function PanelModelBase(t){void 0===t&&(t="");var o=e.call(this,t)||this;return o.isQuestionsReady=!1,o.questionsValue=[],o._columns=void 0,o._columnsReady=!1,o.rowsAnimation=new tz(o.getRowsAnimationOptions(),function(e){o.setPropertyValue("visibleRows",e)},function(){return o.visibleRows}),o.isRandomizing=!1,o.onColumnPropertyValueChangedCallback=function(e,t,n,r,i){o._columnsReady&&(o.updateColumnWidth(o.layoutColumns),o.updateRootStyle())},o.locCountRowUpdates=0,o.createNewArray("rows",function(e,t){o.onAddRow(e)},function(e){o.onRemoveRow(e)}),o.createNewArray("visibleRows"),o.elementsValue=o.createNewArray("elements",o.onAddElement.bind(o),o.onRemoveElement.bind(o)),o.id=PanelModelBase.getPanelId(),o.addExpressionProperty("visibleIf",function(e,t){o.visible=!0===t},function(e){return!o.areInvisibleElementsShowing}),o.addExpressionProperty("enableIf",function(e,t){o.readOnly=!1===t}),o.addExpressionProperty("requiredIf",function(e,t){o.isRequired=!0===t}),o.createLocalizableString("requiredErrorText",o),o.createLocalizableString("navigationTitle",o,!0).onGetTextCallback=function(e){return e||o.title||o.name},o.registerPropertyChangedHandlers(["questionTitleLocation"],function(){o.onVisibleChanged.bind(o),o.updateElementCss(!0)}),o.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){o.updateVisibleIndexes()}),o.registerPropertyChangedHandlers(["title"],function(){o.calcHasTextInTitle()}),o.dragDropPanelHelper=new nA(o),o}return nj(PanelModelBase,e),PanelModelBase.getPanelId=function(){return"sp_"+PanelModelBase.panelCounter++},PanelModelBase.prototype.onAddRow=function(e){var t=this;this.onRowVisibleChanged(),e.onVisibleChangedCallback=function(){return t.onRowVisibleChanged()}},PanelModelBase.prototype.getRowsAnimationOptions=function(){var e=this;return{getRerenderEvent:function(){return e.onElementRerendered},isAnimationEnabled:function(){return e.animationAllowed},getAnimatedElement:function(e){return e.getRootElement()},getLeaveOptions:function(t,o){return{cssClass:e.cssClasses.rowLeave,onBeforeRunAnimation:prepareElementForVerticalAnimation,onAfterRunAnimation:cleanHtmlElementAfterAnimation}},getEnterOptions:function(t,o){var n=e.cssClasses;return{cssClass:new tP().append(n.rowEnter).append(n.rowDelayedEnter,o.isDeletingRunning).toString(),onBeforeRunAnimation:prepareElementForVerticalAnimation,onAfterRunAnimation:cleanHtmlElementAfterAnimation}}}},Object.defineProperty(PanelModelBase.prototype,"visibleRows",{get:function(){return this.getPropertyValue("visibleRows")},set:function(e){this.rowsAnimation.sync(e)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.onRemoveRow=function(e){e.visibleElementsAnimation.cancel(),this.visibleRows=this.rows.filter(function(e){return e.visible}),e.onVisibleChangedCallback=void 0},PanelModelBase.prototype.onRowVisibleChanged=function(){this.visibleRows=this.rows.filter(function(e){return e.visible})},PanelModelBase.prototype.getType=function(){return"panelbase"},PanelModelBase.prototype.setSurveyImpl=function(t,o){this.blockAnimations(),e.prototype.setSurveyImpl.call(this,t,o),this.isDesignMode&&this.onVisibleChanged();for(var n=0;n<this.elements.length;n++)this.elements[n].setSurveyImpl(t,o);this.releaseAnimations()},PanelModelBase.prototype.endLoadingFromJson=function(){var t=this;e.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged(),this.layoutColumns.forEach(function(e){e.onPropertyValueChangedCallback=t.onColumnPropertyValueChangedCallback})},PanelModelBase.prototype.calcHasTextInTitle=function(){this.hasTextInTitle=!!this.title},Object.defineProperty(PanelModelBase.prototype,"hasTitle",{get:function(){return this.canShowTitle(this.survey)&&(this.hasTextInTitle||this.locTitle.textOrHtml.length>0)||this.isDesignMode&&!(t0.supportCreatorV2&&this.isPanel)&&this.showTitle&&t0.designMode.showEmptyTitles},enumerable:!1,configurable:!0}),PanelModelBase.prototype.delete=function(e){void 0===e&&(e=!0),this.deletePanel(),this.removeFromParent(),e&&this.dispose()},PanelModelBase.prototype.deletePanel=function(){for(var e=this.elements,t=0;t<e.length;t++){var o=e[t];o.isPanel&&o.deletePanel(),this.onRemoveElementNotifySurvey(o)}},PanelModelBase.prototype.removeFromParent=function(){},PanelModelBase.prototype.canShowTitle=function(e){return!0},Object.defineProperty(PanelModelBase.prototype,"_showDescription",{get:function(){return(!!this.hasTitle||!this.isDesignMode)&&(this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&t0.designMode.showEmptyDescriptions)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.localeChanged=function(){e.prototype.localeChanged.call(this);for(var t=0;t<this.elements.length;t++)this.elements[t].localeChanged()},PanelModelBase.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this);for(var t=0;t<this.elements.length;t++)this.elements[t].locStrsChanged()},PanelModelBase.prototype.getMarkdownHtml=function(t,o){return"navigationTitle"===o&&this.locNavigationTitle.isEmpty?this.locTitle.renderedHtml||this.name:e.prototype.getMarkdownHtml.call(this,t,o)},Object.defineProperty(PanelModelBase.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"renderedNavigationTitle",{get:function(){return this.locNavigationTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"requiredText",{get:function(){return this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.canRandomize=function(e){return e&&"initial"!==this.questionsOrder||"random"===this.questionsOrder},PanelModelBase.prototype.randomizeElements=function(e){if(this.canRandomize(e)&&!this.isRandomizing){this.isRandomizing=!0;for(var t=[],o=this.elements,n=0;n<o.length;n++)t.push(o[n]);var r=eQ.randomizeArray(t);this.setArrayPropertyDirectly("elements",r,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(PanelModelBase.prototype,"areQuestionsRandomized",{get:function(){return"random"==("default"==this.questionsOrder&&this.survey?this.survey.questionsOrder:this.questionsOrder)},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.setPropertyValue("parent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"depth",{get:function(){return null==this.parent?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.calcCssClasses=function(e){var t={panel:{},error:{},row:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(t.panel,e.panel),this.copyCssClasses(t.error,e.error),e.pageRow&&(t.pageRow=e.pageRow),e.rowCompact&&(t.rowCompact=e.rowCompact),e.row&&(t.row=e.row),e.rowEnter&&(t.rowEnter=e.rowEnter),e.rowLeave&&(t.rowLeave=e.rowLeave),e.rowDelayedEnter&&(t.rowDelayedEnter=e.rowDelayedEnter),e.rowMultiple&&(t.rowMultiple=e.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,t),t},Object.defineProperty(PanelModelBase.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),PanelModelBase.prototype.getPanel=function(){return this},PanelModelBase.prototype.getLayoutType=function(){return"row"},PanelModelBase.prototype.isLayoutTypeSupported=function(e){return"flow"!==e},Object.defineProperty(PanelModelBase.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var e=0;e<this.elements.length;e++){var t=this.elements[e];if(t.isPanel)for(var o=t.questions,n=0;n<o.length;n++)this.questionsValue.push(o[n]);else this.questionsValue.push(t)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),PanelModelBase.prototype.getQuestions=function(e){var t=this.questions;if(!e)return t;var o=[];return t.forEach(function(e){o.push(e),e.getNestedQuestions().forEach(function(e){return o.push(e)})}),o},PanelModelBase.prototype.getValidName=function(e){return e?e.trim():e},PanelModelBase.prototype.getQuestionByName=function(e){for(var t=this.questions,o=0;o<t.length;o++)if(t[o].name==e)return t[o];return null},PanelModelBase.prototype.getElementByName=function(e){for(var t=this.elements,o=0;o<t.length;o++){var n=t[o];if(n.name==e)return n;var r=n.getPanel();if(r){var i=r.getElementByName(e);if(i)return i}}return null},PanelModelBase.prototype.getQuestionByValueName=function(e){var t=this.getQuestionsByValueName(e);return t.length>0?t[0]:null},PanelModelBase.prototype.getQuestionsByValueName=function(e){for(var t=[],o=this.questions,n=0;n<o.length;n++)o[n].getValueName()==e&&t.push(o[n]);return t},PanelModelBase.prototype.getValue=function(){var e={};return this.collectValues(e,0),eQ.getUnbindValue(e)},PanelModelBase.prototype.collectValues=function(e,t){var o=this.elements;0===t&&(o=this.questions);for(var n=0;n<o.length;n++){var r=o[n];if(r.isPanel||r.isPage){var i={};r.collectValues(i,t-1)&&(e[r.name]=i)}else if(!r.isEmpty()){var s=r.getValueName();if(e[s]=r.value,this.data){var a=this.data.getComment(s);a&&(e[s+ty.commentSuffix]=a)}}}return!0},PanelModelBase.prototype.getDisplayValue=function(e){for(var t={},o=this.questions,n=0;n<o.length;n++){var r=o[n];r.isEmpty()||(t[e?r.title:r.getValueName()]=r.getDisplayValue(e))}return t},PanelModelBase.prototype.getComments=function(){var e={};if(!this.data)return e;for(var t=this.questions,o=0;o<t.length;o++){var n=t[o],r=this.data.getComment(n.getValueName());r&&(e[n.getValueName()]=r)}return e},PanelModelBase.prototype.clearIncorrectValues=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearIncorrectValues()},PanelModelBase.prototype.clearErrors=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearErrors();this.errors=[]},PanelModelBase.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(PanelModelBase.prototype,"elements",{get:function(){return ty.collectDependency(this,"elements"),this.elementsValue},enumerable:!1,configurable:!0}),PanelModelBase.prototype.getElementsInDesign=function(e){return void 0===e&&(e=!1),this.elements},PanelModelBase.prototype.containsElement=function(e){for(var t=0;t<this.elements.length;t++){var o=this.elements[t];if(o==e)return!0;var n=o.getPanel();if(n&&n.containsElement(e))return!0}return!1},Object.defineProperty(PanelModelBase.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(e){this.setPropertyValue("isRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.searchText=function(t,o){e.prototype.searchText.call(this,t,o);for(var n=0;n<this.elements.length;n++)this.elements[n].searchText(t,o)},PanelModelBase.prototype.hasErrors=function(e,t,o){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===o&&(o=null),!this.validate(e,t,o)},PanelModelBase.prototype.validate=function(e,t,o){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===o&&(o=null),!0!==(o=o||{fireCallback:e,focusOnFirstError:t,firstErrorQuestion:null,result:!1}).result&&(o.result=!1),this.hasErrorsCore(o),!o.result},PanelModelBase.prototype.validateContainerOnly=function(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()},PanelModelBase.prototype.onQuestionValueChanged=function(e){var t=this.questions.indexOf(e);if(!(t<0)){for(var o=this.questions.length-1,n=t-5>0?t-5:0,r=t+5<o?t+5:o,i=n;i<=r;i++)if(i!==t){var s=this.questions[i];s.errors.length>0&&s.validate(!1)&&s.validate(!0)}}},PanelModelBase.prototype.hasErrorsInPanels=function(e){var t=[];if(this.hasRequiredError(e,t),this.isPanel&&this.survey){var o=this.survey.validatePanel(this);o&&(t.push(o),e.result=!0)}e.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,t),this.errors=t)},PanelModelBase.prototype.getErrorCustomText=function(e,t){return this.survey?this.survey.getSurveyErrorCustomText(this,e,t):e},PanelModelBase.prototype.hasRequiredError=function(e,t){if(this.isRequired){var o=[];if(this.addQuestionsToList(o,!0),0!=o.length){for(var n=0;n<o.length;n++)if(!o[n].isEmpty())return;e.result=!0,t.push(new t3(this.requiredErrorText,this)),e.focusOnFirstError&&!e.firstErrorQuestion&&(e.firstErrorQuestion=o[0])}}},PanelModelBase.prototype.hasErrorsCore=function(e){for(var t=this.elements,o=null,n=null,r=0;r<t.length;r++)if((o=t[r]).isVisible){if(o.isPanel)o.hasErrorsCore(e);else{var i=o;i.validate(e.fireCallback,e)||(n||(n=i),e.firstErrorQuestion||(e.firstErrorQuestion=i),e.result=!0)}}this.hasErrorsInPanels(e),this.updateContainsErrors(),n||!(this.errors.length>0)||(n=this.getFirstQuestionToFocus(!1,!0),e.firstErrorQuestion||(e.firstErrorQuestion=n)),e.fireCallback&&n&&(n===e.firstErrorQuestion&&e.focusOnFirstError?n.focus(!0):n.expandAllParents())},PanelModelBase.prototype.getContainsErrors=function(){var t=e.prototype.getContainsErrors.call(this);if(t)return t;for(var o=this.elements,n=0;n<o.length;n++)if(o[n].containsErrors)return!0;return!1},PanelModelBase.prototype.updateElementVisibility=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].updateElementVisibility();e.prototype.updateElementVisibility.call(this)},PanelModelBase.prototype.getFirstQuestionToFocus=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),!e&&!t&&this.isCollapsed)return null;for(var o=this.elements,n=0;n<o.length;n++){var r=o[n];if(r.isVisible&&(t||!r.isCollapsed)){if(r.isPanel){var i=r.getFirstQuestionToFocus(e,t);if(i)return i}else{var s=r.getFirstQuestionToFocus(e);if(s)return s}}}return null},PanelModelBase.prototype.focusFirstQuestion=function(){var e=this.getFirstQuestionToFocus();e&&e.focus()},PanelModelBase.prototype.focusFirstErrorQuestion=function(){var e=this.getFirstQuestionToFocus(!0);e&&e.focus()},PanelModelBase.prototype.addQuestionsToList=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this.addElementsToList(e,t,o,!1)},PanelModelBase.prototype.addPanelsIntoList=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this.addElementsToList(e,t,o,!0)},PanelModelBase.prototype.addElementsToList=function(e,t,o,n){(!t||this.visible)&&this.addElementsToListCore(e,this.elements,t,o,n)},PanelModelBase.prototype.addElementsToListCore=function(e,t,o,n,r){for(var i=0;i<t.length;i++){var s=t[i];(!o||s.visible)&&((r&&s.isPanel||!r&&!s.isPanel)&&e.push(s),s.isPanel?s.addElementsToListCore(e,s.elements,o,n,r):n&&this.addElementsToListCore(e,s.getElementsInDesign(!1),o,n,r))}},PanelModelBase.prototype.calcMaxRowColSpan=function(){var e=0;return this.rows.forEach(function(t){var o=0,n=!1;t.elements.forEach(function(e){e.width&&(n=!0),o+=e.colSpan||1}),!n&&o>e&&(e=o)}),e},PanelModelBase.prototype.updateColumnWidth=function(e){var t=0,o=0;if(e.forEach(function(e){e.width?(t+=e.width,e.setPropertyValue("effectiveWidth",e.width)):o++}),o)for(var n=Math.round(100*((100-t)/o))/100,r=0;r<e.length;r++)e[r].width||e[r].setPropertyValue("effectiveWidth",n)},PanelModelBase.prototype.updateColumns=function(){this._columns=void 0,this.updateRootStyle()},PanelModelBase.prototype.updateRootStyle=function(){var t;e.prototype.updateRootStyle.call(this),null===(t=this.elements)||void 0===t||t.forEach(function(e){return e.updateRootStyle()})},PanelModelBase.prototype.updateCustomWidgets=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].updateCustomWidgets()},Object.defineProperty(PanelModelBase.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),PanelModelBase.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():"default"!=this.questionTitleLocation?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},PanelModelBase.prototype.availableQuestionTitleWidth=function(){return"left"===this.getQuestionTitleLocation()||this.hasElementWithTitleLocationLeft()},PanelModelBase.prototype.hasElementWithTitleLocationLeft=function(){return this.elements.some(function(e){return e instanceof PanelModelBase?e.hasElementWithTitleLocationLeft():e instanceof ox?"left"===e.getTitleLocation():void 0})},PanelModelBase.prototype.getQuestionTitleWidth=function(){return this.questionTitleWidth||this.parent&&this.parent.getQuestionTitleWidth()},Object.defineProperty(PanelModelBase.prototype,"columns",{get:function(){return this._columns||this.generateColumns(),this._columns||[]},enumerable:!1,configurable:!0}),PanelModelBase.prototype.generateColumns=function(){var e=this.calcMaxRowColSpan(),t=[].concat(this.layoutColumns);if(e<=this.layoutColumns.length)t=this.layoutColumns.slice(0,e);else for(var o=this.layoutColumns.length;o<e;o++){var n=new nk;n.onPropertyValueChangedCallback=this.onColumnPropertyValueChangedCallback,t.push(n)}this._columns=t;try{this._columnsReady=!1,this.updateColumnWidth(t)}finally{this._columnsReady=!0}this.layoutColumns=t},PanelModelBase.prototype.getColumsForElement=function(e){var t=this.findRowByElement(e);if(!t||!this.survey||!this.survey.gridLayoutEnabled)return[];for(var o=t.elements.length-1;o>=0&&t.elements[o].getPropertyValueWithoutDefault("colSpan");)o--;for(var n=t.elements.indexOf(e),r=0,i=0;i<n;i++)r+=t.elements[i].colSpan;var s=e.getPropertyValueWithoutDefault("colSpan");if(!s&&n===o){for(var a=0,i=0;i<t.elements.length;i++)i!==o&&(a+=t.elements[i].colSpan);s=this.columns.length-a}var l=this.columns.slice(r,r+(s||1));return e.setPropertyValue("effectiveColSpan",l.length),l},PanelModelBase.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},PanelModelBase.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},PanelModelBase.prototype.getChildrenLayoutType=function(){return"row"},PanelModelBase.prototype.getProgressInfo=function(){return t$.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(PanelModelBase.prototype,"root",{get:function(){for(var e=this;e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),PanelModelBase.prototype.childVisibilityChanged=function(){this.getIsPageVisible(null)!==this.getPropertyValue("isVisible",!0)&&this.onVisibleChanged()},PanelModelBase.prototype.canRenderFirstRows=function(){return this.isPage},PanelModelBase.prototype.isLazyRenderInRow=function(e){return!!this.survey&&!!this.survey.isLazyRendering&&(e>=this.survey.lazyRenderingFirstBatchSize||!this.canRenderFirstRows())},PanelModelBase.prototype.createRowAndSetLazy=function(e){var t=this.createRow();return t.setIsLazyRendering(this.isLazyRenderInRow(e)),t},PanelModelBase.prototype.createRow=function(){return new nB(this)},PanelModelBase.prototype.onSurveyLoad=function(){this.blockAnimations(),e.prototype.onSurveyLoad.call(this);for(var t=0;t<this.elements.length;t++)this.elements[t].onSurveyLoad();this.onElementVisibilityChanged(this),this.releaseAnimations(),this.calcHasTextInTitle()},PanelModelBase.prototype.onFirstRendering=function(){e.prototype.onFirstRendering.call(this);for(var t=0;t<this.elements.length;t++)this.elements[t].onFirstRendering();this.onRowsChanged()},PanelModelBase.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var e=0;e<this.elements.length;e++)this.elements[e].isPanel&&this.elements[e].updateRows();this.onRowsChanged()}},Object.defineProperty(PanelModelBase.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),PanelModelBase.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(e){e.ensureVisibility()})},PanelModelBase.prototype.onRowsChanged=function(){this.isLoadingFromJson||(this.blockAnimations(),this.setArrayPropertyDirectly("rows",this.buildRows()),this.updateColumns(),this.releaseAnimations())},PanelModelBase.prototype.blockRowsUpdates=function(){this.locCountRowUpdates++},PanelModelBase.prototype.releaseRowsUpdates=function(){this.locCountRowUpdates--},PanelModelBase.prototype.updateRowsBeforeElementRemoved=function(e){var t=this,o=this.findRowByElement(e),n=this.rows.indexOf(o),r=o.elements.indexOf(e);o.elements.splice(r,1),0==o.elements.length?this.rows.splice(n,1):!o.elements[0].startWithNewLine&&this.rows[n-1]?(o.elements.forEach(function(e){return t.rows[n-1].addElement(e)}),this.rows.splice(n,1)):o.updateVisible()},PanelModelBase.prototype.updateRowsOnElementAdded=function(e){var t=this,o=this.elements.indexOf(e),n=this.elements[o+1],createRowAtIndex=function(e){var o=t.createRowAndSetLazy(e);return t.isDesignModeV2&&o.setIsLazyRendering(!1),t.rows.splice(e,0,o),o},updateRow=function(e,t,o){for(var n,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=(n=e.elements).splice.apply(n,panel_spreadArray([t,o],r));return e.updateVisible(),s};if(!n){0==o||e.startWithNewLine?updateRow(createRowAtIndex(this.rows.length),0,0,e):this.rows[this.rows.length-1].addElement(e);return}var r=this.findRowByElement(n);if(r){var i=this.rows.indexOf(r),s=r.elements.indexOf(n);0==s?n.startWithNewLine?e.startWithNewLine||i<1?createRowAtIndex(i).addElement(e):this.rows[i-1].addElement(e):updateRow(r,0,0,e):e.startWithNewLine?updateRow.apply(void 0,panel_spreadArray([createRowAtIndex(i+1),0,0],[e].concat(updateRow(r,s,r.elements.length)))):updateRow(r,s,0,e)}},PanelModelBase.prototype.canFireAddRemoveNotifications=function(e){return!!this.survey&&e.prevSurvey!==this.survey},PanelModelBase.prototype.onAddElement=function(e,t){var o=this,n=this.survey,r=this.canFireAddRemoveNotifications(e);e.setSurveyImpl(this.surveyImpl),e.parent=this,this.markQuestionListDirty(),this.canBuildRows()&&this.updateRowsOnElementAdded(e),r&&(e.isPanel?n.panelAdded(e,t,this,this.root):n.questionAdded(e,t,this,this.root)),this.addElementCallback&&this.addElementCallback(e),e.registerPropertyChangedHandlers(["visible","isVisible"],function(){o.onElementVisibilityChanged(e)},this.id),e.registerPropertyChangedHandlers(["startWithNewLine"],function(){o.onElementStartWithNewLineChanged(e)},this.id),this.onElementVisibilityChanged(this)},PanelModelBase.prototype.onRemoveElement=function(e){e.parent=null,this.markQuestionListDirty(),e.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(e),this.isRandomizing||(this.onRemoveElementNotifySurvey(e),this.removeElementCallback&&this.removeElementCallback(e),this.onElementVisibilityChanged(this))},PanelModelBase.prototype.onRemoveElementNotifySurvey=function(e){this.canFireAddRemoveNotifications(e)&&(e.isPanel?this.survey.panelRemoved(e):this.survey.questionRemoved(e))},PanelModelBase.prototype.onElementVisibilityChanged=function(e){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(e),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},PanelModelBase.prototype.onElementStartWithNewLineChanged=function(e){this.locCountRowUpdates>0||(this.updateRowsBeforeElementRemoved(e),this.updateRowsOnElementAdded(e))},PanelModelBase.prototype.updateRowsVisibility=function(e){for(var t=this.rows,o=0;o<t.length;o++){var n=t[o];if(n.elements.indexOf(e)>-1){n.updateVisible(),n.visible&&!n.isNeedRender&&(n.isNeedRender=!0);break}}},PanelModelBase.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&"row"==this.getChildrenLayoutType()},PanelModelBase.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var e=[],t=0;t<this.elements.length;t++){var o=this.elements[t],n=0==t||o.startWithNewLine,r=n?this.createRowAndSetLazy(e.length):e[e.length-1];n&&e.push(r),r.addElement(o)}for(var t=0;t<e.length;t++)e[t].updateVisible();return e},PanelModelBase.prototype.getDragDropInfo=function(){var e=this.getPage(this.parent);return e?e.getDragDropInfo():void 0},PanelModelBase.prototype.updateRowsOnElementRemoved=function(e){this.canBuildRows()&&(this.updateRowsRemoveElementFromRow(e,this.findRowByElement(e)),this.updateColumns())},PanelModelBase.prototype.updateRowsRemoveElementFromRow=function(e,t){if(t&&t.panel){var o=t.elements.indexOf(e);!(o<0)&&(t.elements.splice(o,1),t.elements.length>0?(this.blockRowsUpdates(),t.elements[0].startWithNewLine=!0,this.releaseRowsUpdates(),t.updateVisible()):t.index>=0&&t.panel.rows.splice(t.index,1))}},PanelModelBase.prototype.getAllRows=function(){var e=this,t=[];return this.rows.forEach(function(o){var n=[];o.elements.forEach(function(t){t.isPanel?n.push.apply(n,t.getAllRows()):"paneldynamic"==t.getType()&&(e.isDesignMode?n.push.apply(n,t.template.getAllRows()):t.panels.forEach(function(e){return n.push.apply(n,e.getAllRows())}))}),t.push(o),t.push.apply(t,n)}),t},PanelModelBase.prototype.findRowAndIndexByElement=function(e,t){if(!e)return{row:void 0,index:this.rows.length-1};t=t||this.rows;for(var o=0;o<t.length;o++)if(t[o].elements.indexOf(e)>-1)return{row:t[o],index:o};return{row:null,index:-1}},PanelModelBase.prototype.forceRenderRow=function(e){e&&!e.isNeedRender&&(e.isNeedRender=!0,e.stopLazyRendering())},PanelModelBase.prototype.forceRenderElement=function(e,t,o){void 0===t&&(t=function(){}),void 0===o&&(o=0);var n=this.getAllRows(),r=this.findRowAndIndexByElement(e,n),i=r.row,s=r.index;if(s>=0&&s<n.length){var a=[];a.push(i);for(var l=s-1;l>=s-o&&l>=0;l--)a.push(n[l]);this.forceRenderRows(a,t)}},PanelModelBase.prototype.forceRenderRows=function(e,t){var o,n=this;void 0===t&&(t=function(){});var r=(o=e.length,function(){--o<=0&&t()});e.forEach(function(e){return new tG(e.visibleElements,r)}),e.forEach(function(e){return n.forceRenderRow(e)})},PanelModelBase.prototype.findRowByElement=function(e){return this.findRowAndIndexByElement(e).row},PanelModelBase.prototype.elementWidthChanged=function(e){if(!this.isLoadingFromJson){var t=this.findRowByElement(e);t&&t.updateVisible()}},Object.defineProperty(PanelModelBase.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.getRenderedTitle=function(e){return null!=this.textProcessor?this.textProcessor.processText(e,!0):e},Object.defineProperty(PanelModelBase.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e===this.visible||(this.setPropertyValue("visible",e),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),PanelModelBase.prototype.onHidingContent=function(){this.questions.forEach(function(e){return e.onHidingContent()})},PanelModelBase.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&"none"!==this.survey.getQuestionClearIfInvisible("default")&&!this.isLoadingFromJson))for(var e=this.questions,t=this.isVisible,o=0;o<e.length;o++){var n=e[o];t?n.updateValueWithDefaults():(n.clearValueIfInvisible("onHiddenContainer"),n.onHidingContent())}},PanelModelBase.prototype.notifyStateChanged=function(t){e.prototype.notifyStateChanged.call(this,t),this.isCollapsed&&this.questions.forEach(function(e){return e.onHidingContent()})},Object.defineProperty(PanelModelBase.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.getIsContentVisible=function(e){if(this.areInvisibleElementsShowing)return!0;for(var t=0;t<this.elements.length;t++)if(this.elements[t]!=e&&this.elements[t].isVisible)return!0;return!1},PanelModelBase.prototype.getIsPageVisible=function(e){return this.visible&&this.getIsContentVisible(e)},PanelModelBase.prototype.setVisibleIndex=function(e){if(!this.isVisible||e<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=e;var t=e;e+=this.beforeSetVisibleIndex(e);for(var o=this.getPanelStartIndex(e),n=o,r=0;r<this.elements.length;r++)n+=this.elements[r].setVisibleIndex(n);return this.isContinueNumbering()&&(e+=n-o),e-t},PanelModelBase.prototype.updateVisibleIndexes=function(){void 0!==this.lastVisibleIndex&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},PanelModelBase.prototype.resetVisibleIndexes=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].setVisibleIndex(-1)},PanelModelBase.prototype.beforeSetVisibleIndex=function(e){return 0},PanelModelBase.prototype.getPanelStartIndex=function(e){return e},PanelModelBase.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(PanelModelBase.prototype,"isReadOnly",{get:function(){var e=!!this.parent&&this.parent.isReadOnly,t=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||e||t},enumerable:!1,configurable:!0}),PanelModelBase.prototype.onReadOnlyChanged=function(){for(var t=0;t<this.elements.length;t++){var o=this.elements[t];o.setPropertyValue("isReadOnly",o.isReadOnly)}e.prototype.onReadOnlyChanged.call(this)},PanelModelBase.prototype.updateElementCss=function(t){e.prototype.updateElementCss.call(this,t);for(var o=0;o<this.elements.length;o++)this.elements[o].updateElementCss(t)},Object.defineProperty(PanelModelBase.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.addElement=function(e,t){return void 0===t&&(t=-1),!!this.canAddElement(e)&&(t<0||t>=this.elements.length?this.elements.push(e):this.elements.splice(t,0,e),this.wasRendered&&e.onFirstRendering(),this.updateColumns(),!0)},PanelModelBase.prototype.insertElement=function(e,t,o){if(void 0===o&&(o="bottom"),!t){this.addElement(e);return}this.blockRowsUpdates();var n=this.elements.indexOf(t),r=this.findRowByElement(t);"left"==o||"right"==o?"right"==o?(e.startWithNewLine=!1,n++):0==r.elements.indexOf(t)?(t.startWithNewLine=!1,e.startWithNewLine=!0):e.startWithNewLine=!1:(e.startWithNewLine=!0,n="top"==o?this.elements.indexOf(r.elements[0]):this.elements.indexOf(r.elements[r.elements.length-1])+1),this.releaseRowsUpdates(),this.addElement(e,n)},PanelModelBase.prototype.insertElementAfter=function(e,t){var o=this.elements.indexOf(t);o>=0&&this.addElement(e,o+1)},PanelModelBase.prototype.insertElementBefore=function(e,t){var o=this.elements.indexOf(t);o>=0&&this.addElement(e,o)},PanelModelBase.prototype.canAddElement=function(e){return!!e&&e.isLayoutTypeSupported(this.getChildrenLayoutType())},PanelModelBase.prototype.addQuestion=function(e,t){return void 0===t&&(t=-1),this.addElement(e,t)},PanelModelBase.prototype.addPanel=function(e,t){return void 0===t&&(t=-1),this.addElement(e,t)},PanelModelBase.prototype.addNewQuestion=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=-1);var n=oJ.Instance.createQuestion(e,t);return this.addQuestion(n,o)?n:null},PanelModelBase.prototype.addNewPanel=function(e){void 0===e&&(e=null);var t=this.createNewPanel(e);return this.addPanel(t)?t:null},PanelModelBase.prototype.indexOf=function(e){return this.elements.indexOf(e)},PanelModelBase.prototype.createNewPanel=function(e){var t=eY.createClass("panel");return t.name=e,t},PanelModelBase.prototype.removeElement=function(e){var t=this.elements.indexOf(e);if(t<0){for(var o=0;o<this.elements.length;o++)if(this.elements[o].removeElement(e))return!0;return!1}return this.elements.splice(t,1),this.updateColumns(),!0},PanelModelBase.prototype.removeQuestion=function(e){this.removeElement(e)},PanelModelBase.prototype.runCondition=function(e,t){if(!this.isDesignMode&&!this.isLoadingFromJson){for(var o=this.elements.slice(),n=0;n<o.length;n++)o[n].runCondition(e,t);this.runConditionCore(e,t)}},PanelModelBase.prototype.onAnyValueChanged=function(e,t){for(var o=this.elements,n=0;n<o.length;n++)o[n].onAnyValueChanged(e,t)},PanelModelBase.prototype.checkBindings=function(e,t){for(var o=this.elements,n=0;n<o.length;n++)o[n].checkBindings(e,t)},PanelModelBase.prototype.dragDropAddTarget=function(e){this.dragDropPanelHelper.dragDropAddTarget(e)},PanelModelBase.prototype.dragDropFindRow=function(e){return this.dragDropPanelHelper.dragDropFindRow(e)},PanelModelBase.prototype.dragDropMoveElement=function(e,t,o){this.dragDropPanelHelper.dragDropMoveElement(e,t,o)},PanelModelBase.prototype.needResponsiveWidth=function(){var e=!1;return this.elements.forEach(function(t){t.needResponsiveWidth()&&(e=!0)}),this.rows.forEach(function(t){t.elements.length>1&&(e=!0)}),e},Object.defineProperty(PanelModelBase.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(e){this.setPropertyValue("questionErrorLocation",e)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.getQuestionErrorLocation=function(){return"default"!==this.questionErrorLocation?this.questionErrorLocation:this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},PanelModelBase.prototype.getTitleOwner=function(){return this},Object.defineProperty(PanelModelBase.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"cssTitleNumber",{get:function(){return this.cssClasses.panel.number},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"cssRequiredText",{get:function(){return this.cssClasses.panel.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModelBase.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),PanelModelBase.prototype.getCssError=function(e){return new tP().append(e.error.root).toString()},PanelModelBase.prototype.getSerializableColumnsValue=function(){for(var e=-1,t=this.layoutColumns.length-1;t>=0;t--)if(!this.layoutColumns[t].isEmpty()){e=t;break}return this.layoutColumns.slice(0,e+1)},PanelModelBase.prototype.afterRender=function(e){this.afterRenderCore(e)},PanelModelBase.prototype.dispose=function(){if(e.prototype.dispose.call(this),this.rows){for(var t=0;t<this.rows.length;t++)this.rows[t].dispose();this.rows.splice(0,this.rows.length)}for(var t=0;t<this.elements.length;t++)this.elements[t].dispose();this.elements.splice(0,this.elements.length)},PanelModelBase.panelCounter=100,panel_decorate([propertyArray()],PanelModelBase.prototype,"layoutColumns",void 0),panel_decorate([jsonobject_property({defaultValue:!0})],PanelModelBase.prototype,"showTitle",void 0),panel_decorate([jsonobject_property({defaultValue:!1})],PanelModelBase.prototype,"hasTextInTitle",void 0),panel_decorate([jsonobject_property({defaultValue:!0})],PanelModelBase.prototype,"showDescription",void 0),panel_decorate([jsonobject_property()],PanelModelBase.prototype,"questionTitleWidth",void 0),PanelModelBase}(t$),nN=function(e){function PanelModel(t){void 0===t&&(t="");var o=e.call(this,t)||this;return o.forcusFirstQuestionOnExpand=!0,o.createNewArray("footerActions"),o.registerPropertyChangedHandlers(["width"],function(){o.parent&&o.parent.elementWidthChanged(o)}),o.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){o.onIndentChanged()}),o.registerPropertyChangedHandlers(["colSpan"],function(){var e;null===(e=o.parent)||void 0===e||e.updateColumns()}),o}return nj(PanelModel,e),PanelModel.prototype.getType=function(){return"panel"},Object.defineProperty(PanelModel.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),PanelModel.prototype.getSurvey=function(t){return(void 0===t&&(t=!1),t)?this.parent?this.parent.getSurvey(t):null:e.prototype.getSurvey.call(this,t)},PanelModel.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.onIndentChanged()},PanelModel.prototype.onSetData=function(){e.prototype.onSetData.call(this),this.onIndentChanged(),this.calcHasTextInTitle()},Object.defineProperty(PanelModel.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModel.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),PanelModel.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},PanelModel.prototype.moveTo=function(e,t){return void 0===t&&(t=null),this.moveToBase(this.parent,e,t)},Object.defineProperty(PanelModel.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModel.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber")},set:function(e){this.setPropertyValue("showNumber",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModel.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModel.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),PanelModel.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:e.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(PanelModel.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),PanelModel.prototype.setNo=function(e){this.setPropertyValue("no",eQ.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},PanelModel.prototype.notifyStateChanged=function(t){this.isLoadingFromJson||this.locTitle.strChanged(),e.prototype.notifyStateChanged.call(this,t)},PanelModel.prototype.createLocTitleProperty=function(){var t=this,o=e.prototype.createLocTitleProperty.call(this);return o.onGetTextCallback=function(e){return e||"default"===t.state||(e=t.name),e},o},PanelModel.prototype.beforeSetVisibleIndex=function(e){var t=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty||this.hasParentInQuestionIndex())&&(t=e),this.setPropertyValue("visibleIndex",t),this.setNo(t),t<0?0:1},PanelModel.prototype.getPanelStartIndex=function(e){return"off"===this.showQuestionNumbers?-1:"onpanel"===this.showQuestionNumbers?0:e},PanelModel.prototype.hasParentInQuestionIndex=function(){if("onpanel"!==this.showQuestionNumbers)return!1;var e=this.questionStartIndex,t=e.indexOf(".");return t>-1&&t<e.length-1},PanelModel.prototype.isContinueNumbering=function(){return"off"!==this.showQuestionNumbers&&"onpanel"!==this.showQuestionNumbers},PanelModel.prototype.notifySurveyOnVisibilityChanged=function(){null!=this.survey&&!this.isLoadingFromJson&&this.page&&this.survey.panelVisibilityChanged(this,this.isVisible)},PanelModel.prototype.getRenderedTitle=function(t){if(!t){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return e.prototype.getRenderedTitle.call(this,t)},Object.defineProperty(PanelModel.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(e){this.setPropertyValue("innerIndent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModel.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(e){this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModel.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(e){this.setPropertyValue("allowAdaptiveActions",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PanelModel.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(e){this.setPropertyValue("innerPaddingLeft",e)},enumerable:!1,configurable:!0}),PanelModel.prototype.onIndentChanged=function(){this.getSurvey()&&(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},PanelModel.prototype.getIndentSize=function(e){if(e<1)return"";var t=this.survey.css;return t&&t.question.indent?e*t.question.indent+"px":""},PanelModel.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(e){(e instanceof ox||e instanceof PanelModel)&&e.clearOnDeletingContainer()})},Object.defineProperty(PanelModel.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),PanelModel.prototype.getFooterToolbar=function(){var e,t,o=this;if(!this.footerToolbarValue){var n=this.footerActions;this.hasEditButton&&n.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,component:"sv-nav-btn",action:function(){o.cancelPreview()}}),n=this.onGetFooterActionsCallback?this.onGetFooterActionsCallback():null===(e=this.survey)||void 0===e?void 0:e.getUpdatedPanelFooterActions(this,n),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions);var r=this.onGetFooterToolbarCssCallback?this.onGetFooterToolbarCssCallback():"";r||(r=null===(t=this.cssClasses.panel)||void 0===t?void 0:t.footer),r&&(this.footerToolbarValue.containerCss=r),this.footerToolbarValue.setItems(n)}return this.footerToolbarValue},Object.defineProperty(PanelModel.prototype,"hasEditButton",{get:function(){return!!this.survey&&"preview"===this.survey.state&&this.parent&&this.parent instanceof nz},enumerable:!1,configurable:!0}),PanelModel.prototype.cancelPreview=function(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)},PanelModel.prototype.canShowTitle=function(t){var o=this.originalPage;return o?o.canShowTitle(t):e.prototype.canShowTitle.call(this,t)},Object.defineProperty(PanelModel.prototype,"cssTitle",{get:function(){return this.getCssTitle(this.cssClasses.panel)},enumerable:!1,configurable:!0}),PanelModel.prototype.getCssTitleExpandableSvg=function(){return"default"===this.state?null:this.cssClasses.panel.titleExpandableSvg},Object.defineProperty(PanelModel.prototype,"showErrorsAbovePanel",{get:function(){return this.isDefaultV2Theme&&!this.showPanelAsPage},enumerable:!1,configurable:!0}),PanelModel.prototype.getCssError=function(t){var o=new tP().append(e.prototype.getCssError.call(this,t)).append(t.panel.errorsContainer);return o.append("panel-error-root",o.isEmpty()).toString()},PanelModel.prototype.onVisibleChanged=function(){e.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},PanelModel.prototype.needResponsiveWidth=function(){return!this.startWithNewLine||e.prototype.needResponsiveWidth.call(this)},PanelModel.prototype.focusIn=function(){this.survey&&this.survey.whenPanelFocusIn(this)},PanelModel.prototype.getHasFrameV2=function(){return e.prototype.getHasFrameV2.call(this)&&!this.showPanelAsPage},PanelModel.prototype.getIsNested=function(){return e.prototype.getIsNested.call(this)&&void 0!==this.parent},Object.defineProperty(PanelModel.prototype,"showPanelAsPage",{get:function(){return!!this.originalPage||this.survey.isShowingPreview&&this.survey.isSinglePage&&!!this.parent&&!!this.parent.originalPage},enumerable:!1,configurable:!0}),PanelModel.prototype.expand=function(t){void 0===t&&(t=!0),this.forcusFirstQuestionOnExpand=t,e.prototype.expand.call(this)},PanelModel.prototype.onElementExpanded=function(e){var t=this;if(this.forcusFirstQuestionOnExpand&&null!=this.survey&&!this.isLoadingFromJson){var o=this.getFirstQuestionToFocus(!1);o&&setTimeout(function(){!t.isDisposed&&t.survey&&t.survey.scrollElementToTop(o,o,null,o.inputId,!1,{behavior:"smooth"})},e?0:15)}},PanelModel.prototype.getCssRoot=function(t){return new tP().append(e.prototype.getCssRoot.call(this,t)).append(t.container).append(t.asPage,this.showPanelAsPage).append(t.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},PanelModel.prototype.getContainerCss=function(){return this.getCssRoot(this.cssClasses.panel)},PanelModel.prototype.afterRenderCore=function(t){var o;e.prototype.afterRenderCore.call(this,t),null===(o=this.survey)||void 0===o||o.afterRenderPanel(this,t)},PanelModel}(nF);eY.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"readOnly:boolean",overridingProperty:"enableIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"questionTitleWidth",visibleIf:function(e){return!!e&&e.availableQuestionTitleWidth()}},{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"layoutColumns:panellayoutcolumns",className:"panellayoutcolumn",isArray:!0,onSerializeValue:function(e){return e.getSerializableColumnsValue()},visibleIf:function(e){return!!e&&!!e.survey&&e.survey.gridLayoutEnabled}},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"questionErrorLocation",default:"default",choices:["default","top","bottom"]}],function(){return new nF}),eY.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"maxWidth",defaultFunc:function(){return t0.maxWidth}},{name:"colSpan:number",visible:!1,onSerializeValue:function(e){return e.getPropertyValue("colSpan")}},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(e){return!!e&&!!e.survey&&e.survey.gridLayoutEnabled}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3],visible:!1},{name:"page",isSerializable:!1,visibleIf:function(e){var t=e?e.survey:null;return!t||!t.pages||t.pages.length>1},choices:function(e){var t=e?e.survey:null;return t?t.pages.map(function(e){return{value:e.name,text:e.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new nN},"panelbase"),o$.Instance.registerElement("panel",function(e){return new nN(e)});var nq=function(){function DragDropPageHelperV1(e){this.page=e}return DragDropPageHelperV1.prototype.getDragDropInfo=function(){return this.dragDropInfo},DragDropPageHelperV1.prototype.dragDropStart=function(e,t,o){void 0===o&&(o=-1),this.dragDropInfo=new DragDropInfo(e,t,o)},DragDropPageHelperV1.prototype.dragDropMoveTo=function(e,t,o){if(void 0===t&&(t=!1),void 0===o&&(o=!1),!this.dragDropInfo||(this.dragDropInfo.destination=e,this.dragDropInfo.isBottom=t,this.dragDropInfo.isEdge=o,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var n=this.page.dragDropFindRow(this.dragDropInfo.target);this.page.updateRowsRemoveElementFromRow(this.dragDropInfo.target,n)}return!1}return this.page.dragDropAddTarget(this.dragDropInfo),!0},DragDropPageHelperV1.prototype.correctDragDropInfo=function(e){if(e.destination){var t=e.destination.isPanel?e.destination:null;t&&!e.target.isLayoutTypeSupported(t.getChildrenLayoutType())&&(e.isEdge=!0)}},DragDropPageHelperV1.prototype.dragDropAllowFromSurvey=function(){var e=this.dragDropInfo.destination;if(!e||!this.page.survey)return!0;var t=null,o=null,n=e.isPage||!this.dragDropInfo.isEdge&&e.isPanel?e:e.parent;if(!e.isPage){var r=e.parent;if(r){var i=r.elements,s=i.indexOf(e);s>-1&&(t=e,o=e,this.dragDropInfo.isBottom?t=s<i.length-1?i[s+1]:null:o=s>0?i[s-1]:null)}}var a={allow:!0,target:this.dragDropInfo.target,source:this.dragDropInfo.source,toElement:this.dragDropInfo.target,draggedElement:this.dragDropInfo.source,parent:n,fromElement:this.dragDropInfo.source?this.dragDropInfo.source.parent:null,insertAfter:o,insertBefore:t};return this.page.survey.dragAndDropAllow(a)},DragDropPageHelperV1.prototype.dragDropFinish=function(e){if(void 0===e&&(e=!1),this.dragDropInfo){var t=this.dragDropInfo.target,o=this.dragDropInfo.source,n=this.dragDropInfo.destination,r=this.page.dragDropFindRow(t),i=this.dragDropGetElementIndex(t,r);this.page.updateRowsRemoveElementFromRow(t,r);var s=[],a=[];if(!e&&r){if(this.page.isDesignModeV2){var l=o&&o.parent&&o.parent.dragDropFindRow(o);r.panel.elements[i]&&r.panel.elements[i].startWithNewLine&&r.elements.length>1&&r.panel.elements[i]===n&&(s.push(t),a.push(r.panel.elements[i])),t.startWithNewLine&&r.elements.length>1&&(!r.panel.elements[i]||!r.panel.elements[i].startWithNewLine)&&a.push(t),l&&l.elements[0]===o&&l.elements[1]&&s.push(l.elements[1]),r.elements.length<=1&&s.push(t),t.startWithNewLine&&r.elements.length>1&&r.elements[0]!==n&&a.push(t)}this.page.survey.startMovingQuestion(),o&&o.parent&&(r.panel==o.parent?(r.panel.dragDropMoveElement(o,t,i),i=-1):o.parent.removeElement(o)),i>-1&&r.panel.addElement(t,i),this.page.survey.stopMovingQuestion()}return s.map(function(e){e.startWithNewLine=!0}),a.map(function(e){e.startWithNewLine=!1}),this.dragDropInfo=null,e?null:t}},DragDropPageHelperV1.prototype.dragDropGetElementIndex=function(e,t){if(!t)return -1;var o=t.elements.indexOf(e);if(0==t.index)return o;var n=t.panel.rows[t.index-1],r=n.elements[n.elements.length-1];return o+t.panel.elements.indexOf(r)+1},DragDropPageHelperV1.prototype.dragDropCanDropTagert=function(){var e=this.dragDropInfo.destination;return!e||!!e.isPage||this.dragDropCanDropCore(this.dragDropInfo.target,e)},DragDropPageHelperV1.prototype.dragDropCanDropSource=function(){var e=this.dragDropInfo.source;if(!e)return!0;var t=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(e,t))return!1;if(this.page.isDesignModeV2){if(this.page.dragDropFindRow(e)!==this.page.dragDropFindRow(t)&&(!e.startWithNewLine&&t.startWithNewLine||e.startWithNewLine&&!t.startWithNewLine))return!0;var o=this.page.dragDropFindRow(t);if(o&&1==o.elements.length)return!0}return this.dragDropCanDropNotNext(e,t,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},DragDropPageHelperV1.prototype.dragDropCanDropCore=function(e,t){return!t||!(this.dragDropIsSameElement(t,e)||e.isPanel&&(e.containsElement(t)||e.getElementByName(t.name)))},DragDropPageHelperV1.prototype.dragDropCanDropNotNext=function(e,t,o,n){if(!t||t.isPanel&&!o||void 0===e.parent||e.parent!==t.parent)return!0;var r=e.parent,i=r.elements.indexOf(e),s=r.elements.indexOf(t);return s<i&&!n&&s--,n&&s++,i<s?s-i>1:i-s>0},DragDropPageHelperV1.prototype.dragDropIsSameElement=function(e,t){return e==t||e.name==t.name},DragDropPageHelperV1}(),nH=(F=function(e,t){return(F=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),page_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},nz=function(e){function PageModel(t){void 0===t&&(t="");var o=e.call(this,t)||this;return o.hasShownValue=!1,o.timeSpent=0,o._isReadyForClean=!0,o.createLocalizableString("navigationDescription",o,!0),o.dragDropPageHelper=new nq(o),o}return nH(PageModel,e),PageModel.prototype.getType=function(){return"page"},PageModel.prototype.toString=function(){return this.name},Object.defineProperty(PageModel.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"no",{get:function(){if(!this.canShowPageNumber()||!this.survey)return"";var e=this.isStartPage?"":this.num+". ";return this.survey.getUpdatedPageNo(this,e)},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"cssTitleNumber",{get:function(){return this.cssClasses.page.number},enumerable:!1,configurable:!0}),PageModel.prototype.getCssTitleExpandableSvg=function(){return null},Object.defineProperty(PageModel.prototype,"cssRequiredText",{get:function(){return""},enumerable:!1,configurable:!0}),PageModel.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},PageModel.prototype.canShowTitle=function(e){return!e||e.showPageTitles},PageModel.prototype.setTitleValue=function(t){e.prototype.setTitleValue.call(this,t),this.navigationLocStrChanged()},Object.defineProperty(PageModel.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(e){this.setLocalizableStringText("navigationTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(e){this.setLocalizableStringText("navigationDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),PageModel.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.isEmpty&&this.locTitle.strChanged(),this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},PageModel.prototype.getMarkdownHtml=function(t,o){var n=e.prototype.getMarkdownHtml.call(this,t,o);return"navigationTitle"===o&&this.canShowPageNumber()&&n?this.num+". "+n:n},Object.defineProperty(PageModel.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(e){this.setPropertyValue("passed",e)},enumerable:!1,configurable:!0}),PageModel.prototype.removeFromParent=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},PageModel.prototype.onFirstRendering=function(){this.wasShown||e.prototype.onFirstRendering.call(this)},Object.defineProperty(PageModel.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(e){this.setPropertyValue("visibleIndex",e)},enumerable:!1,configurable:!0}),PageModel.prototype.canRenderFirstRows=function(){return!this.isDesignMode||0==this.visibleIndex},Object.defineProperty(PageModel.prototype,"isStartPage",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"isStarted",{get:function(){return this.isStartPage},enumerable:!1,configurable:!0}),PageModel.prototype.calcCssClasses=function(e){var t={page:{},error:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowReplace:""};return this.copyCssClasses(t.page,e.page),this.copyCssClasses(t.error,e.error),e.pageTitle&&(t.pageTitle=e.pageTitle),e.pageDescription&&(t.pageDescription=e.pageDescription),e.row&&(t.row=e.row),e.pageRow&&(t.pageRow=e.pageRow),e.rowMultiple&&(t.rowMultiple=e.rowMultiple),e.rowCompact&&(t.rowCompact=e.rowCompact),e.rowEnter&&(t.rowEnter=e.rowEnter),e.rowDelayedEnter&&(t.rowDelayedEnter=e.rowDelayedEnter),e.rowLeave&&(t.rowLeave=e.rowLeave),e.rowReplace&&(t.rowReplace=e.rowReplace),this.survey&&this.survey.updatePageCssClasses(this,t),t},Object.defineProperty(PageModel.prototype,"cssTitle",{get:function(){return this.cssClasses.page?new tP().append(this.cssClasses.page.title).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"cssRoot",{get:function(){return this.cssClasses.page&&this.survey?new tP().append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!this.survey.renderedHasHeader&&!(this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString():""},enumerable:!1,configurable:!0}),PageModel.prototype.getCssError=function(t){return new tP().append(e.prototype.getCssError.call(this,t)).append(t.page.errorsContainer).toString()},Object.defineProperty(PageModel.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(e){this.setPropertyValue("navigationButtonsVisibility",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"isActive",{get:function(){return!!this.survey&&this.survey.currentPage===this},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),PageModel.prototype.setWasShown=function(e){if(e!=this.hasShownValue&&(this.hasShownValue=e,!this.isDesignMode&&!0===e)){for(var t=this.elements,o=0;o<t.length;o++)t[o].isPanel&&t[o].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},PageModel.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},PageModel.prototype.getAllPanels=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var o=[];return this.addPanelsIntoList(o,e,t),o},PageModel.prototype.getPanels=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),this.getAllPanels(e,t)},Object.defineProperty(PageModel.prototype,"timeLimit",{get:function(){return this.getPropertyValue("timeLimit",0)},set:function(e){this.setPropertyValue("timeLimit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PageModel.prototype,"maxTimeToFinish",{get:function(){return this.timeLimit},set:function(e){this.timeLimit=e},enumerable:!1,configurable:!0}),PageModel.prototype.getMaxTimeToFinish=function(){if(0!==this.timeLimit)return this.timeLimit;var e=this.survey?this.survey.timeLimitPerPage:0;return e>0?e:0},PageModel.prototype.onNumChanged=function(e){},PageModel.prototype.onVisibleChanged=function(){this.isRandomizing||(e.prototype.onVisibleChanged.call(this),null!=this.survey&&this.survey.pageVisibilityChanged(this,this.isVisible))},PageModel.prototype.getDragDropInfo=function(){return this.dragDropPageHelper.getDragDropInfo()},PageModel.prototype.dragDropStart=function(e,t,o){void 0===o&&(o=-1),this.dragDropPageHelper.dragDropStart(e,t,o)},PageModel.prototype.dragDropMoveTo=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=!1),this.dragDropPageHelper.dragDropMoveTo(e,t,o)},PageModel.prototype.dragDropFinish=function(e){return void 0===e&&(e=!1),this.dragDropPageHelper.dragDropFinish(e)},PageModel.prototype.ensureRowsVisibility=function(){e.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(e){return e.ensureRowsVisibility()})},Object.defineProperty(PageModel.prototype,"isReadyForClean",{get:function(){return this._isReadyForClean},set:function(e){var t=this._isReadyForClean;this._isReadyForClean=e,this._isReadyForClean!==t&&this.isReadyForCleanChangedCallback&&this.isReadyForCleanChangedCallback()},enumerable:!1,configurable:!0}),PageModel.prototype.enableOnElementRerenderedEvent=function(){e.prototype.enableOnElementRerenderedEvent.call(this),this.isReadyForClean=!1},PageModel.prototype.disableOnElementRerenderedEvent=function(){e.prototype.disableOnElementRerenderedEvent.call(this),this.isReadyForClean=!0},page_decorate([jsonobject_property({defaultValue:-1,onSet:function(e,t){return t.onNumChanged(e)}})],PageModel.prototype,"num",void 0),PageModel}(nF);eY.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(e){return!!e.survey&&("buttons"===e.survey.progressBarType||e.survey.showTOC)},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(e){return!!e.survey&&"buttons"===e.survey.progressBarType},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new nz},"panelbase");var nU=(N=function(e,t){return(N=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),nW=function(e){function ProgressButtons(t){var o=e.call(this)||this;return o.survey=t,o.onResize=o.addEvent(),o}return nU(ProgressButtons,e),ProgressButtons.prototype.isListElementClickable=function(e){return!this.survey.onServerValidateQuestions||!!this.survey.onServerValidateQuestions.isEmpty||"onComplete"===this.survey.checkErrorsMode||e<=this.survey.currentPageNo+1},ProgressButtons.prototype.getRootCss=function(e){void 0===e&&(e="center");var t=this.survey.css.progressButtonsContainerCenter;return this.survey.css.progressButtonsRoot&&(t+=" "+this.survey.css.progressButtonsRoot+" "+this.survey.css.progressButtonsRoot+"--"+(-1!==["footer","contentBottom"].indexOf(e)?"bottom":"top")+(" "+this.survey.css.progressButtonsRoot)+"--"+(this.showItemTitles?"with-titles":"no-titles")),this.showItemNumbers&&this.survey.css.progressButtonsNumbered&&(t+=" "+this.survey.css.progressButtonsNumbered),this.isFitToSurveyWidth&&(t+=" "+this.survey.css.progressButtonsFitSurveyWidth),t},ProgressButtons.prototype.getListElementCss=function(e){if(!(e>=this.survey.visiblePages.length))return new tP().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[e].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===e).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(e)).toString()},ProgressButtons.prototype.getScrollButtonCss=function(e,t){return new tP().append(this.survey.css.progressButtonsImageButtonLeft,t).append(this.survey.css.progressButtonsImageButtonRight,!t).append(this.survey.css.progressButtonsImageButtonHidden,!e).toString()},ProgressButtons.prototype.clickListElement=function(e){e instanceof nz||(e=this.survey.visiblePages[e]),this.survey.tryNavigateToPage(e)},ProgressButtons.prototype.isListContainerHasScroller=function(e){var t=e.querySelector("."+this.survey.css.progressButtonsListContainer);return!!t&&t.scrollWidth>t.offsetWidth},ProgressButtons.prototype.isCanShowItemTitles=function(e){var t=e.querySelector("ul");if(!t||t.children.length<2)return!0;if(t.clientWidth>t.parentElement.clientWidth)return!1;for(var o=t.children[0].clientWidth,n=0;n<t.children.length;n++)if(Math.abs(t.children[n].clientWidth-o)>5)return!1;return!0},ProgressButtons.prototype.clearConnectorsWidth=function(e){for(var t=e.querySelectorAll(".sd-progress-buttons__connector"),o=0;o<t.length;o++)t[o].style.width=""},ProgressButtons.prototype.adjustConnectors=function(e){var t=e.querySelector("ul");if(t)for(var o=e.querySelectorAll(".sd-progress-buttons__connector"),n=this.showItemNumbers?36:20,r=(t.clientWidth-n)/(t.children.length-1)-n,i=0;i<o.length;i++)o[i].style.width=r+"px"},Object.defineProperty(ProgressButtons.prototype,"isFitToSurveyWidth",{get:function(){return"defaultV2"===nC.currentType&&"survey"===this.survey.progressBarInheritWidthFrom&&"static"==this.survey.widthMode},enumerable:!1,configurable:!0}),Object.defineProperty(ProgressButtons.prototype,"progressWidth",{get:function(){return this.isFitToSurveyWidth?this.survey.renderedWidth:""},enumerable:!1,configurable:!0}),Object.defineProperty(ProgressButtons.prototype,"showItemNumbers",{get:function(){return"defaultV2"===nC.currentType&&this.survey.progressBarShowPageNumbers},enumerable:!1,configurable:!0}),Object.defineProperty(ProgressButtons.prototype,"showItemTitles",{get:function(){return"defaultV2"!==nC.currentType||this.survey.progressBarShowPageTitles},enumerable:!1,configurable:!0}),ProgressButtons.prototype.getItemNumber=function(e){var t="";return this.showItemNumbers&&(t+=this.survey.visiblePages.indexOf(e)+1),t},Object.defineProperty(ProgressButtons.prototype,"headerText",{get:function(){return this.survey.currentPage?this.survey.currentPage.renderedNavigationTitle:""},enumerable:!1,configurable:!0}),Object.defineProperty(ProgressButtons.prototype,"footerText",{get:function(){return this.survey.progressText},enumerable:!1,configurable:!0}),ProgressButtons.prototype.processResponsiveness=function(e){this.onResize.fire(this,{width:e})},ProgressButtons}(ty),nJ=function(){function ProgressButtonsResponsivityManager(e,t,o){var n=this;this.model=e,this.element=t,this.viewModel=o,this.criticalProperties=["progressBarType","progressBarShowPageTitles"],this.canShowItemTitles=!0,this.processResponsiveness=function(e,t){if(n.viewModel.onUpdateScroller(e.isListContainerHasScroller(n.element)),n.model.clearConnectorsWidth(n.element),!e.showItemTitles){n.model.adjustConnectors(n.element);return}if(e.survey.isMobile){n.prevWidth=t.width,n.canShowItemTitles=!1,n.model.adjustConnectors(n.element),n.viewModel.onResize(n.canShowItemTitles);return}void 0!==n.timer&&clearTimeout(n.timer),n.timer=setTimeout(function(){(void 0===n.prevWidth||n.prevWidth<t.width&&!n.canShowItemTitles||n.prevWidth>t.width&&n.canShowItemTitles)&&(n.prevWidth=t.width,n.canShowItemTitles=e.isCanShowItemTitles(n.element),n.viewModel.onResize(n.canShowItemTitles),n.timer=void 0)},10)},this.model.survey.registerFunctionOnPropertiesValueChanged(this.criticalProperties,function(){return n.forceUpdate()},"ProgressButtonsResponsivityManager"+this.viewModel.container),this.model.onResize.add(this.processResponsiveness),this.forceUpdate()}return ProgressButtonsResponsivityManager.prototype.forceUpdate=function(){this.viewModel.onUpdateSettings(),this.processResponsiveness(this.model,{})},ProgressButtonsResponsivityManager.prototype.dispose=function(){clearTimeout(this.timer),this.model.onResize.remove(this.processResponsiveness),this.model.survey.unRegisterFunctionOnPropertiesValueChanged(this.criticalProperties,"ProgressButtonsResponsivityManager"+this.viewModel.container),this.element=void 0,this.model=void 0},ProgressButtonsResponsivityManager}();function tryFocusPage(e,t){return!!e.isDesignMode||(t.focusFirstQuestion(),!0)}function createTOCListModel(e,t){var o=getTOCItems(e,t),n=o.filter(function(t){return!!e.currentPage&&t.id===e.currentPage.name})[0]||o[0],r=new tR({items:o,onSelectionChanged:function(e){e.action()&&(r.selectedItem=e)},allowSelection:!0,searchEnabled:!1,locOwner:e,selectedItem:n});return r.allowSelection=!1,e.onCurrentPageChanged.add(function(t,o){r.selectedItem=r.actions.filter(function(t){return!!e.currentPage&&t.id===e.currentPage.name})[0]}),e.registerFunctionOnPropertyValueChanged("pages",function(){r.setItems(getTOCItems(e,t))},"toc"),r}function getTOCItems(e,t){var o;return(("singlePage"===e.questionsOnPageMode?null===(o=e.pages[0])||void 0===o?void 0:o.elements:e.pages)||[]).map(function(o){return new tQ({id:o.name,locTitle:o.locNavigationTitle,action:function(){return(eD.activeElementBlur(),t&&t(),o instanceof nz)?e.tryNavigateToPage(o):tryFocusPage(e,o)},visible:new tf(function(){return o.isVisible&&!o.isStartPage})})})}function getTocRootCss(e,t){void 0===t&&(t=!1);var o=n$.RootStyle;return t?o+" "+n$.RootStyle+"--mobile":(o+=" "+n$.RootStyle+"--"+(e.tocLocation||"").toLowerCase(),n$.StickyPosition&&(o+=" "+n$.RootStyle+"--sticky"),o)}var n$=function(){function TOCModel(e){var t=this;this.survey=e,this.icon="icon-navmenu_24x24",this.togglePopup=function(){t.popupModel.toggleVisibility()},this.listModel=createTOCListModel(e,function(){t.popupModel.isVisible=!1}),this.popupModel=new tI("sv-list",{model:this.listModel}),this.popupModel.overlayDisplayMode="plain",this.popupModel.displayMode=new tf(function(){return t.isMobile?"overlay":"popup"}),TOCModel.StickyPosition&&(e.onAfterRenderSurvey.add(function(e,o){return t.initStickyTOCSubscriptions(o.htmlElement)}),this.initStickyTOCSubscriptions(e.rootElement))}return TOCModel.prototype.initStickyTOCSubscriptions=function(e){var t=this;TOCModel.StickyPosition&&e&&(e.addEventListener("scroll",function(o){t.updateStickyTOCSize(e)}),this.updateStickyTOCSize(e))},TOCModel.prototype.updateStickyTOCSize=function(e){if(e){var t=e.querySelector("."+TOCModel.RootStyle);if(t&&(t.style.height="",!this.isMobile&&TOCModel.StickyPosition&&e)){var o=e.getBoundingClientRect().height,n="advanced"===this.survey.headerView?".sv-header":".sv_custom_header+div div."+(this.survey.css.title||"sd-title"),r=e.querySelector(n),i=r?r.getBoundingClientRect().height:0,s=e.scrollTop>i?0:i-e.scrollTop;t.style.height=o-s-1+"px"}}},Object.defineProperty(TOCModel.prototype,"isMobile",{get:function(){return this.survey.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(TOCModel.prototype,"containerCss",{get:function(){return getTocRootCss(this.survey,this.isMobile)},enumerable:!1,configurable:!0}),TOCModel.prototype.dispose=function(){this.survey.unRegisterFunctionOnPropertyValueChanged("pages","toc"),this.popupModel.dispose(),this.listModel.dispose()},TOCModel.RootStyle="sv_progress-toc",TOCModel.StickyPosition=!0,TOCModel}(),nG=function(){function SvgIconRegistry(){this.icons={},this.iconPrefix="icon-"}return SvgIconRegistry.prototype.processId=function(e,t){return 0==e.indexOf(t)&&(e=e.substring(t.length)),e=tY[e]||e},SvgIconRegistry.prototype.registerIconFromSymbol=function(e,t){this.icons[e]=t},SvgIconRegistry.prototype.registerIconFromSvgViaElement=function(e,t,o){if(void 0===o&&(o=this.iconPrefix),eD.isAvailable()){e=this.processId(e,o);var n=eD.createElement("div");n.innerHTML=t;var r=eD.createElement("symbol"),i=n.querySelector("svg");r.innerHTML=i.innerHTML;for(var s=0;s<i.attributes.length;s++)r.setAttributeNS("http://www.w3.org/2000/svg",i.attributes[s].name,i.attributes[s].value);r.id=o+e,this.registerIconFromSymbol(e,r.outerHTML)}},SvgIconRegistry.prototype.registerIconFromSvg=function(e,t,o){void 0===o&&(o=this.iconPrefix),e=this.processId(e,o);var n="<svg ",r="</svg>",i=(t=t.trim()).toLowerCase();return i.substring(0,n.length)===n&&i.substring(i.length-r.length,i.length)===r&&(this.registerIconFromSymbol(e,'<symbol id="'+o+e+'" '+t.substring(n.length,i.length-r.length)+"</symbol>"),!0)},SvgIconRegistry.prototype.registerIconsFromFolder=function(e){var t=this;e.keys().forEach(function(o){t.registerIconFromSvg(o.substring(2,o.length-4).toLowerCase(),e(o))})},SvgIconRegistry.prototype.iconsRenderedHtml=function(){var e=this;return Object.keys(this.icons).map(function(t){return e.icons[t]}).join("")},SvgIconRegistry}(),nZ=new nG,nK={};nK.V1=o("./packages/survey-core/src/images-v1 sync recursive \\.svg$"),nK.V2=o("./packages/survey-core/src/images-v2 sync recursive \\.svg$");var nY=(q=function(e,t){return(q=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}q(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),survey_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},nX=function(e){function SurveyModel(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this)||this;n.valuesHash={},n.variablesHash={},n.onTriggerExecuted=n.addEvent(),n.onCompleting=n.addEvent(),n.onComplete=n.addEvent(),n.onShowingPreview=n.addEvent(),n.onNavigateToUrl=n.addEvent(),n.onStarted=n.addEvent(),n.onPartialSend=n.addEvent(),n.onCurrentPageChanging=n.addEvent(),n.onCurrentPageChanged=n.addEvent(),n.onValueChanging=n.addEvent(),n.onValueChanged=n.addEvent(),n.onVariableChanged=n.addEvent(),n.onQuestionVisibleChanged=n.addEvent(),n.onVisibleChanged=n.onQuestionVisibleChanged,n.onPageVisibleChanged=n.addEvent(),n.onPanelVisibleChanged=n.addEvent(),n.onQuestionCreated=n.addEvent(),n.onQuestionAdded=n.addEvent(),n.onQuestionRemoved=n.addEvent(),n.onPanelAdded=n.addEvent(),n.onPanelRemoved=n.addEvent(),n.onPageAdded=n.addEvent(),n.onValidateQuestion=n.addEvent(),n.onSettingQuestionErrors=n.addEvent(),n.onServerValidateQuestions=n.addEvent(),n.onValidatePanel=n.addEvent(),n.onErrorCustomText=n.addEvent(),n.onValidatedErrorsOnCurrentPage=n.addEvent(),n.onProcessHtml=n.addEvent(),n.onGetQuestionDisplayValue=n.addEvent(),n.onGetQuestionTitle=n.addEvent(),n.onGetTitleTagName=n.addEvent(),n.onGetQuestionNumber=n.addEvent(),n.onGetQuestionNo=n.onGetQuestionNumber,n.onGetPageNumber=n.addEvent(),n.onProgressText=n.addEvent(),n.onTextMarkdown=n.addEvent(),n.onTextRenderAs=n.addEvent(),n.onSendResult=n.addEvent(),n.onGetResult=n.addEvent(),n.onOpenFileChooser=n.addEvent(),n.onUploadFiles=n.addEvent(),n.onDownloadFile=n.addEvent(),n.onClearFiles=n.addEvent(),n.onLoadChoicesFromServer=n.addEvent(),n.onLoadedSurveyFromService=n.addEvent(),n.onProcessTextValue=n.addEvent(),n.onUpdateQuestionCssClasses=n.addEvent(),n.onUpdatePanelCssClasses=n.addEvent(),n.onUpdatePageCssClasses=n.addEvent(),n.onUpdateChoiceItemCss=n.addEvent(),n.onAfterRenderSurvey=n.addEvent(),n.onAfterRenderHeader=n.addEvent(),n.onAfterRenderPage=n.addEvent(),n.onAfterRenderQuestion=n.addEvent(),n.onAfterRenderQuestionInput=n.addEvent(),n.onAfterRenderPanel=n.addEvent(),n.onFocusInQuestion=n.addEvent(),n.onFocusInPanel=n.addEvent(),n.onShowingChoiceItem=n.addEvent(),n.onChoicesLazyLoad=n.addEvent(),n.onChoicesSearch=n.addEvent(),n.onGetChoiceDisplayValue=n.addEvent(),n.onMatrixRowAdded=n.addEvent(),n.onMatrixRowAdding=n.addEvent(),n.onMatrixBeforeRowAdded=n.onMatrixRowAdding,n.onMatrixRowRemoving=n.addEvent(),n.onMatrixRowRemoved=n.addEvent(),n.onMatrixRenderRemoveButton=n.addEvent(),n.onMatrixAllowRemoveRow=n.onMatrixRenderRemoveButton,n.onMatrixDetailPanelVisibleChanged=n.addEvent(),n.onMatrixCellCreating=n.addEvent(),n.onMatrixCellCreated=n.addEvent(),n.onAfterRenderMatrixCell=n.addEvent(),n.onMatrixAfterCellRender=n.onAfterRenderMatrixCell,n.onMatrixCellValueChanged=n.addEvent(),n.onMatrixCellValueChanging=n.addEvent(),n.onMatrixCellValidate=n.addEvent(),n.onMatrixColumnAdded=n.addEvent(),n.onMultipleTextItemAdded=n.addEvent(),n.onDynamicPanelAdded=n.addEvent(),n.onDynamicPanelRemoved=n.addEvent(),n.onDynamicPanelRemoving=n.addEvent(),n.onTimerTick=n.addEvent(),n.onTimer=n.onTimerTick,n.onTimerPanelInfoText=n.addEvent(),n.onDynamicPanelItemValueChanged=n.addEvent(),n.onGetDynamicPanelTabTitle=n.addEvent(),n.onDynamicPanelCurrentIndexChanged=n.addEvent(),n.onIsAnswerCorrect=n.addEvent(),n.onDragDropAllow=n.addEvent(),n.onScrollingElementToTop=n.addEvent(),n.onLocaleChangedEvent=n.addEvent(),n.onGetQuestionTitleActions=n.addEvent(),n.onGetPanelTitleActions=n.addEvent(),n.onGetPageTitleActions=n.addEvent(),n.onGetPanelFooterActions=n.addEvent(),n.onGetMatrixRowActions=n.addEvent(),n.onElementContentVisibilityChanged=n.addEvent(),n.onGetExpressionDisplayValue=n.addEvent(),n.onPopupVisibleChanged=n.addEvent(),n.onOpenDropdownMenu=n.addEvent(),n.onElementWrapperComponentName=n.addEvent(),n.onElementWrapperComponentData=n.addEvent(),n.jsonErrors=null,n.cssValue=null,n.showHeaderOnCompletePage="auto",n._isLazyRenderingSuspended=!1,n.hideRequiredErrors=!1,n.cssVariables={},n._isMobile=!1,n._isCompact=!1,n.setValueOnExpressionCounter=0,n._isDesignMode=!1,n.validationAllowSwitchPages=!1,n.validationAllowComplete=!1,n.isNavigationButtonPressed=!1,n.mouseDownPage=null,n.isCalculatingProgressText=!1,n.isSmoothScrollEnabled=!1,n.onResize=new tv,n.isCurrentPageRendering=!0,n.isCurrentPageRendered=void 0,n.skeletonHeight=void 0,n.isTriggerIsRunning=!1,n.triggerValues=null,n.triggerKeys=null,n.conditionValues=null,n.isValueChangedOnRunningCondition=!1,n.conditionRunnerCounter=0,n.conditionUpdateVisibleIndexes=!1,n.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,n.isEndLoadingFromJson=null,n.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},n.setValueFromTriggerCounter=0,n.needRenderIcons=!0,n.skippedPages=[],n.skeletonComponentName="sv-skeleton",n.taskManager=new nQ,n.questionErrorComponent="sv-question-error",n.onBeforeRunConstructor();var htmlCallBack=function(e){return"<h3>"+e+"</h3>"};n.createHtmlLocString("completedHtml","completingSurvey",htmlCallBack),n.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",htmlCallBack,"completed-before"),n.createHtmlLocString("loadingHtml","loadingSurvey",htmlCallBack,"loading"),n.createLocalizableString("emptySurveyText",n,!0,"emptySurvey"),n.createLocalizableString("logo",n,!1),n.createLocalizableString("startSurveyText",n,!1,!0),n.createLocalizableString("pagePrevText",n,!1,!0),n.createLocalizableString("pageNextText",n,!1,!0),n.createLocalizableString("completeText",n,!1,!0),n.createLocalizableString("previewText",n,!1,!0),n.createLocalizableString("editText",n,!1,!0),n.createLocalizableString("questionTitleTemplate",n,!0),n.timerModelValue=new n_(n),n.timerModelValue.onTimerTick=function(e){n.doTimer(e)},n.createNewArray("pages",function(e){e.isReadyForCleanChangedCallback&&e.isReadyForCleanChangedCallback(),n.doOnPageAdded(e)},function(e){e.isReadyForClean?n.doOnPageRemoved(e):e.isReadyForCleanChangedCallback=function(){n.doOnPageRemoved(e),e.isReadyForCleanChangedCallback=void 0}}),n.createNewArray("triggers",function(e){e.setOwner(n)}),n.createNewArray("calculatedValues",function(e){e.setOwner(n)}),n.createNewArray("completedHtmlOnCondition",function(e){e.locOwner=n}),n.createNewArray("navigateToUrlOnCondition",function(e){e.locOwner=n}),n.registerPropertyChangedHandlers(["locale"],function(){n.onSurveyLocaleChanged()}),n.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){n.onFirstPageIsStartedChanged()}),n.registerPropertyChangedHandlers(["mode"],function(){n.onModeChanged()}),n.registerPropertyChangedHandlers(["progressBarType"],function(){n.updateProgressText()}),n.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){n.resetVisibleIndexes()}),n.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage","isShowingPreview"],function(){n.updateState()}),n.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){n.onStateAndCurrentPageChanged()}),n.registerPropertyChangedHandlers(["logo","logoPosition"],function(){n.updateHasLogo()}),n.registerPropertyChangedHandlers(["backgroundImage"],function(){n.updateRenderBackgroundImage()}),n.registerPropertyChangedHandlers(["renderBackgroundImage","backgroundOpacity","backgroundImageFit","fitToContainer","backgroundImageAttachment"],function(){n.updateBackgroundImageStyle()}),n.registerPropertyChangedHandlers(["showPrevButton","showCompleteButton"],function(){n.updateButtonsVisibility()}),n.onGetQuestionNumber.onCallbacksChanged=function(){n.resetVisibleIndexes()},n.onProgressText.onCallbacksChanged=function(){n.updateProgressText()},n.onTextMarkdown.onCallbacksChanged=function(){n.locStrsChanged()},n.onProcessHtml.onCallbacksChanged=function(){n.locStrsChanged()},n.onGetQuestionTitle.onCallbacksChanged=function(){n.locStrsChanged()},n.onUpdatePageCssClasses.onCallbacksChanged=function(){n.currentPage&&n.currentPage.updateElementCss()},n.onUpdatePanelCssClasses.onCallbacksChanged=function(){n.currentPage&&n.currentPage.updateElementCss()},n.onUpdateQuestionCssClasses.onCallbacksChanged=function(){n.currentPage&&n.currentPage.updateElementCss()},n.onShowingChoiceItem.onCallbacksChanged=function(){n.rebuildQuestionChoices()},n.navigationBarValue=n.createNavigationBar(),n.navigationBar.locOwner=n,n.onBeforeCreating(),t&&(("string"==typeof t||t instanceof String)&&(t=JSON.parse(t)),t&&t.clientId&&(n.clientId=t.clientId),n.fromJSON(t),n.surveyId&&n.loadSurveyFromService(n.surveyId,n.clientId)),n.onCreating(),o&&n.render(o),n.updateCss(),n.setCalculatedWidthModeUpdater(),n.notifier=new nR(n.css.saveData),n.notifier.addAction(n.createTryAgainAction(),"error"),n.onPopupVisibleChanged.add(function(e,t){t.visible?n.onScrollCallback=function(){t.popup.hide()}:n.onScrollCallback=void 0}),n.progressBarValue=new nW(n),n.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:n.timerModel}),n.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",data:n.progressBar,processResponsiveness:function(e){return n.progressBar.processResponsiveness&&n.progressBar.processResponsiveness(e)}}),n.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:n}),n.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:n}),n.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:n}),n.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:n});var r=new n$(n);return n.addLayoutElement({id:"toc-navigation",component:"sv-navigation-toc",data:r,processResponsiveness:function(e){return r.updateStickyTOCSize(n.rootElement)}}),n.layoutElements.push({id:"buttons-navigation",component:"sv-action-bar",data:n.navigationBar}),n.locTitle.onStringChanged.add(function(){return n.titleIsEmpty=n.locTitle.isEmpty}),n.registerIcons(),n}return nY(SurveyModel,e),Object.defineProperty(SurveyModel.prototype,"platformName",{get:function(){return SurveyModel.platform},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"commentSuffix",{get:function(){return t0.commentSuffix},set:function(e){t0.commentSuffix=e},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"commentPrefix",{get:function(){return this.commentSuffix},set:function(e){this.commentSuffix=e},enumerable:!1,configurable:!0}),SurveyModel.prototype.processClosedPopup=function(e,t){throw Error("Method not implemented.")},SurveyModel.prototype.createTryAgainAction=function(){var e=this;return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:function(){e.isCompleted?e.saveDataOnComplete():e.doComplete()}}},SurveyModel.prototype.createHtmlLocString=function(e,t,o,n){var r=this,i=this.createLocalizableString(e,this,!1,t);i.onGetLocalizationTextCallback=o,n&&(i.onGetTextCallback=function(e){return r.processHtml(e,n)})},SurveyModel.prototype.getType=function(){return"survey"},SurveyModel.prototype.onPropertyValueChanged=function(e,t,o){"questionsOnPageMode"===e&&this.onQuestionsOnPageModeChanged(t)},Object.defineProperty(SurveyModel.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),SurveyModel.prototype.render=function(e){void 0===e&&(e=null),this.renderCallback&&this.renderCallback()},SurveyModel.prototype.updateSurvey=function(e,t){var o=this;for(var n in e)!function(){if("model"!=n&&"children"!=n){if(0==n.indexOf("on")&&o[n]&&o[n].add){var t=e[n];o[n].add(function(e,o){t(e,o)})}else o[n]=e[n]}}();e&&e.data&&this.onValueChanged.add(function(t,o){e.data[o.name]=o.value})},SurveyModel.prototype.getCss=function(){return this.css},SurveyModel.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=new tP().append(this.css.body).append(this.css.completedPage).toString(),this.completedBeforeCss=new tP().append(this.css.body).append(this.css.completedBeforePage).toString(),this.loadingBodyCss=new tP().append(this.css.body).append(this.css.bodyLoading).toString()},SurveyModel.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss(),this.updateWrapperFormCss()},Object.defineProperty(SurveyModel.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,nC.getCss())),this.cssValue},set:function(e){this.setCss(e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.setCss=function(e,t){void 0===t&&(t=!0),t?this.mergeValues(e,this.css):this.cssValue=e,this.updateElementCss(!1)},Object.defineProperty(SurveyModel.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"cssSurveyNavigationButton",{get:function(){return new tP().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"bodyCss",{get:function(){return new tP().append(this.css.body).append(this.css.bodyWithTimer,this.showTimer&&"running"===this.state).append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"bodyContainerCss",{get:function(){return this.css.bodyContainer},enumerable:!1,configurable:!0}),SurveyModel.prototype.insertAdvancedHeader=function(e){e.survey=this,this.layoutElements.push({id:"advanced-header",container:"header",component:"sv-header",index:-100,data:e,processResponsiveness:function(t){return e.processResponsiveness(t)}})},SurveyModel.prototype.getNavigationCss=function(e,t){return new tP().append(e).append(t).toString()},Object.defineProperty(SurveyModel.prototype,"lazyRendering",{get:function(){return!0===this.lazyRenderingValue},set:function(e){if(this.lazyRendering!==e){this.lazyRenderingValue=e;var t=this.currentPage;t&&t.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||t0.lazyRender.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"lazyRenderingFirstBatchSize",{get:function(){return this.lazyRenderingFirstBatchSizeValue||t0.lazyRender.firstBatchSize},set:function(e){this.lazyRenderingFirstBatchSizeValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isLazyRenderingSuspended",{get:function(){return this._isLazyRenderingSuspended},enumerable:!1,configurable:!0}),SurveyModel.prototype.suspendLazyRendering=function(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!0)},SurveyModel.prototype.releaseLazyRendering=function(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!1)},SurveyModel.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var e=this.currentPage;e&&activateLazyRenderingChecks(e.id)}},Object.defineProperty(SurveyModel.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(e){this.setPropertyValue("triggers",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(e){this.setPropertyValue("calculatedValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(e){this.setPropertyValue("surveyId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(e){this.setPropertyValue("surveyPostId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(e){this.setPropertyValue("clientId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(e){this.setPropertyValue("cookieName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext")},set:function(e){this.setPropertyValue("sendResultOnPageNext",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving")},set:function(e){this.setPropertyValue("surveyShowDataSaving",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(e){this.setPropertyValue("focusFirstQuestionAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(e){this.setPropertyValue("focusOnFirstError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(e){(!0===e||void 0===e)&&(e="bottom"),!1===e&&(e="none"),this.setPropertyValue("showNavigationButtons",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(e){this.setPropertyValue("showPrevButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showCompleteButton",{get:function(){return this.getPropertyValue("showCompleteButton",!0)},set:function(e){this.setPropertyValue("showCompleteButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showTOC",{get:function(){return this.getPropertyValue("showTOC")},set:function(e){this.setPropertyValue("showTOC",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"tocLocation",{get:function(){return this.getPropertyValue("tocLocation")},set:function(e){this.setPropertyValue("tocLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(e){this.setPropertyValue("showTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(e){this.setPropertyValue("showPageTitles",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(e){this.setPropertyValue("showCompletedPage",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(e){this.setPropertyValue("navigateToUrl",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(e){this.setPropertyValue("navigateToUrlOnCondition",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.getNavigateToUrl=function(){var e=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),t=e?e.url:this.navigateToUrl;return t&&(t=this.processText(t,!1)),t},SurveyModel.prototype.navigateTo=function(){var e,t,o={url:this.getNavigateToUrl(),allow:!0};this.onNavigateToUrl.fire(this,o),o.url&&o.allow&&(e=o.url,t=eE.getLocation(),e&&t&&(t.href=e&&e.toLocaleLowerCase().indexOf("javascript:")>-1?encodeURIComponent(e):e))},Object.defineProperty(SurveyModel.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(e){this.setPropertyValue("requiredText",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.beforeSettingQuestionErrors=function(e,t){this.makeRequiredErrorsInvisible(t),this.onSettingQuestionErrors.fire(this,{question:e,errors:t})},SurveyModel.prototype.beforeSettingPanelErrors=function(e,t){this.makeRequiredErrorsInvisible(t)},SurveyModel.prototype.makeRequiredErrorsInvisible=function(e){if(this.hideRequiredErrors)for(var t=0;t<e.length;t++){var o=e[t].getErrorType();("required"==o||"requireoneanswer"==o)&&(e[t].visible=!1)}},Object.defineProperty(SurveyModel.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(e){this.setPropertyValue("maxTextLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(e){this.setPropertyValue("maxOthersLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic")},set:function(e){this.setPropertyValue("goNextPageAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic")},set:function(e){this.setPropertyValue("allowCompleteSurveyAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(e){this.setPropertyValue("checkErrorsMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"validateVisitedEmptyFields",{get:function(){return this.getPropertyValue("validateVisitedEmptyFields")},set:function(e){this.setPropertyValue("validateVisitedEmptyFields",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.getValidateVisitedEmptyFields=function(){return this.validateVisitedEmptyFields&&this.isValidateOnValueChange},Object.defineProperty(SurveyModel.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(e){this.setPropertyValue("autoGrowComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"allowResizeComment",{get:function(){return this.getPropertyValue("allowResizeComment")},set:function(e){this.setPropertyValue("allowResizeComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"commentAreaRows",{get:function(){return this.getPropertyValue("commentAreaRows")},set:function(e){this.setPropertyValue("commentAreaRows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(e){!0===e&&(e="onComplete"),!1===e&&(e="none"),this.setPropertyValue("clearInvisibleValues",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.clearIncorrectValues=function(e){void 0===e&&(e=!1);for(var t=0;t<this.pages.length;t++)this.pages[t].clearIncorrectValues();if(e){var o=this.data,n=!1;for(var r in o)if(!(this.getQuestionByValueName(r)||this.iscorrectValueWithPostPrefix(r,t0.commentSuffix)||this.iscorrectValueWithPostPrefix(r,t0.matrix.totalsSuffix))){var i=this.getCalculatedValueByName(r);i&&i.includeIntoResult||(n=!0,delete o[r])}n&&(this.data=o)}},SurveyModel.prototype.iscorrectValueWithPostPrefix=function(e,t){return e.indexOf(t)===e.length-t.length&&!!this.getQuestionByValueName(e.substring(0,e.indexOf(t)))},Object.defineProperty(SurveyModel.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues")},set:function(e){this.setPropertyValue("keepIncorrectValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locale",{get:function(){return this.getPropertyValueWithoutDefault("locale")||eL.currentLocale},set:function(e){e!==eL.defaultLocale||eL.currentLocale||(e=""),this.setPropertyValue("locale",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},Object.defineProperty(SurveyModel.prototype,"localeDir",{get:function(){return eL.localeDirections[this.locale]},enumerable:!1,configurable:!0}),SurveyModel.prototype.getUsedLocales=function(){var e=[];this.addUsedLocales(e);var t=e.indexOf("default");if(t>-1){var o=eL.defaultLocale,n=e.indexOf(o);n>-1&&e.splice(n,1),t=e.indexOf("default"),e[t]=o}return e},SurveyModel.prototype.localeChanged=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].localeChanged()},SurveyModel.prototype.getLocale=function(){return this.locale},SurveyModel.prototype.locStrsChanged=function(){if(!this.isClearingUnsedValues&&(e.prototype.locStrsChanged.call(this),this.currentPage)){if(this.isDesignMode)this.pages.forEach(function(e){return e.locStrsChanged()});else{var t=this.activePage;t&&t.locStrsChanged();for(var o=this.visiblePages,n=0;n<o.length;n++)o[n].navigationLocStrChanged()}this.isShowStartingPage||this.updateProgressText(),this.navigationBar.locStrsChanged()}},SurveyModel.prototype.getMarkdownHtml=function(e,t){return this.getSurveyMarkdownHtml(this,e,t)},SurveyModel.prototype.getRenderer=function(e){return this.getRendererForString(this,e)},SurveyModel.prototype.getRendererContext=function(e){return this.getRendererContextForString(this,e)},SurveyModel.prototype.getRendererForString=function(e,t){var o=this.getBuiltInRendererForString(e,t);o=this.elementWrapperComponentNameCore(o,e,"string",t);var n={element:e,name:t,renderAs:o};return this.onTextRenderAs.fire(this,n),n.renderAs},SurveyModel.prototype.getRendererContextForString=function(e,t){return this.elementWrapperDataCore(t,e,"string")},SurveyModel.prototype.getExpressionDisplayValue=function(e,t,o){var n={question:e,value:t,displayValue:o};return this.onGetExpressionDisplayValue.fire(this,n),n.displayValue},SurveyModel.prototype.getBuiltInRendererForString=function(e,t){if(this.isDesignMode)return tZ.editableRenderer},SurveyModel.prototype.getProcessedText=function(e){return this.processText(e,!0)},SurveyModel.prototype.getLocString=function(e){return this.getLocalizationString(e)},SurveyModel.prototype.getErrorCustomText=function(e,t){return this.getSurveyErrorCustomText(this,e,t)},SurveyModel.prototype.getSurveyErrorCustomText=function(e,t,o){var n={text:t,name:o.getErrorType(),obj:e,error:o};return this.onErrorCustomText.fire(this,n),n.text},SurveyModel.prototype.getQuestionDisplayValue=function(e,t){var o={question:e,displayValue:t};return this.onGetQuestionDisplayValue.fire(this,o),o.displayValue},Object.defineProperty(SurveyModel.prototype,"emptySurveyText",{get:function(){return this.getLocalizableStringText("emptySurveyText")},set:function(e){this.setLocalizableStringText("emptySurveyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(e){this.setLocalizableStringText("logo",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"logoWidth",{get:function(){return this.getPropertyValue("logoWidth")},set:function(e){this.setPropertyValue("logoWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"renderedLogoWidth",{get:function(){return this.logoWidth?getRenderedSize(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"renderedStyleLogoWidth",{get:function(){return this.logoWidth?getRenderedStyleSize(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"logoHeight",{get:function(){return this.getPropertyValue("logoHeight")},set:function(e){this.setPropertyValue("logoHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"renderedLogoHeight",{get:function(){return this.logoHeight?getRenderedSize(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"renderedStyleLogoHeight",{get:function(){return this.logoHeight?getRenderedStyleSize(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(e){this.setPropertyValue("logoPosition",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&"none"!==this.logoPosition)},Object.defineProperty(SurveyModel.prototype,"isLogoBefore",{get:function(){return!this.isDesignMode&&this.renderedHasLogo&&("left"===this.logoPosition||"top"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&("right"===this.logoPosition||"bottom"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"logoClassNames",{get:function(){return new tP().append(this.css.logo).append({left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"}[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.titleIsEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(e){this.setPropertyValue("logoFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"themeVariables",{get:function(){return Object.assign({},this.cssVariables)},enumerable:!1,configurable:!0}),SurveyModel.prototype.setIsMobile=function(e){void 0===e&&(e=!0),this._isMobile!==e&&(this._isMobile=e,this.updateCss(),this.getAllQuestions().forEach(function(t){return t.setIsMobile(e)}))},Object.defineProperty(SurveyModel.prototype,"isMobile",{get:function(){return this._isMobile&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isCompact",{get:function(){return this._isCompact},set:function(e){e!==this._isCompact&&(this._isCompact=e,this.updateElementCss(),this.triggerResponsiveness(!0))},enumerable:!1,configurable:!0}),SurveyModel.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(SurveyModel.prototype,"titleMaxWidth",{get:function(){if(!(eE.isAvailable()&&eE.hasOwn("orientation")||this.isMobile)&&!this.isValueEmpty(this.isLogoImageChoosen())&&!t0.supportCreatorV2){var e=this.logoWidth;if("left"===this.logoPosition||"right"===this.logoPosition)return"calc(100% - 5px - 2em - "+e+")"}return""},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateRenderBackgroundImage=function(){var e=this.backgroundImage;this.renderBackgroundImage=wrapUrlForBackgroundImage(e)},Object.defineProperty(SurveyModel.prototype,"backgroundOpacity",{get:function(){return this.getPropertyValue("backgroundOpacity")},set:function(e){this.setPropertyValue("backgroundOpacity",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateBackgroundImageStyle=function(){this.backgroundImageStyle={opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.fitToContainer?void 0:this.backgroundImageAttachment}},SurveyModel.prototype.updateWrapperFormCss=function(){this.wrapperFormCss=new tP().append(this.css.rootWrapper).append(this.css.rootWrapperHasImage,!!this.backgroundImage).append(this.css.rootWrapperFixed,!!this.backgroundImage&&"fixed"===this.backgroundImageAttachment).toString()},Object.defineProperty(SurveyModel.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(e){this.setLocalizableStringText("completedHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(e){this.setPropertyValue("completedHtmlOnCondition",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.runExpression=function(e,t){if(!e)return null;var o=this.getFilteredValues(),n=this.getFilteredProperties(),r=new tp(e),i=void 0;return r.onRunComplete=function(e){i=e,t&&t(e)},r.run(o,n)||i},Object.defineProperty(SurveyModel.prototype,"isSettingValueOnExpression",{get:function(){return this.setValueOnExpressionCounter>0},enumerable:!1,configurable:!0}),SurveyModel.prototype.startSetValueOnExpression=function(){this.setValueOnExpressionCounter++},SurveyModel.prototype.finishSetValueOnExpression=function(){this.setValueOnExpressionCounter--},SurveyModel.prototype.runCondition=function(e){if(!e)return!1;var t=this.getFilteredValues(),o=this.getFilteredProperties();return new tc(e).run(t,o)},SurveyModel.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(SurveyModel.prototype,"renderedCompletedHtml",{get:function(){var e=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return e?e.html:this.completedHtml},enumerable:!1,configurable:!0}),SurveyModel.prototype.getExpressionItemOnRunCondition=function(e){if(0==e.length)return null;for(var t=this.getFilteredValues(),o=this.getFilteredProperties(),n=0;n<e.length;n++)if(e[n].runCondition(t,o))return e[n];return null},Object.defineProperty(SurveyModel.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(e){this.setLocalizableStringText("completedBeforeHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(e){this.setLocalizableStringText("loadingHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),SurveyModel.prototype.addNavigationItem=function(e){return e.component||(e.component="sv-nav-btn"),e.innerCss||(e.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(e)},Object.defineProperty(SurveyModel.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(e){this.setLocalizableStringText("startSurveyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(e){this.setLocalizableStringText("pagePrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(e){this.setLocalizableStringText("pageNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(e){this.setLocalizableStringText("completeText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(e){this.setLocalizableStringText("previewText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(e){this.setLocalizableStringText("editText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),SurveyModel.prototype.getElementTitleTagName=function(e,t){if(this.onGetTitleTagName.isEmpty)return t;var o={element:e,tagName:t};return this.onGetTitleTagName.fire(this,o),o.tagName},Object.defineProperty(SurveyModel.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(e){"numRequireTitle"!==e&&"requireNumTitle"!==e&&"numTitle"!=e&&(e="numTitleRequire"),this.setPropertyValue("questionTitlePattern",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.getQuestionTitlePatternOptions=function(){var e=[],t=this.getLocalizationString("questionTitlePatternText"),o=this.questionStartIndex?this.questionStartIndex:"1.";return e.push({value:"numTitleRequire",text:o+" "+t+" "+this.requiredText}),e.push({value:"numRequireTitle",text:o+" "+this.requiredText+" "+t}),e.push({value:"numTitle",text:o+" "+t}),e},Object.defineProperty(SurveyModel.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(e){this.setLocalizableStringText("questionTitleTemplate",e),this.questionTitlePattern=this.getNewTitlePattern(e),this.questionStartIndex=this.getNewQuestionTitleElement(e,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(e,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),SurveyModel.prototype.getNewTitlePattern=function(e){if(e){for(var t=[];e.indexOf("{")>-1;){var o=(e=e.substring(e.indexOf("{")+1)).indexOf("}");if(o<0)break;t.push(e.substring(0,o)),e=e.substring(o+1)}if(t.length>1){if("require"==t[0])return"requireNumTitle";if("require"==t[1]&&3==t.length)return"numRequireTitle";if(0>t.indexOf("require"))return"numTitle"}if(1==t.length&&"title"==t[0])return"numTitle"}return"numTitleRequire"},SurveyModel.prototype.getNewQuestionTitleElement=function(e,t,o,n){if(t="{"+t+"}",!e||0>e.indexOf(t))return o;for(var r=e.indexOf(t),i="",s="",a=r-1;a>=0&&"}"!=e[a];a--);for(a<r-1&&(i=e.substring(a+1,r)),r+=t.length,a=r;a<e.length&&"{"!=e[a];a++);for(a>r&&(s=e.substring(r,a)),a=0;a<i.length&&33>i.charCodeAt(a);)a++;for(i=i.substring(a),a=s.length-1;a>=0&&33>s.charCodeAt(a);)a--;return(s=s.substring(0,a+1),i||s)?i+(o||n)+s:o},Object.defineProperty(SurveyModel.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),SurveyModel.prototype.getUpdatedQuestionTitle=function(e,t){if(this.onGetQuestionTitle.isEmpty)return t;var o={question:e,title:t};return this.onGetQuestionTitle.fire(this,o),o.title},SurveyModel.prototype.getUpdatedQuestionNo=function(e,t){if(this.onGetQuestionNumber.isEmpty)return t;var o={question:e,number:t,no:t};return this.onGetQuestionNumber.fire(this,o),o.no===t?o.number:o.no},SurveyModel.prototype.getUpdatedPageNo=function(e,t){if(this.onGetPageNumber.isEmpty)return t;var o={page:e,number:t};return this.onGetPageNumber.fire(this,o),o.number},Object.defineProperty(SurveyModel.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers")},set:function(e){e!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){!0===e&&(e="on"),!1===e&&(e="off"),(e="onpage"===(e=e.toLowerCase())?"onPage":e)!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"progressBar",{get:function(){return this.progressBarValue},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(e){this.setPropertyValue("showProgressBar",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(e){"correctquestion"===e&&(e="correctQuestion"),"requiredquestion"===e&&(e="requiredQuestion"),this.setPropertyValue("progressBarType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"progressBarComponentName",{get:function(){var e=this.progressBarType;return!t0.legacyProgressBarView&&"defaultV2"===nC.currentType&&isStrCiEqual(e,"pages")&&(e="buttons"),"progress-"+e},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isShowProgressBarOnTop",{get:function(){return!!this.canShowProresBar()&&-1!==["auto","aboveheader","belowheader","topbottom","top","both"].indexOf(this.showProgressBar)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isShowProgressBarOnBottom",{get:function(){return!!this.canShowProresBar()&&("bottom"===this.showProgressBar||"both"===this.showProgressBar||"topbottom"===this.showProgressBar)},enumerable:!1,configurable:!0}),SurveyModel.prototype.getProgressTypeComponent=function(){return"sv-progress-"+this.progressBarType.toLowerCase()},SurveyModel.prototype.getProgressCssClasses=function(e){return void 0===e&&(e=""),new tP().append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop&&(!e||"header"==e)).append(this.css.progressBottom,this.isShowProgressBarOnBottom&&(!e||"footer"==e)).toString()},SurveyModel.prototype.canShowProresBar=function(){return!this.isShowingPreview||"showAllQuestions"!=this.showPreviewBeforeComplete},Object.defineProperty(SurveyModel.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateElementCss=function(e){this.startedPage&&this.startedPage.updateElementCss(e);for(var t=this.visiblePages,o=0;o<t.length;o++)t[o].updateElementCss(e);this.updateCss()},Object.defineProperty(SurveyModel.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(e){this.setPropertyValue("questionErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(e){this.setPropertyValue("questionDescriptionLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(e){(e=e.toLowerCase())!=this.mode&&("edit"==e||"display"==e)&&this.setPropertyValue("mode",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.onModeChanged=function(){for(var e=0;e<this.pages.length;e++){var t=this.pages[e];t.setPropertyValue("isReadOnly",t.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(SurveyModel.prototype,"data",{get:function(){for(var e={},t=this.getValuesKeys(),o=0;o<t.length;o++){var n=t[o],r=this.getDataValueCore(this.valuesHash,n);void 0!==r&&(e[n]=r)}return this.setCalculatedValuesIntoResult(e),e},set:function(e){this.valuesHash={},this.setDataCore(e,!e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.mergeData=function(e){if(e){var t=this.data;this.mergeValues(e,t),this.setDataCore(t)}},SurveyModel.prototype.setDataCore=function(e,t){if(void 0===t&&(t=!1),t&&(this.valuesHash={}),e)for(var o in e){var n="string"==typeof o?o.trim():o;this.setDataValueCore(this.valuesHash,n,e[o])}this.updateAllQuestionsValue(t),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue(t)},Object.defineProperty(SurveyModel.prototype,"isSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),SurveyModel.prototype.getData=function(e){var t=e||{includePages:!1,includePanels:!1};return t.includePages||t.includePanels?this.getStructuredData(!!t.includePages,t.includePanels?-1:t.includePages?1:0):this.data},SurveyModel.prototype.getStructuredData=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=-1),0===t)return this.data;var o={};return this.pages.forEach(function(n){if(e){var r={};n.collectValues(r,t-1)&&(o[n.name]=r)}else n.collectValues(o,t)}),o},SurveyModel.prototype.setStructuredData=function(e,t){if(void 0===t&&(t=!1),e){var o={};for(var n in e)if(this.getQuestionByValueName(n))o[n]=e[n];else{var r=this.getPageByName(n);r||(r=this.getPanelByName(n)),r&&this.collectDataFromPanel(r,o,e[n])}t?this.mergeData(o):this.data=o}},SurveyModel.prototype.collectDataFromPanel=function(e,t,o){for(var n in o){var r=e.getElementByName(n);r&&(r.isPanel?this.collectDataFromPanel(r,t,o[n]):t[n]=o[n])}},Object.defineProperty(SurveyModel.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(e){var t=this;if(this.editingObj!=e&&(this.unConnectEditingObj(),this.editingObjValue=e,!this.isDisposed)){if(!e)for(var o=this.getAllQuestions(),n=0;n<o.length;n++)o[n].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(e,o){eY.hasOriginalProperty(t.editingObj,o.name)&&("locale"===o.name&&t.setDataCore({}),t.updateOnSetValue(o.name,t.editingObj[o.name],o.oldValue))},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),SurveyModel.prototype.unConnectEditingObj=function(){this.editingObj&&!this.editingObj.isDisposed&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged)},Object.defineProperty(SurveyModel.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),SurveyModel.prototype.setCalculatedValuesIntoResult=function(e){for(var t=0;t<this.calculatedValues.length;t++){var o=this.calculatedValues[t];o.includeIntoResult&&o.name&&void 0!==this.getVariable(o.name)&&(e[o.name]=this.getVariable(o.name))}},SurveyModel.prototype.getAllValues=function(){return this.data},SurveyModel.prototype.getPlainData=function(e){e||(e={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var t=[],o=[];if(this.getAllQuestions().forEach(function(n){var r=n.getPlainData(e);r&&(t.push(r),o.push(n.valueName||n.name))}),e.includeValues)for(var n=this.getValuesKeys(),r=0;r<n.length;r++){var i=n[r];if(-1==o.indexOf(i)){var s=this.getDataValueCore(this.valuesHash,i);s&&t.push({name:i,title:i,value:s,displayValue:s,isNode:!1,getString:function(e){return"object"==typeof e?JSON.stringify(e):e}})}}return t},SurveyModel.prototype.getFilteredValues=function(){var e={};for(var t in this.variablesHash)e[t]=this.variablesHash[t];if(this.addCalculatedValuesIntoFilteredValues(e),!this.isDesignMode){for(var o=this.getValuesKeys(),n=0;n<o.length;n++){var t=o[n];e[t]=this.getDataValueCore(this.valuesHash,t)}this.getAllQuestions().forEach(function(t){t.hasFilteredValue&&(e[t.getFilteredName()]=t.getFilteredValue())})}return e},SurveyModel.prototype.addCalculatedValuesIntoFilteredValues=function(e){for(var t=this.calculatedValues,o=0;o<t.length;o++)e[t[o].name]=t[o].value},SurveyModel.prototype.getFilteredProperties=function(){return{survey:this}},SurveyModel.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var e=eY.getPropertiesByObj(this.editingObj),t=[],o=0;o<e.length;o++)t.push(e[o].name);return t},SurveyModel.prototype.getDataValueCore=function(e,t){return this.editingObj?eY.getObjPropertyValue(this.editingObj,t):this.getDataFromValueHash(e,t)},SurveyModel.prototype.setDataValueCore=function(e,t,o){this.editingObj?eY.setObjPropertyValue(this.editingObj,t,o):this.setDataToValueHash(e,t,o)},SurveyModel.prototype.deleteDataValueCore=function(e,t){this.editingObj?this.editingObj[t]=null:this.deleteDataFromValueHash(e,t)},SurveyModel.prototype.getDataFromValueHash=function(e,t){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(e,t):e[t]},SurveyModel.prototype.setDataToValueHash=function(e,t,o){this.valueHashSetDataCallback?this.valueHashSetDataCallback(e,t,o):e[t]=o},SurveyModel.prototype.deleteDataFromValueHash=function(e,t){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(e,t):delete e[t]},Object.defineProperty(SurveyModel.prototype,"comments",{get:function(){for(var e={},t=this.getValuesKeys(),o=0;o<t.length;o++){var n=t[o];n.indexOf(this.commentSuffix)>0&&(e[n]=this.getDataValueCore(this.valuesHash,n))}return e},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var e=[],t=0;t<this.pages.length;t++)this.isPageInVisibleList(this.pages[t])&&e.push(this.pages[t]);return e},enumerable:!1,configurable:!0}),SurveyModel.prototype.isPageInVisibleList=function(e){return this.isDesignMode||e.isVisible&&!e.isStartPage},Object.defineProperty(SurveyModel.prototype,"isEmpty",{get:function(){return 0==this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"startedPage",{get:function(){var e=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return e&&(e.onFirstRendering(),e.setWasShown(!0)),e},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(e){if(!this.isLoadingFromJson){var t=this.getPageByObject(e);if((!e||t)&&(t||!this.isCurrentPageAvailable)){var o=this.visiblePages;if(!(null!=t&&0>o.indexOf(t))&&t!=this.currentPage){var n=this.currentPage;(this.isShowingPreview||this.currentPageChanging(t,n))&&(this.setPropertyValue("currentPage",t),t&&(t.onFirstRendering(),t.updateCustomWidgets(),t.setWasShown(!0)),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(t,n))}}}},enumerable:!1,configurable:!0}),SurveyModel.prototype.tryNavigateToPage=function(e){if(this.isDesignMode)return!1;var t=this.visiblePages.indexOf(e);if(t<0||t>=this.visiblePageCount||t===this.currentPageNo)return!1;if(t<this.currentPageNo||this.isValidateOnComplete)return this.currentPageNo=t,!0;for(var o=this.currentPageNo;o<t;o++){var n=this.visiblePages[o];if(!n.validate(!0,!0))return!1;n.passed=!0}return this.currentPage=e,!0},SurveyModel.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(SurveyModel.prototype,"isCurrentPageAvailable",{get:function(){var e=this.currentPage;return!!e&&this.isPageInVisibleList(e)&&this.isPageExistsInSurvey(e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.isPageExistsInSurvey=function(e){return this.pages.indexOf(e)>-1||!!this.onContainsPageCallback&&this.onContainsPageCallback(e)},Object.defineProperty(SurveyModel.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isShowStartingPage",{get:function(){return"starting"===this.state},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"matrixDragHandleArea",{get:function(){return this.getPropertyValue("matrixDragHandleArea","entireItem")},set:function(e){this.setPropertyValue("matrixDragHandleArea",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isShowingPage",{get:function(){return"running"==this.state||"preview"==this.state||this.isShowStartingPage},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateActivePage=function(){var e=this.isShowStartingPage?this.startedPage:this.currentPage;e!==this.activePage&&this.setPropertyValue("activePage",e)},SurveyModel.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},SurveyModel.prototype.getPageByObject=function(e){if(!e)return null;if(e.getType&&"page"==e.getType())return e;if("string"==typeof e||e instanceof String)return this.getPageByName(String(e));if(!isNaN(e)){var t=Number(e),o=this.visiblePages;return e<0||e>=o.length?null:o[t]}return e},Object.defineProperty(SurveyModel.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(e){var t=this.visiblePages;e<0||e>=t.length||(this.currentPage=t[e])},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.focusFirstQuestion=function(){if(!this.focusingQuestionInfo){var e=this.activePage;e&&(e.scrollToTop(),e.focusFirstQuestion())}},SurveyModel.prototype.scrollToTopOnPageChange=function(e){void 0===e&&(e=!0);var t=this.activePage;t&&(e&&t.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.focusingQuestionInfo&&(t.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(SurveyModel.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},SurveyModel.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(SurveyModel.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(e){this.setPropertyValue("isCompleted",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(e){this.isShowingPreview!=e&&(this.setPropertyValue("isShowingPreview",e),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(e){this.setPropertyValue("isStartedState",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(e){this.setPropertyValue("isCompletedBefore",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(e){this.setPropertyValue("isLoading",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),SurveyModel.prototype.setCompletedState=function(e,t){this.setPropertyValue("completedState",e),t||("saving"==e&&(t=this.getLocalizationString("savingData")),"error"==e&&(t=this.getLocalizationString("savingDataError")),"success"==e&&(t=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",t),"completed"===this.state&&this.showCompletedPage&&this.completedState&&this.notify(this.completedStateText,this.completedState,"error"===e)},SurveyModel.prototype.notify=function(e,t,o){void 0===o&&(o=!1),this.notifier.showActions=o,this.notifier.notify(e,t,o)},SurveyModel.prototype.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,e&&this.setDataCore(null,!0),this.timerModel.spent=0;for(var o=0;o<this.pages.length;o++)this.pages[o].timeSpent=0,this.pages[o].setWasShown(!1),this.pages[o].passed=!1;this.onFirstPageIsStartedChanged(),t&&(this.currentPage=this.firstVisiblePage),e&&this.updateValuesWithDefaults()},SurveyModel.prototype.mergeValues=function(e,t){mergeValues(e,t)},SurveyModel.prototype.updateValuesWithDefaults=function(){if(!this.isDesignMode&&!this.isLoading)for(var e=0;e<this.pages.length;e++)for(var t=this.pages[e].questions,o=0;o<t.length;o++)t[o].updateValueWithDefaults()},SurveyModel.prototype.updateCustomWidgets=function(e){e&&e.updateCustomWidgets()},SurveyModel.prototype.currentPageChanging=function(e,t){var o=this.createPageChangeEventOptions(e,t);o.allow=!0,o.allowChanging=!0,this.onCurrentPageChanging.fire(this,o);var n=o.allowChanging&&o.allow;return n&&(this.isCurrentPageRendering=!0),n},SurveyModel.prototype.currentPageChanged=function(e,t){this.notifyQuestionsOnHidingContent(t);var o=this.createPageChangeEventOptions(e,t);t&&!t.passed&&t.validate(!1)&&(t.passed=!0),!0===this.isCurrentPageRendered&&(this.isCurrentPageRendered=!1),this.onCurrentPageChanged.fire(this,o)},SurveyModel.prototype.notifyQuestionsOnHidingContent=function(e){e&&e.questions.forEach(function(e){return e.onHidingContent()})},SurveyModel.prototype.createPageChangeEventOptions=function(e,t){var o=e&&t?e.visibleIndex-t.visibleIndex:0;return{oldCurrentPage:t,newCurrentPage:e,isNextPage:1===o,isPrevPage:-1===o,isGoingForward:o>0,isGoingBackward:o<0,isAfterPreview:!0===this.changeCurrentPageFromPreview}},SurveyModel.prototype.getProgress=function(){if(null==this.currentPage)return 0;if("pages"!==this.progressBarType){var e=this.getProgressInfo();return"requiredQuestions"===this.progressBarType?e.requiredQuestionCount>=1?Math.ceil(100*e.requiredAnsweredQuestionCount/e.requiredQuestionCount):100:e.questionCount>=1?Math.ceil(100*e.answeredQuestionCount/e.questionCount):100}var t=this.visiblePages;return Math.ceil(100*t.indexOf(this.currentPage)/t.length)},Object.defineProperty(SurveyModel.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var e=this.currentPage;return e?"show"===e.navigationButtonsVisibility?"none"===this.showNavigationButtons?"bottom":this.showNavigationButtons:"hide"===e.navigationButtonsVisibility?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),SurveyModel.prototype.getIsNavigationButtonsShowingOn=function(e){var t=this.isNavigationButtonsShowing;return"both"==t||t==e},Object.defineProperty(SurveyModel.prototype,"isEditMode",{get:function(){return"edit"==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isDisplayMode",{get:function(){return"display"==this.mode&&!this.isDesignMode||"preview"==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isUpdateValueTextOnTyping",{get:function(){return"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),SurveyModel.prototype.setDesignMode=function(e){!!this._isDesignMode!=!!e&&(this._isDesignMode=!!e,this.onQuestionsOnPageModeChanged("standard"))},Object.defineProperty(SurveyModel.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(e){var t=this.visiblePages;this.setPropertyValue("showInvisibleElements",e),this.isLoadingFromJson||(this.runConditions(),this.updateAllElementsVisibility(t))},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateAllElementsVisibility=function(e){for(var t=0;t<this.pages.length;t++){var o=this.pages[t];o.updateElementVisibility(),e.indexOf(o)>-1!=o.isVisible&&this.onPageVisibleChanged.fire(this,{page:o,visible:o.isVisible})}},Object.defineProperty(SurveyModel.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&"showAnsweredQuestions"==this.showPreviewBeforeComplete&&this.isAnyQuestionAnswered},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isAnyQuestionAnswered",{get:function(){for(var e=this.getAllQuestions(!0),t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"hasCookie",{get:function(){if(!this.cookieName)return!1;var e=eD.getCookie();return e&&e.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),SurveyModel.prototype.setCookie=function(){this.cookieName&&eD.setCookie(this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},SurveyModel.prototype.deleteCookie=function(){this.cookieName&&eD.setCookie(this.cookieName+"=;")},Object.defineProperty(SurveyModel.prototype,"ignoreValidation",{get:function(){return!this.validationEnabled},set:function(e){this.validationEnabled=!e},enumerable:!1,configurable:!0}),SurveyModel.prototype.nextPage=function(){return!this.isLastPage&&this.doCurrentPageComplete(!1)},SurveyModel.prototype.hasErrorsOnNavigate=function(e){var t=this;if(!this.isEditMode||this.ignoreValidation)return!1;var o=e&&this.validationAllowComplete||!e&&this.validationAllowSwitchPages,func=function(n){(!n||o)&&t.doCurrentPageCompleteCore(e)};return this.isValidateOnComplete?!!this.isLastPage&&!0!==this.validate(!0,this.focusOnFirstError,func,!0)&&!o:!0!==this.validateCurrentPage(func)&&!o},SurveyModel.prototype.checkForAsyncQuestionValidation=function(e,t){var o=this;this.clearAsyncValidationQuesitons();for(var n=this,r=0;r<e.length;r++)!function(){if(e[r].isRunningValidators){var i=e[r];i.onCompletedAsyncValidators=function(e){o.onCompletedAsyncQuestionValidators(i,t,e)},n.asyncValidationQuesitons.push(e[r])}}();return this.asyncValidationQuesitons.length>0},SurveyModel.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var e=this.asyncValidationQuesitons,t=0;t<e.length;t++)e[t].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},SurveyModel.prototype.onCompletedAsyncQuestionValidators=function(e,t,o){if(o){if(this.clearAsyncValidationQuesitons(),t(!0),this.focusOnFirstError&&e&&e.page&&e.page===this.currentPage){for(var n=this.currentPage.questions,r=0;r<n.length;r++)if(n[r]!==e&&n[r].errors.length>0)return;e.focus(!0)}return}for(var i=this.asyncValidationQuesitons,s=0;s<i.length;s++)if(i[s].isRunningValidators)return;t(!1)},Object.defineProperty(SurveyModel.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isCurrentPageValid",{get:function(){return!this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),SurveyModel.prototype.hasCurrentPageErrors=function(e){return this.hasPageErrors(void 0,e)},SurveyModel.prototype.validateCurrentPage=function(e){return this.validatePage(void 0,e)},SurveyModel.prototype.hasPageErrors=function(e,t){var o=this.validatePage(e,t);return void 0===o?o:!o},SurveyModel.prototype.validatePage=function(e,t){return e||(e=this.activePage),!e||!this.checkIsPageHasErrors(e)&&(!t||!this.checkForAsyncQuestionValidation(e.questions,function(e){return t(e)})||void 0)},SurveyModel.prototype.hasErrors=function(e,t,o){void 0===e&&(e=!0),void 0===t&&(t=!1);var n=this.validate(e,t,o);return void 0===n?n:!n},SurveyModel.prototype.validate=function(e,t,o,n){void 0===e&&(e=!0),void 0===t&&(t=!1),o&&(e=!0);for(var r=this.visiblePages,i=!0,s={fireCallback:e,focusOnFirstError:t,firstErrorQuestion:null,result:!1},a=0;a<r.length;a++)r[a].validate(e,t,s)||(i=!1);return(s.firstErrorQuestion&&(t||n)&&(t?s.firstErrorQuestion.focus(!0):this.currentPage=s.firstErrorQuestion.page),i&&o)?!this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(e){return o(e)})||void 0:i},SurveyModel.prototype.ensureUniqueNames=function(e){if(void 0===e&&(e=null),null==e)for(var t=0;t<this.pages.length;t++)this.ensureUniqueName(this.pages[t]);else this.ensureUniqueName(e)},SurveyModel.prototype.ensureUniqueName=function(e){if(e.isPage&&this.ensureUniquePageName(e),e.isPanel&&this.ensureUniquePanelName(e),e.isPage||e.isPanel)for(var t=e.elements,o=0;o<t.length;o++)this.ensureUniqueNames(t[o]);else this.ensureUniqueQuestionName(e)},SurveyModel.prototype.ensureUniquePageName=function(e){var t=this;return this.ensureUniqueElementName(e,function(e){return t.getPageByName(e)})},SurveyModel.prototype.ensureUniquePanelName=function(e){var t=this;return this.ensureUniqueElementName(e,function(e){return t.getPanelByName(e)})},SurveyModel.prototype.ensureUniqueQuestionName=function(e){var t=this;return this.ensureUniqueElementName(e,function(e){return t.getQuestionByName(e)})},SurveyModel.prototype.ensureUniqueElementName=function(e,t){var o=t(e.name);if(o&&o!=e){for(var n=this.getNewName(e.name);t(n);)var n=this.getNewName(e.name);e.name=n}},SurveyModel.prototype.getNewName=function(e){for(var t=e.length;t>0&&e[t-1]>="0"&&e[t-1]<="9";)t--;var o=e.substring(0,t),n=0;return t<e.length&&(n=parseInt(e.substring(t))),o+ ++n},SurveyModel.prototype.checkIsCurrentPageHasErrors=function(e){return void 0===e&&(e=void 0),this.checkIsPageHasErrors(this.activePage,e)},SurveyModel.prototype.checkIsPageHasErrors=function(e,t){if(void 0===t&&(t=void 0),void 0===t&&(t=this.focusOnFirstError),!e)return!0;var o=!e.validate(!0,t);return this.fireValidatedErrorsOnPage(e),o},SurveyModel.prototype.fireValidatedErrorsOnPage=function(e){if(!this.onValidatedErrorsOnCurrentPage.isEmpty&&e){for(var t=e.questions,o=[],n=[],r=0;r<t.length;r++){var i=t[r];if(i.errors.length>0){o.push(i);for(var s=0;s<i.errors.length;s++)n.push(i.errors[s])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:o,errors:n,page:e})}},SurveyModel.prototype.prevPage=function(){var e=this;if(this.isFirstPage||"starting"===this.state)return!1;this.resetNavigationButton();var t=this.skippedPages.find(function(t){return t.to==e.currentPage});if(t)this.currentPage=t.from,this.skippedPages.splice(this.skippedPages.indexOf(t),1);else{var o=this.visiblePages,n=o.indexOf(this.currentPage);this.currentPage=o[n-1]}return!0},SurveyModel.prototype.completeLastPage=function(){this.isValidateOnComplete&&this.cancelPreview();var e=this.doCurrentPageComplete(!0);return e&&this.cancelPreview(),e},SurveyModel.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},SurveyModel.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},SurveyModel.prototype.nextPageUIClick=function(){if(!this.mouseDownPage||this.mouseDownPage===this.activePage)return this.mouseDownPage=null,this.nextPage()},SurveyModel.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},SurveyModel.prototype.showPreview=function(){return this.resetNavigationButton(),!(!this.isValidateOnComplete&&(this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0)))&&(this.showPreviewCore(),!0)},SurveyModel.prototype.showPreviewCore=function(){var e={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,e),this.isShowingPreview=e.allowShowPreview&&e.allow},SurveyModel.prototype.cancelPreview=function(e){void 0===e&&(e=null),this.isShowingPreview&&(this.gotoPageFromPreview=e,this.isShowingPreview=!1)},SurveyModel.prototype.cancelPreviewByPage=function(e){this.cancelPreview(e.originalPage)},SurveyModel.prototype.doCurrentPageComplete=function(e){return!this.isValidatingOnServer&&(this.resetNavigationButton(),!this.hasErrorsOnNavigate(e)&&this.doCurrentPageCompleteCore(e))},SurveyModel.prototype.doCurrentPageCompleteCore=function(e){return!this.doServerValidation(e)&&(e?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger)):(this.doNextPage(),!0))},Object.defineProperty(SurveyModel.prototype,"isSinglePage",{get:function(){return"singlePage"==this.questionsOnPageMode},set:function(e){this.questionsOnPageMode=e?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(e){this.setPropertyValue("questionsOnPageMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted")},set:function(e){this.setPropertyValue("firstPageIsStarted",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.isPageStarted=function(e){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===e},Object.defineProperty(SurveyModel.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(e){this.setPropertyValue("showPreviewBeforeComplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isShowPreviewBeforeComplete",{get:function(){var e=this.showPreviewBeforeComplete;return"showAllQuestions"==e||"showAnsweredQuestions"==e},enumerable:!1,configurable:!0}),SurveyModel.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},SurveyModel.prototype.onShowingPreviewChanged=function(){if(!this.isDesignMode){if(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0,!1)):(this.runningPages&&this.restoreOriginalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.isShowingPreview)this.currentPageNo=0;else{var e=this.gotoPageFromPreview;this.gotoPageFromPreview=null,eQ.isValueEmpty(e)&&this.visiblePageCount>0&&(e=this.visiblePages[this.visiblePageCount-1]),e&&(this.changeCurrentPageFromPreview=!0,this.currentPage=e,this.changeCurrentPageFromPreview=!1)}}},SurveyModel.prototype.onQuestionsOnPageModeChanged=function(e,t){void 0===t&&(t=!1),this.isShowingPreview||("standard"==this.questionsOnPageMode||this.isDesignMode?(this.originalPages&&this.restoreOriginalPages(this.originalPages),this.originalPages=void 0):(e&&"standard"!=e||(this.originalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage,t)),this.runConditions(),this.updateVisibleIndexes())},SurveyModel.prototype.restoreOriginalPages=function(e){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var t=0;t<e.length;t++){var o=e[t];o.setWasShown(!1),this.pages.push(o)}},SurveyModel.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},SurveyModel.prototype.setupPagesForPageModes=function(t,o){var n=this;this.questionHashesClear(),this.firstPageIsStarted&&this.pages.length>0&&this.pages[0].questions.forEach(function(e){return n.questionHashesAdded(e)}),this.isLockingUpdateOnPageModes=!o;var r=this.getPageStartIndex();e.prototype.startLoadingFromJson.call(this);var i=this.createPagesForQuestionOnPageMode(t,r),s=this.pages.length-r;this.pages.splice(r,s);for(var a=0;a<i.length;a++)this.pages.push(i[a]);e.prototype.endLoadingFromJson.call(this);for(var a=0;a<i.length;a++)i[a].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage(),this.isLockingUpdateOnPageModes=!1},SurveyModel.prototype.createPagesForQuestionOnPageMode=function(e,t){return e?[this.createSinglePage(t)]:this.createPagesForEveryQuestion(t)},SurveyModel.prototype.createSinglePage=function(e){var t=this.createNewPage("all");t.setSurveyImpl(this);for(var o=e;o<this.pages.length;o++){var n=this.pages[o],r=eY.createClass("panel");r.originalPage=n,t.addPanel(r);var i=new eK().toJsonObject(n);new eK().toObject(i,r)}return t},SurveyModel.prototype.createPagesForEveryQuestion=function(e){for(var t=[],o=e;o<this.pages.length;o++){var n=this.pages[o];n.setWasShown(!0);for(var r=0;r<n.elements.length;r++){var i=n.elements[r],s=eY.createClass(i.getType());if(s){var a=new eK;a.lightSerializing=!0;var l=a.toJsonObject(n),u=eY.createClass(n.getType());u.fromJSON(l),u.name=i.name,u.setSurveyImpl(this),t.push(u);var c=new eK().toJsonObject(i);u.addElement(s),new eK().toObject(c,s);for(var p=0;p<u.questions.length;p++)this.questionHashesAdded(u.questions[p])}}}return t},Object.defineProperty(SurveyModel.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(SurveyModel.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateIsFirstLastPageState=function(){var e=this.currentPage;this.setPropertyValue("isFirstPage",!!e&&e===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!e&&e===this.lastVisiblePage)},SurveyModel.prototype.calcIsShowPrevButton=function(){if(this.isFirstPage||!this.showPrevButton||"running"!==this.state)return!1;var e=this.visiblePages[this.currentPageNo-1];return e&&0>=e.getMaxTimeToFinish()},SurveyModel.prototype.calcIsShowNextButton=function(){return"running"===this.state&&!this.isLastPage&&!this.canBeCompletedByTrigger},SurveyModel.prototype.calcIsCompleteButtonVisible=function(){var e=this.state;return this.isEditMode&&("running"===this.state&&(this.isLastPage&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||"preview"===e)&&this.showCompleteButton},SurveyModel.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"running"==this.state&&this.isLastPage},SurveyModel.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"preview"==this.state},Object.defineProperty(SurveyModel.prototype,"firstVisiblePage",{get:function(){for(var e=this.pages,t=0;t<e.length;t++)if(this.isPageInVisibleList(e[t]))return e[t];return null},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"lastVisiblePage",{get:function(){for(var e=this.pages,t=e.length-1;t>=0;t--)if(this.isPageInVisibleList(e[t]))return e[t];return null},enumerable:!1,configurable:!0}),SurveyModel.prototype.doComplete=function(e,t){if(void 0===e&&(e=!1),!this.isCompleted)return this.checkOnCompletingEvent(e,t)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.notifyQuestionsOnHidingContent(this.currentPage),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(e,t),this.setCookie(),!0):(this.isCompleted=!1,!1)},SurveyModel.prototype.saveDataOnComplete=function(e,t){var o=this;void 0===e&&(e=!1);var n=this.hasCookie,showSaveInProgress=function(e){r=!0,o.setCompletedState("saving",e)},showSaveError=function(e){o.setCompletedState("error",e)},showSaveSuccess=function(e){o.setCompletedState("success",e),o.navigateTo()},clearSaveMessages=function(e){o.setCompletedState("","")},r=!1,i={isCompleteOnTrigger:e,completeTrigger:t,showSaveInProgress:showSaveInProgress,showSaveError:showSaveError,showSaveSuccess:showSaveSuccess,clearSaveMessages:clearSaveMessages,showDataSaving:showSaveInProgress,showDataSavingError:showSaveError,showDataSavingSuccess:showSaveSuccess,showDataSavingClear:clearSaveMessages};this.onComplete.fire(this,i),!n&&this.surveyPostId&&this.sendResult(),r||this.navigateTo()},SurveyModel.prototype.checkOnCompletingEvent=function(e,t){var o={allowComplete:!0,allow:!0,isCompleteOnTrigger:e,completeTrigger:t};return this.onCompleting.fire(this,o),o.allowComplete&&o.allow},SurveyModel.prototype.start=function(){return!!this.firstPageIsStarted&&(this.isCurrentPageRendering=!0,!this.checkIsPageHasErrors(this.startedPage,!0)&&(this.isStartedState=!1,this.notifyQuestionsOnHidingContent(this.pages[0]),this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),!0))},Object.defineProperty(SurveyModel.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),SurveyModel.prototype.setIsValidatingOnServer=function(e){e!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",e),this.onIsValidatingOnServerChanged())},SurveyModel.prototype.createServerValidationOptions=function(e,t){var o=this,n={data:{},errors:{},survey:this,complete:function(){o.completeServerValidation(n,t)}};if(e&&this.isValidateOnComplete)n.data=this.data;else for(var r=this.activePage.questions,i=0;i<r.length;i++){var s=r[i];if(s.visible){var a=this.getValue(s.getValueName());this.isValueEmpty(a)||(n.data[s.getValueName()]=a)}}return n},SurveyModel.prototype.onIsValidatingOnServerChanged=function(){},SurveyModel.prototype.doServerValidation=function(e,t){var o=this;if(void 0===t&&(t=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!e&&this.isValidateOnComplete)return!1;this.setIsValidatingOnServer(!0);var n="function"==typeof this.onServerValidateQuestions;return this.serverValidationEventCount=n?1:this.onServerValidateQuestions.length,n?this.onServerValidateQuestions(this,this.createServerValidationOptions(e,t)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return o.createServerValidationOptions(e,t)}),!0},SurveyModel.prototype.completeServerValidation=function(e,t){if((!(this.serverValidationEventCount>1)||(this.serverValidationEventCount--,!e||!e.errors||0!==Object.keys(e.errors).length))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),e||e.survey)){var o=e.survey,n=!1;if(e.errors){var r=this.focusOnFirstError;for(var i in e.errors){var s=o.getQuestionByName(i);s&&s.errors&&(n=!0,s.addError(new ol(e.errors[i],this)),r&&(r=!1,s.page&&(this.currentPage=s.page),s.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}n||(t?this.showPreviewCore():o.isLastPage?o.doComplete():o.doNextPage())}},SurveyModel.prototype.doNextPage=function(){var e=this.currentPage;if(this.checkOnPageTriggers(!1),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),e===this.currentPage){var t=this.visiblePages,o=t.indexOf(this.currentPage);this.currentPage=t[o+1]}},SurveyModel.prototype.setCompleted=function(e){this.doComplete(!0,e)},SurveyModel.prototype.canBeCompleted=function(e,t){if(t0.triggers.changeNavigationButtonsOnComplete){var o,n=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),t?this.completedByTriggers[e.id]={trigger:e,pageId:null===(o=this.currentPage)||void 0===o?void 0:o.id}:delete this.completedByTriggers[e.id],n!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}},Object.defineProperty(SurveyModel.prototype,"canBeCompletedByTrigger",{get:function(){if(!this.completedByTriggers)return!1;var e,t=Object.keys(this.completedByTriggers);if(0===t.length)return!1;var o=null===(e=this.currentPage)||void 0===e?void 0:e.id;if(!o)return!0;for(var n=0;n<t.length;n++)if(o===this.completedByTriggers[t[n]].pageId)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"completedTrigger",{get:function(){if(this.canBeCompletedByTrigger){var e=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[e].trigger}},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"processedCompletedHtml",{get:function(){var e=this.renderedCompletedHtml;return e?this.processHtml(e,"completed"):""},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"processedCompletedBeforeHtml",{get:function(){return this.locCompletedBeforeHtml.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"processedLoadingHtml",{get:function(){return this.locLoadingHtml.textOrHtml},enumerable:!1,configurable:!0}),SurveyModel.prototype.getProgressInfo=function(){var e=this.isDesignMode?this.pages:this.visiblePages;return t$.getProgressInfoByElements(e,!1)},Object.defineProperty(SurveyModel.prototype,"progressText",{get:function(){var e=this.getPropertyValue("progressText","");return e||(this.updateProgressText(),e=this.getPropertyValue("progressText","")),e},enumerable:!1,configurable:!0}),SurveyModel.prototype.updateProgressText=function(e){void 0===e&&(e=!1),this.isCalculatingProgressText||this.isShowingPreview||this.isLockingUpdateOnPageModes||e&&"pages"==this.progressBarType&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1)},SurveyModel.prototype.getProgressText=function(){if(!this.isDesignMode&&null==this.currentPage)return"";var e={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},t=this.progressBarType.toLowerCase();if("questions"===t||"requiredquestions"===t||"correctquestions"===t||!this.onProgressText.isEmpty){var o=this.getProgressInfo();e.questionCount=o.questionCount,e.answeredQuestionCount=o.answeredQuestionCount,e.requiredQuestionCount=o.requiredQuestionCount,e.requiredAnsweredQuestionCount=o.requiredAnsweredQuestionCount}return e.text=this.getProgressTextCore(e),this.onProgressText.fire(this,e),e.text},SurveyModel.prototype.getProgressTextCore=function(e){var t=this.progressBarType.toLowerCase();if("questions"===t)return this.getLocalizationFormatString("questionsProgressText",e.answeredQuestionCount,e.questionCount);if("requiredquestions"===t)return this.getLocalizationFormatString("questionsProgressText",e.requiredAnsweredQuestionCount,e.requiredQuestionCount);if("correctquestions"===t){var o=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",o,e.questionCount)}var n=this.isDesignMode?this.pages:this.visiblePages,r=n.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",r,n.length)},SurveyModel.prototype.getRootCss=function(){return new tP().append(this.css.root).append(this.css.rootProgress+"--"+this.progressBarType).append(this.css.rootMobile,this.isMobile).append(this.css.rootAnimationDisabled,!t0.animationEnabled).append(this.css.rootReadOnly,"display"===this.mode&&!this.isDesignMode).append(this.css.rootCompact,this.isCompact).append(this.css.rootFitToContainer,this.fitToContainer).toString()},SurveyModel.prototype.afterRenderSurvey=function(e){var t=this;this.destroyResizeObserver(),Array.isArray(e)&&(e=t$.GetFirstNonTextElement(e));var o=e,n=this.css.variables;if(n){var r=Number.parseFloat(eD.getComputedStyle(o).getPropertyValue(n.mobileWidth));if(r){var i=!1;this.resizeObserver=new ResizeObserver(function(e){eE.requestAnimationFrame(function(){i=!i&&!!isContainerVisible(o)&&t.processResponsiveness(o.offsetWidth,r,o.offsetHeight)})}),this.resizeObserver.observe(o)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:e}),this.rootElement=e,this.addScrollEventListener()},SurveyModel.prototype.beforeDestroySurveyElement=function(){this.destroyResizeObserver(),this.removeScrollEventListener(),this.rootElement=void 0},SurveyModel.prototype.processResponsiveness=function(e,t,o){var n=e<t,r=this.isMobile!==n;return this.setIsMobile(n),this.layoutElements.forEach(function(t){return t.processResponsiveness&&t.processResponsiveness(e)}),this.onResize.fire(this,{height:o,width:e}),r},SurveyModel.prototype.triggerResponsiveness=function(e){this.getAllQuestions().forEach(function(t){t.triggerResponsiveness(e)})},SurveyModel.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},SurveyModel.prototype.updateQuestionCssClasses=function(e,t){this.onUpdateQuestionCssClasses.fire(this,{question:e,cssClasses:t})},SurveyModel.prototype.updatePanelCssClasses=function(e,t){this.onUpdatePanelCssClasses.fire(this,{panel:e,cssClasses:t})},SurveyModel.prototype.updatePageCssClasses=function(e,t){this.onUpdatePageCssClasses.fire(this,{page:e,cssClasses:t})},SurveyModel.prototype.updateChoiceItemCss=function(e,t){t.question=e,this.onUpdateChoiceItemCss.fire(this,t)},SurveyModel.prototype.afterRenderPage=function(e){var t=this;if(!this.isDesignMode&&!this.focusingQuestionInfo){var o=!1===this.isCurrentPageRendered;setTimeout(function(){return t.scrollToTopOnPageChange(o)},1)}this.focusQuestionInfo(),this.isCurrentPageRendered=!0,this.onAfterRenderPage.isEmpty||this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:e})},SurveyModel.prototype.afterRenderHeader=function(e){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:e})},SurveyModel.prototype.afterRenderQuestion=function(e,t){this.onAfterRenderQuestion.fire(this,{question:e,htmlElement:t})},SurveyModel.prototype.afterRenderQuestionInput=function(e,t){if(!this.onAfterRenderQuestionInput.isEmpty){var o=e.inputId,n=t0.environment.root;if(o&&t.id!==o&&void 0!==n){var r=n.getElementById(o);r&&(t=r)}this.onAfterRenderQuestionInput.fire(this,{question:e,htmlElement:t})}},SurveyModel.prototype.afterRenderPanel=function(e,t){this.onAfterRenderPanel.fire(this,{panel:e,htmlElement:t})},SurveyModel.prototype.whenQuestionFocusIn=function(e){this.onFocusInQuestion.fire(this,{question:e})},SurveyModel.prototype.whenPanelFocusIn=function(e){this.onFocusInPanel.fire(this,{panel:e})},SurveyModel.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(e){return e.surveyChoiceItemVisibilityChange()})},SurveyModel.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},SurveyModel.prototype.getChoiceItemVisibility=function(e,t,o){var n={question:e,item:t,visible:o};return this.onShowingChoiceItem.fire(this,n),n.visible},SurveyModel.prototype.loadQuestionChoices=function(e){this.onChoicesLazyLoad.fire(this,e)},SurveyModel.prototype.getChoiceDisplayValue=function(e){this.onGetChoiceDisplayValue.isEmpty?e.setItems(null):this.onGetChoiceDisplayValue.fire(this,e)},SurveyModel.prototype.matrixBeforeRowAdded=function(e){this.onMatrixRowAdding.fire(this,e)},SurveyModel.prototype.matrixRowAdded=function(e,t){this.onMatrixRowAdded.fire(this,{question:e,row:t})},SurveyModel.prototype.matrixColumnAdded=function(e,t){this.onMatrixColumnAdded.fire(this,{question:e,column:t})},SurveyModel.prototype.multipleTextItemAdded=function(e,t){this.onMultipleTextItemAdded.fire(this,{question:e,item:t})},SurveyModel.prototype.getQuestionByValueNameFromArray=function(e,t,o){var n=this.getQuestionsByValueName(e);if(n){for(var r=0;r<n.length;r++){var i=n[r].getQuestionFromArray(t,o);if(i)return i}return null}},SurveyModel.prototype.matrixRowRemoved=function(e,t,o){this.onMatrixRowRemoved.fire(this,{question:e,rowIndex:t,row:o})},SurveyModel.prototype.matrixRowRemoving=function(e,t,o){var n={question:e,rowIndex:t,row:o,allow:!0};return this.onMatrixRowRemoving.fire(this,n),n.allow},SurveyModel.prototype.matrixAllowRemoveRow=function(e,t,o){var n={question:e,rowIndex:t,row:o,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,n),n.allow},SurveyModel.prototype.matrixDetailPanelVisibleChanged=function(e,t,o,n){var r={question:e,rowIndex:t,row:o,visible:n,detailPanel:o.detailPanel};this.onMatrixDetailPanelVisibleChanged.fire(this,r)},SurveyModel.prototype.matrixCellCreating=function(e,t){t.question=e,this.onMatrixCellCreating.fire(this,t)},SurveyModel.prototype.matrixCellCreated=function(e,t){t.question=e,this.onMatrixCellCreated.fire(this,t)},SurveyModel.prototype.matrixAfterCellRender=function(e,t){t.question=e,this.onAfterRenderMatrixCell.fire(this,t)},SurveyModel.prototype.matrixCellValueChanged=function(e,t){t.question=e,this.onMatrixCellValueChanged.fire(this,t)},SurveyModel.prototype.matrixCellValueChanging=function(e,t){t.question=e,this.onMatrixCellValueChanging.fire(this,t)},Object.defineProperty(SurveyModel.prototype,"isValidateOnValueChanging",{get:function(){return"onValueChanging"===this.checkErrorsMode},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isValidateOnValueChanged",{get:function(){return"onValueChanged"===this.checkErrorsMode},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isValidateOnValueChange",{get:function(){return this.isValidateOnValueChanged||this.isValidateOnValueChanging},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isValidateOnComplete",{get:function(){return"onComplete"===this.checkErrorsMode||this.validationAllowSwitchPages&&!this.validationAllowComplete},enumerable:!1,configurable:!0}),SurveyModel.prototype.matrixCellValidate=function(e,t){return t.question=e,this.onMatrixCellValidate.fire(this,t),t.error?new ol(t.error,this):null},SurveyModel.prototype.dynamicPanelAdded=function(e,t,o){if(!this.isLoadingFromJson&&this.hasQuestionVisibleIndeces(e,!0)&&this.updateVisibleIndexes(e.page),!this.onDynamicPanelAdded.isEmpty){var n=e.panels;void 0===t&&(t=n.length-1,o=n[t]),this.onDynamicPanelAdded.fire(this,{question:e,panel:o,panelIndex:t})}},SurveyModel.prototype.dynamicPanelRemoved=function(e,t,o){for(var n=o?o.questions:[],r=0;r<n.length;r++)n[r].clearOnDeletingContainer();this.hasQuestionVisibleIndeces(e,!1)&&this.updateVisibleIndexes(e.page),this.onDynamicPanelRemoved.fire(this,{question:e,panelIndex:t,panel:o})},SurveyModel.prototype.hasQuestionVisibleIndeces=function(e,t){t&&e.setVisibleIndex(this.getStartVisibleIndex());for(var o=e.getNestedQuestions(!0),n=0;n<o.length;n++)if(o[n].visibleIndex>-1)return!0;return!1},SurveyModel.prototype.dynamicPanelRemoving=function(e,t,o){var n={question:e,panelIndex:t,panel:o,allow:!0};return this.onDynamicPanelRemoving.fire(this,n),n.allow},SurveyModel.prototype.dynamicPanelItemValueChanged=function(e,t){t.question=e,t.panelIndex=t.itemIndex,t.panelData=t.itemValue,this.onDynamicPanelItemValueChanged.fire(this,t)},SurveyModel.prototype.dynamicPanelGetTabTitle=function(e,t){t.question=e,this.onGetDynamicPanelTabTitle.fire(this,t)},SurveyModel.prototype.dynamicPanelCurrentIndexChanged=function(e,t){t.question=e,this.onDynamicPanelCurrentIndexChanged.fire(this,t)},SurveyModel.prototype.dragAndDropAllow=function(e){return this.onDragDropAllow.fire(this,e),e.allow},SurveyModel.prototype.elementContentVisibilityChanged=function(e){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:e})},SurveyModel.prototype.getUpdatedPanelFooterActions=function(e,t,o){var n={question:o,panel:e,actions:t};return this.onGetPanelFooterActions.fire(this,n),n.actions},SurveyModel.prototype.getUpdatedElementTitleActions=function(e,t){return e.isPage?this.getUpdatedPageTitleActions(e,t):e.isPanel?this.getUpdatedPanelTitleActions(e,t):this.getUpdatedQuestionTitleActions(e,t)},SurveyModel.prototype.getUpdatedQuestionTitleActions=function(e,t){var o={question:e,titleActions:t};return this.onGetQuestionTitleActions.fire(this,o),o.titleActions},SurveyModel.prototype.getUpdatedPanelTitleActions=function(e,t){var o={panel:e,titleActions:t};return this.onGetPanelTitleActions.fire(this,o),o.titleActions},SurveyModel.prototype.getUpdatedPageTitleActions=function(e,t){var o={page:e,titleActions:t};return this.onGetPageTitleActions.fire(this,o),o.titleActions},SurveyModel.prototype.getUpdatedMatrixRowActions=function(e,t,o){var n={question:e,actions:o,row:t};return this.onGetMatrixRowActions.fire(this,n),n.actions},SurveyModel.prototype.scrollElementToTop=function(e,t,o,n,r,i,s,a){var l=this,u={element:e,question:t,page:o,elementId:n,cancel:!1};if(this.onScrollingElementToTop.fire(this,u),!u.cancel){var c=this.getPageByElement(e);if(this.isLazyRendering&&c){var p=1,d=t0.environment.rootElement,h=this.rootElement||s||d;this.skeletonHeight&&h&&"function"==typeof h.getBoundingClientRect&&(p=h.getBoundingClientRect().height/this.skeletonHeight-1),c.forceRenderElement(e,function(){l.suspendLazyRendering(),t$.ScrollElementToTop(u.elementId,r,i,function(){l.releaseLazyRendering(),activateLazyRenderingChecks(c.id),a&&a()})},p)}else if(c||this.isSinglePage||this.isDesignMode||!this.rootElement)t$.ScrollElementToTop(u.elementId,r,i,a);else{var g=this.rootElement.querySelector(classesToSelector(this.css.rootWrapper));t$.ScrollElementToViewCore(g,!1,r,i,a)}}},SurveyModel.prototype.chooseFiles=function(e,t,o){this.onOpenFileChooser.isEmpty?chooseFiles(e,t):this.onOpenFileChooser.fire(this,{input:e,element:o&&o.element||this.survey,elementType:o&&o.elementType,item:o&&o.item,propertyName:o&&o.propertyName,callback:t,context:o})},SurveyModel.prototype.uploadFiles=function(e,t,o,n){var r=this;this.onUploadFiles.isEmpty?n("error",this.getLocString("noUploadFilesHandler")):this.taskManager.runTask("file",function(i){r.onUploadFiles.fire(r,{question:e,name:t,files:o||[],callback:function(e,t){n(e,t),i()}})}),this.surveyPostId&&this.uploadFilesCore(t,o,n)},SurveyModel.prototype.downloadFile=function(e,t,o,n){this.onDownloadFile.isEmpty&&n&&n("skipped",o.content||o),this.onDownloadFile.fire(this,{question:e,name:t,content:o.content||o,fileValue:o,callback:n})},SurveyModel.prototype.clearFiles=function(e,t,o,n,r){this.onClearFiles.isEmpty&&r&&r("success",o),this.onClearFiles.fire(this,{question:e,name:t,value:o,fileName:n,callback:r})},SurveyModel.prototype.updateChoicesFromServer=function(e,t,o){var n={question:e,choices:t,serverResult:o};return this.onLoadChoicesFromServer.fire(this,n),n.choices},SurveyModel.prototype.loadedChoicesFromServer=function(e){this.locStrsChanged()},SurveyModel.prototype.createSurveyService=function(){return new nx},SurveyModel.prototype.uploadFilesCore=function(e,t,o){var n=this,r=[];t.forEach(function(e){o&&o("uploading",e),n.createSurveyService().sendFile(n.surveyPostId,e,function(n,i){n?(r.push({content:i,file:e}),r.length===t.length&&o&&o("success",r)):o&&o("error",{response:i,file:e})})})},SurveyModel.prototype.getPage=function(e){return this.pages[e]},SurveyModel.prototype.addPage=function(e,t){void 0===t&&(t=-1),null!=e&&(t<0||t>=this.pages.length?this.pages.push(e):this.pages.splice(t,0,e))},SurveyModel.prototype.addNewPage=function(e,t){void 0===e&&(e=null),void 0===t&&(t=-1);var o=this.createNewPage(e);return this.addPage(o,t),o},SurveyModel.prototype.removePage=function(e){var t=this.pages.indexOf(e);t<0||(this.pages.splice(t,1),this.currentPage!=e||(this.currentPage=this.pages.length>0?this.pages[0]:null))},SurveyModel.prototype.getQuestionByName=function(e,t){if(void 0===t&&(t=!1),!e)return null;t&&(e=e.toLowerCase());var o=(t?this.questionHashes.namesInsensitive:this.questionHashes.names)[e];return o?o[0]:null},SurveyModel.prototype.findQuestionByName=function(e){return this.getQuestionByName(e)},SurveyModel.prototype.getEditingSurveyElement=function(){return this.editingObjValue},SurveyModel.prototype.getQuestionByValueName=function(e,t){void 0===t&&(t=!1);var o=this.getQuestionsByValueName(e,t);return o?o[0]:null},SurveyModel.prototype.getQuestionsByValueName=function(e,t){return void 0===t&&(t=!1),(t?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames)[e]||null},SurveyModel.prototype.getCalculatedValueByName=function(e){for(var t=0;t<this.calculatedValues.length;t++)if(e==this.calculatedValues[t].name)return this.calculatedValues[t];return null},SurveyModel.prototype.getQuestionsByNames=function(e,t){void 0===t&&(t=!1);var o=[];if(!e)return o;for(var n=0;n<e.length;n++)if(e[n]){var r=this.getQuestionByName(e[n],t);r&&o.push(r)}return o},SurveyModel.prototype.getPageByElement=function(e){for(var t=0;t<this.pages.length;t++){var o=this.pages[t];if(o.containsElement(e))return o}return null},SurveyModel.prototype.getPageByQuestion=function(e){return this.getPageByElement(e)},SurveyModel.prototype.getPageByName=function(e){for(var t=0;t<this.pages.length;t++)if(this.pages[t].name==e)return this.pages[t];return null},SurveyModel.prototype.getPagesByNames=function(e){var t=[];if(!e)return t;for(var o=0;o<e.length;o++)if(e[o]){var n=this.getPageByName(e[o]);n&&t.push(n)}return t},SurveyModel.prototype.getAllQuestions=function(e,t,o){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===o&&(o=!1),o&&(t=!1);for(var n=[],r=0;r<this.pages.length;r++)this.pages[r].addQuestionsToList(n,e,t);if(!o)return n;var i=[];return n.forEach(function(t){i.push(t),t.getNestedQuestions(e).forEach(function(e){return i.push(e)})}),i},SurveyModel.prototype.getQuizQuestions=function(){for(var e=[],t=this.getPageStartIndex(),o=t;o<this.pages.length;o++)if(this.pages[o].isVisible)for(var n=this.pages[o].questions,r=0;r<n.length;r++){var i=n[r];i.quizQuestionCount>0&&e.push(i)}return e},SurveyModel.prototype.getPanelByName=function(e,t){void 0===t&&(t=!1);var o=this.getAllPanels();t&&(e=e.toLowerCase());for(var n=0;n<o.length;n++){var r=o[n].name;if(t&&(r=r.toLowerCase()),r==e)return o[n]}return null},SurveyModel.prototype.getAllPanels=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var o=[],n=0;n<this.pages.length;n++)this.pages[n].addPanelsIntoList(o,e,t);return o},SurveyModel.prototype.createNewPage=function(e){var t=eY.createClass("page");return t.name=e,t},SurveyModel.prototype.getValueChangeReason=function(){return this.isSettingValueOnExpression?"expression":this.isSettingValueFromTrigger?"trigger":void 0},SurveyModel.prototype.questionOnValueChanging=function(e,t,o){if(this.editingObj){var n=eY.findProperty(this.editingObj.getType(),e);n&&(t=n.settingValue(this.editingObj,t))}if(this.onValueChanging.isEmpty)return t;var r={name:e,question:this.getQuestionByValueName(o||e),value:this.getUnbindValue(t),oldValue:this.getValue(e),reason:this.getValueChangeReason()};return this.onValueChanging.fire(this,r),r.value},SurveyModel.prototype.updateQuestionValue=function(e,t){if(!this.isLoadingFromJson){var o=this.getQuestionsByValueName(e);if(o)for(var n=0;n<o.length;n++){var r=o[n].value;(r===t&&Array.isArray(r)&&this.editingObj||!this.isTwoValueEquals(r,t))&&o[n].updateValueFromSurvey(t,!1)}}},SurveyModel.prototype.checkQuestionErrorOnValueChanged=function(e){!this.isNavigationButtonPressed&&(this.isValidateOnValueChanged||e.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(e)},SurveyModel.prototype.checkQuestionErrorOnValueChangedCore=function(e){var t=e.getAllErrors().length,o=!e.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging});return e.page&&this.isValidateOnValueChange&&(t>0||e.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(e.page),o},SurveyModel.prototype.checkErrorsOnValueChanging=function(e,t){if(this.isLoadingFromJson)return!1;var o=this.getQuestionsByValueName(e);if(!o)return!1;for(var n=!1,r=0;r<o.length;r++){var i=o[r];this.isTwoValueEquals(i.valueForSurvey,t)||(i.value=t),this.checkQuestionErrorOnValueChangedCore(i)&&(n=!0),n=n||i.errors.length>0}return n},SurveyModel.prototype.fireOnValueChanged=function(e,t,o){this.onValueChanged.fire(this,{name:e,question:o,value:t,reason:this.getValueChangeReason()})},SurveyModel.prototype.notifyQuestionOnValueChanged=function(e,t,o){if(!this.isLoadingFromJson){var n=this.getQuestionsByValueName(e);if(n)for(var r=0;r<n.length;r++){var i=n[r];this.checkQuestionErrorOnValueChanged(i),i.onSurveyValueChanged(t),this.fireOnValueChanged(e,t,i)}else this.fireOnValueChanged(e,t,null);this.isDisposed||(this.checkElementsBindings(e,t),this.notifyElementsOnAnyValueOrVariableChanged(e,o))}},SurveyModel.prototype.checkElementsBindings=function(e,t){this.isRunningElementsBindings=!0;for(var o=0;o<this.pages.length;o++)this.pages[o].checkBindings(e,t);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},SurveyModel.prototype.notifyElementsOnAnyValueOrVariableChanged=function(e,t){if("processing"!==this.isEndLoadingFromJson){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var o=0;o<this.pages.length;o++)this.pages[o].onAnyValueChanged(e,t);this.isEndLoadingFromJson||this.locStrsChanged()}},SurveyModel.prototype.updateAllQuestionsValue=function(e){for(var t=this.getAllQuestions(),o=0;o<t.length;o++){var n=t[o],r=n.getValueName();n.updateValueFromSurvey(this.getValue(r),e),n.requireUpdateCommentValue&&n.updateCommentFromSurvey(this.getComment(r))}},SurveyModel.prototype.notifyAllQuestionsOnValueChanged=function(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].onSurveyValueChanged(this.getValue(e[t].getValueName()))},SurveyModel.prototype.checkOnPageTriggers=function(e){for(var t=this.getCurrentPageQuestions(!0),o={},n=0;n<t.length;n++){var r=t[n].getValueName();o[r]=this.getValue(r)}this.addCalculatedValuesIntoFilteredValues(o),this.checkTriggers(o,!0,e)},SurveyModel.prototype.getCurrentPageQuestions=function(e){void 0===e&&(e=!1);var t=[],o=this.currentPage;if(!o)return t;for(var n=0;n<o.questions.length;n++){var r=o.questions[n];(e||r.visible)&&r.name&&t.push(r)}return t},SurveyModel.prototype.checkTriggers=function(e,t,o,n){if(void 0===o&&(o=!1),!this.isCompleted&&0!=this.triggers.length&&!this.isDisplayMode){if(this.isTriggerIsRunning){for(var r in this.triggerValues=this.getFilteredValues(),e)this.triggerKeys[r]=e[r];return}var i=!1;if(!o&&n&&this.hasRequiredValidQuestionTrigger){var s=this.getQuestionByValueName(n);i=s&&!s.validate(!1)}this.isTriggerIsRunning=!0,this.triggerKeys=e,this.triggerValues=this.getFilteredValues();for(var a=this.getFilteredProperties(),l=this.canBeCompletedByTrigger,u=0;u<this.triggers.length;u++){var c=this.triggers[u];i&&c.requireValidQuestion||c.checkExpression(t,o,this.triggerKeys,this.triggerValues,a)}l!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},SurveyModel.prototype.checkTriggersAndRunConditions=function(e,t,o){var n={};n[e]={newValue:t,oldValue:o},this.runConditionOnValueChanged(e,t),this.checkTriggers(n,!1,!1,e)},Object.defineProperty(SurveyModel.prototype,"hasRequiredValidQuestionTrigger",{get:function(){for(var e=0;e<this.triggers.length;e++)if(this.triggers[e].requireValidQuestion)return!0;return!1},enumerable:!1,configurable:!0}),SurveyModel.prototype.doElementsOnLoad=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].onSurveyLoad()},Object.defineProperty(SurveyModel.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),SurveyModel.prototype.runExpressions=function(){this.runConditions()},SurveyModel.prototype.runConditions=function(){if(!this.isCompleted&&"processing"!==this.isEndLoadingFromJson&&!this.isRunningConditions){this.conditionValues=this.getFilteredValues();var e=this.getFilteredProperties(),t=this.pages.indexOf(this.currentPage);this.runConditionsCore(e),this.checkIfNewPagesBecomeVisible(t),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<t0.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},SurveyModel.prototype.runConditionOnValueChanged=function(e,t){this.isRunningConditions?(this.conditionValues[e]=t,this.isValueChangedOnRunningCondition=!0):(this.runConditions(),this.runQuestionsTriggers(e,t))},SurveyModel.prototype.runConditionsCore=function(t){for(var o=this.pages,n=0;n<this.calculatedValues.length;n++)this.calculatedValues[n].resetCalculation();for(var n=0;n<this.calculatedValues.length;n++)this.calculatedValues[n].doCalculation(this.calculatedValues,this.conditionValues,t);e.prototype.runConditionCore.call(this,this.conditionValues,t);for(var r=0;r<o.length;r++)o[r].runCondition(this.conditionValues,t)},SurveyModel.prototype.runQuestionsTriggers=function(e,t){this.isDisplayMode||this.isDesignMode||this.getAllQuestions().forEach(function(o){return o.runTriggers(e,t)})},SurveyModel.prototype.checkIfNewPagesBecomeVisible=function(e){var t=this.pages.indexOf(this.currentPage);if(!(t<=e+1)){for(var o=e+1;o<t;o++)if(this.pages[o].isVisible){this.currentPage=this.pages[o];break}}},SurveyModel.prototype.sendResult=function(e,t,o){var n=this;if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=!1),this.isEditMode&&(o&&this.onPartialSend&&this.onPartialSend.fire(this,null),!e&&this.surveyPostId&&(e=this.surveyPostId),e&&(t&&(this.clientId=t),!o||this.clientId))){var r=this.createSurveyService();r.locale=this.getLocale();var i=this.surveyShowDataSaving||!o&&r.isSurveJSIOService;i&&this.setCompletedState("saving",""),r.sendResult(e,this.data,function(e,t,o){(i||r.isSurveJSIOService)&&(e?n.setCompletedState("success",""):n.setCompletedState("error",t)),n.onSendResult.fire(n,{success:e,response:t,request:o})},this.clientId,o)}},SurveyModel.prototype.getResult=function(e,t){var o=this;this.createSurveyService().getResult(e,t,function(e,t,n,r){o.onGetResult.fire(o,{success:e,data:t,dataList:n,response:r})})},SurveyModel.prototype.loadSurveyFromService=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),e&&(this.surveyId=e),t&&(this.clientId=t);var o=this;this.isLoading=!0,this.onLoadingSurveyFromService(),t?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(e,t,n,r){e&&(o.isCompletedBefore="completed"==n,o.loadSurveyFromServiceJson(t)),o.isLoading=!1}):this.createSurveyService().loadSurvey(this.surveyId,function(e,t,n){e&&o.loadSurveyFromServiceJson(t),o.isLoading=!1})},SurveyModel.prototype.loadSurveyFromServiceJson=function(e){e&&(this.fromJSON(e),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},SurveyModel.prototype.onLoadingSurveyFromService=function(){},SurveyModel.prototype.onLoadSurveyFromService=function(){},SurveyModel.prototype.resetVisibleIndexes=function(){for(var e=this.getAllQuestions(!0),t=0;t<e.length;t++)e[t].setVisibleIndex(-1);this.updateVisibleIndexes()},SurveyModel.prototype.updateVisibleIndexes=function(e){if(!this.isLoadingFromJson&&!this.isEndLoadingFromJson&&!this.isLockingUpdateOnPageModes){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}this.updatePageVisibleIndexes(),this.updatePageElementsVisibleIndexes(e),this.updateProgressText(!0)}},SurveyModel.prototype.updatePageElementsVisibleIndexes=function(e){if("onPage"==this.showQuestionNumbers)for(var t=e?[e]:this.visiblePages,o=0;o<t.length;o++)t[o].setVisibleIndex(0);else for(var n=this.getStartVisibleIndex(),r=0;r<this.pages.length;r++)n+=this.pages[r].setVisibleIndex(n)},SurveyModel.prototype.getStartVisibleIndex=function(){return"on"==this.showQuestionNumbers?0:-1},SurveyModel.prototype.updatePageVisibleIndexes=function(){this.updateButtonsVisibility();for(var e=0,t=0;t<this.pages.length;t++){var o=this.pages[t],n=o.isVisible&&(t>0||!o.isStartPage);o.visibleIndex=n?e++:-1,o.num=n?o.visibleIndex+1:-1}},SurveyModel.prototype.fromJSON=function(e,t){if(e){this.questionHashesClear(),this.jsonErrors=null;var o=new eK;o.toObject(e,this,t),o.errors.length>0&&(this.jsonErrors=o.errors),this.onStateAndCurrentPageChanged(),this.updateState()}},SurveyModel.prototype.startLoadingFromJson=function(t){e.prototype.startLoadingFromJson.call(this,t),t&&t.locale&&(this.locale=t.locale)},SurveyModel.prototype.setJsonObject=function(e){this.fromJSON(e)},SurveyModel.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),this.onQuestionsOnPageModeChanged("standard",!0),e.prototype.endLoadingFromJson.call(this),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateRenderBackgroundImage(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.titleIsEmpty=this.locTitle.isEmpty,this.setCalculatedWidthModeUpdater()},SurveyModel.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},SurveyModel.prototype.updateNavigationBarCss=function(){var e=this.navigationBar;e.cssClasses=this.css.actionBar,e.containerCss=this.css.footer},SurveyModel.prototype.createNavigationBar=function(){var e=new tV;return e.setItems(this.createNavigationActions()),e},SurveyModel.prototype.createNavigationActions=function(){var e=this,t="sv-nav-btn",o=new tQ({id:"sv-nav-start",visible:new tf(function(){return e.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return e.start()},component:t}),n=new tQ({id:"sv-nav-prev",visible:new tf(function(){return e.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return e.prevPage()},component:t}),r=new tQ({id:"sv-nav-next",visible:new tf(function(){return e.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return e.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return e.nextPageUIClick()},component:t}),i=new tQ({id:"sv-nav-preview",visible:new tf(function(){return e.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return e.showPreview()},component:t}),s=new tQ({id:"sv-nav-complete",visible:new tf(function(){return e.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return e.taskManager.waitAndExecute(function(){return e.completeLastPage()})},component:t});return this.updateNavigationItemCssCallback=function(){o.innerCss=e.cssNavigationStart,n.innerCss=e.cssNavigationPrev,r.innerCss=e.cssNavigationNext,i.innerCss=e.cssNavigationPreview,s.innerCss=e.cssNavigationComplete},[o,n,r,i,s]},SurveyModel.prototype.onBeforeRunConstructor=function(){},SurveyModel.prototype.onBeforeCreating=function(){},SurveyModel.prototype.onCreating=function(){},SurveyModel.prototype.getProcessedTextValue=function(e){if(this.getProcessedTextValueCore(e),!this.onProcessTextValue.isEmpty){var t=this.isValueEmpty(e.value);this.onProcessTextValue.fire(this,e),e.isExists=e.isExists||t&&!this.isValueEmpty(e.value)}},SurveyModel.prototype.getBuiltInVariableValue=function(e){if("pageno"===e){var t=this.currentPage;return null!=t?this.visiblePages.indexOf(t)+1:0}return"pagecount"===e?this.visiblePageCount:"correctedanswers"===e||"correctanswers"===e||"correctedanswercount"===e?this.getCorrectedAnswerCount():"incorrectedanswers"===e||"incorrectanswers"===e||"incorrectedanswercount"===e?this.getInCorrectedAnswerCount():"questioncount"===e?this.getQuizQuestionCount():void 0},SurveyModel.prototype.getProcessedTextValueCore=function(e){var t=e.name.toLocaleLowerCase();if(-1===["no","require","title"].indexOf(t)){var o=this.getBuiltInVariableValue(t);if(void 0!==o){e.isExists=!0,e.value=o;return}if("locale"===t){e.isExists=!0,e.value=this.locale?this.locale:eL.defaultLocale;return}var n=this.getVariable(t);if(void 0!==n){e.isExists=!0,e.value=n;return}var r=this.getFirstName(t);if(r){var i=r.useDisplayValuesInDynamicTexts;e.isExists=!0;var s=r.getValueName().toLowerCase();t=(t=s+t.substring(s.length)).toLocaleLowerCase();var a={};a[s]=e.returnDisplayValue&&i?r.getDisplayValue(!1,void 0):r.value,e.value=new e1().getValue(t,a);return}this.getProcessedValuesWithoutQuestion(e)}},SurveyModel.prototype.getProcessedValuesWithoutQuestion=function(e){var t=this.getValue(e.name);if(void 0!==t){e.isExists=!0,e.value=t;return}var o=new e1,n=o.getFirstName(e.name);if(n!==e.name){var r={},i=this.getValue(n);eQ.isValueEmpty(i)&&(i=this.getVariable(n)),eQ.isValueEmpty(i)||(r[n]=i,e.value=o.getValue(e.name,r),e.isExists=o.hasValue(e.name,r))}},SurveyModel.prototype.getFirstName=function(e){var t;e=e.toLowerCase();do t=this.getQuestionByValueName(e,!0),e=this.reduceFirstName(e);while(!t&&!!e);return t},SurveyModel.prototype.reduceFirstName=function(e){var t=e.lastIndexOf("."),o=e.lastIndexOf("[");if(t<0&&o<0)return"";var n=Math.max(t,o);return e.substring(0,n)},SurveyModel.prototype.clearUnusedValues=function(){this.isClearingUnsedValues=!0;for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].clearUnusedValues();this.clearInvisibleQuestionValues(),this.isClearingUnsedValues=!1},SurveyModel.prototype.hasVisibleQuestionByValueName=function(e){var t=this.getQuestionsByValueName(e);if(!t)return!1;for(var o=0;o<t.length;o++){var n=t[o];if(n.isVisible&&n.isParentVisible&&!n.parentQuestion)return!0}return!1},SurveyModel.prototype.questionsByValueName=function(e){return this.getQuestionsByValueName(e)||[]},SurveyModel.prototype.clearInvisibleQuestionValues=function(){for(var e="none"===this.clearInvisibleValues?"none":"onComplete",t=this.getAllQuestions(),o=0;o<t.length;o++)t[o].clearValueIfInvisible(e)},SurveyModel.prototype.getVariable=function(e){if(!e)return null;e=e.toLowerCase();var t=this.variablesHash[e];return this.isValueEmpty(t)&&(e.indexOf(".")>-1||e.indexOf("[")>-1)&&new e1().hasValue(e,this.variablesHash)?new e1().getValue(e,this.variablesHash):t},SurveyModel.prototype.setVariable=function(e,t){if(e){var o=this.getVariable(e);this.valuesHash&&delete this.valuesHash[e],e=e.toLowerCase(),this.variablesHash[e]=t,this.notifyElementsOnAnyValueOrVariableChanged(e),eQ.isTwoValueEquals(o,t)||(this.checkTriggersAndRunConditions(e,t,o),this.onVariableChanged.fire(this,{name:e,value:t}))}},SurveyModel.prototype.getVariableNames=function(){var e=[];for(var t in this.variablesHash)e.push(t);return e},SurveyModel.prototype.getUnbindValue=function(e){return this.editingObj?e:eQ.getUnbindValue(e)},SurveyModel.prototype.getValue=function(e){if(!e||0==e.length)return null;var t=this.getDataValueCore(this.valuesHash,e);return this.getUnbindValue(t)},SurveyModel.prototype.setValue=function(e,t,o,n,r){if(void 0===o&&(o=!1),void 0===n&&(n=!0),!this.isLockingUpdateOnPageModes){var i=t;if(n&&(i=this.questionOnValueChanging(e,t)),!(this.isValidateOnValueChanging&&this.checkErrorsOnValueChanging(e,i))&&!(!this.editingObj&&this.isValueEqual(e,i)&&this.isTwoValueEquals(i,t))){var s=this.getValue(e);this.isValueEmpyOnSetValue(e,i)?this.deleteDataValueCore(this.valuesHash,e):(i=this.getUnbindValue(i),this.setDataValueCore(this.valuesHash,e,i)),this.updateOnSetValue(e,i,s,o,n,r)}}},SurveyModel.prototype.isValueEmpyOnSetValue=function(e,t){return!!this.isValueEmpty(t,!1)&&(!this.editingObj||null==t||this.editingObj.getDefaultPropertyValue(e)===t)},SurveyModel.prototype.updateOnSetValue=function(e,t,o,n,r,i){void 0===n&&(n=!1),void 0===r&&(r=!0),this.updateQuestionValue(e,t),!0===n||this.isDisposed||this.isRunningElementsBindings||(i=i||e,this.checkTriggersAndRunConditions(e,t,o),r&&this.notifyQuestionOnValueChanged(e,t,i),"text"!==n&&this.tryGoNextPageAutomatic(e))},SurveyModel.prototype.isValueEqual=function(e,t){(""===t||void 0===t)&&(t=null);var o=this.getValue(e);return((""===o||void 0===o)&&(o=null),null===t||null===o)?t===o:this.isTwoValueEquals(t,o)},SurveyModel.prototype.doOnPageAdded=function(e){e.setSurveyImpl(this),e.name||(e.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),this.runningPages||(this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage()),this.onPageAdded.fire(this,{page:e}))},SurveyModel.prototype.doOnPageRemoved=function(e){e.setSurveyImpl(null),this.runningPages||(e===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())},SurveyModel.prototype.generateNewName=function(e,t){for(var o={},n=0;n<e.length;n++)o[e[n].name]=!0;for(var r=1;o[t+r];)r++;return t+r},SurveyModel.prototype.tryGoNextPageAutomatic=function(e){var t=this;if(!this.isEndLoadingFromJson&&this.goNextPageAutomatic&&this.currentPage){var o=this.getQuestionByValueName(e);if(o&&(!o||o.visible&&o.supportGoNextPageAutomatic())&&(o.validate(!1)||o.supportGoNextPageError())){var n=this.getCurrentPageQuestions();if(!(0>n.indexOf(o))){for(var r=0;r<n.length;r++)if(n[r].hasInput&&n[r].isEmpty())return;if((!this.isLastPage||!0===this.goNextPageAutomatic&&this.allowCompleteSurveyAutomatic)&&!this.checkIsCurrentPageHasErrors(!1)){var i=this.currentPage;nM.safeTimeOut(function(){i===t.currentPage&&(t.isLastPage?t.isShowPreviewBeforeComplete?t.showPreview():t.completeLastPage():t.nextPage())},t0.autoAdvanceDelay)}}}}},SurveyModel.prototype.getComment=function(e){return this.getValue(e+this.commentSuffix)||""},SurveyModel.prototype.setComment=function(e,t,o){if(void 0===o&&(o=!1),t||(t=""),!this.isTwoValueEquals(t,this.getComment(e))){var n=e+this.commentSuffix;t=this.questionOnValueChanging(n,t,e),this.isValueEmpty(t)?this.deleteDataValueCore(this.valuesHash,n):this.setDataValueCore(this.valuesHash,n,t);var r=this.getQuestionsByValueName(e);if(r)for(var i=0;i<r.length;i++)r[i].updateCommentFromSurvey(t),this.checkQuestionErrorOnValueChanged(r[i]);o||this.checkTriggersAndRunConditions(e,this.getValue(e),void 0),"text"!==o&&this.tryGoNextPageAutomatic(e);var s=this.getQuestionByValueName(e);s&&(this.fireOnValueChanged(n,t,s),s.comment=t,s.comment!=t&&(s.comment=t))}},SurveyModel.prototype.clearValue=function(e){this.setValue(e,null),this.setComment(e,null)},Object.defineProperty(SurveyModel.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(e){this.setPropertyValue("clearValueOnDisableItems",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.getQuestionClearIfInvisible=function(e){return this.isShowingPreview||this.runningPages?"none":"default"!==e?e:this.clearInvisibleValues},SurveyModel.prototype.questionVisibilityChanged=function(e,t,o){o&&this.updateVisibleIndexes(e.page),this.onQuestionVisibleChanged.fire(this,{question:e,name:e.name,visible:t})},SurveyModel.prototype.pageVisibilityChanged=function(e,t){this.isLoadingFromJson||((t&&!this.currentPage||e===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:e,visible:t}))},SurveyModel.prototype.panelVisibilityChanged=function(e,t){this.updateVisibleIndexes(e.page),this.onPanelVisibleChanged.fire(this,{panel:e,visible:t})},SurveyModel.prototype.questionCreated=function(e){this.onQuestionCreated.fire(this,{question:e})},SurveyModel.prototype.questionAdded=function(e,t,o,n){e.name||(e.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),e.page&&this.questionHashesAdded(e),this.isLoadingFromJson||(this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(e.page),this.setCalculatedWidthModeUpdater()),this.canFireAddElement()&&this.onQuestionAdded.fire(this,{question:e,name:e.name,index:t,parent:o,page:n,parentPanel:o,rootPanel:n})},SurveyModel.prototype.canFireAddElement=function(){return!this.isMovingQuestion||this.isDesignMode&&!t0.supportCreatorV2},SurveyModel.prototype.questionRemoved=function(e){this.questionHashesRemoved(e,e.name,e.getValueName()),this.updateVisibleIndexes(e.page),this.onQuestionRemoved.fire(this,{question:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()},SurveyModel.prototype.questionRenamed=function(e,t,o){this.questionHashesRemoved(e,t,o),this.questionHashesAdded(e)},SurveyModel.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},SurveyModel.prototype.questionHashesPanelAdded=function(e){if(!this.isLoadingFromJson)for(var t=e.questions,o=0;o<t.length;o++)this.questionHashesAdded(t[o])},SurveyModel.prototype.questionHashesAdded=function(e){this.questionHashAddedCore(this.questionHashes.names,e,e.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,e,e.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,e,e.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,e,e.getValueName().toLowerCase())},SurveyModel.prototype.questionHashesRemoved=function(e,t,o){t&&(this.questionHashRemovedCore(this.questionHashes.names,e,t),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,e,t.toLowerCase())),o&&(this.questionHashRemovedCore(this.questionHashes.valueNames,e,o),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,e,o.toLowerCase()))},SurveyModel.prototype.questionHashAddedCore=function(e,t,o){var n=e[o];if(n){var n=e[o];0>n.indexOf(t)&&n.push(t)}else e[o]=[t]},SurveyModel.prototype.questionHashRemovedCore=function(e,t,o){var n=e[o];if(n){var r=n.indexOf(t);r>-1&&n.splice(r,1),0==n.length&&delete e[o]}},SurveyModel.prototype.panelAdded=function(e,t,o,n){e.name||(e.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(e.page),this.canFireAddElement()&&this.onPanelAdded.fire(this,{panel:e,name:e.name,index:t,parent:o,page:n,parentPanel:o,rootPanel:n})},SurveyModel.prototype.panelRemoved=function(e){this.updateVisibleIndexes(e.page),this.onPanelRemoved.fire(this,{panel:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()},SurveyModel.prototype.validateQuestion=function(e){if(this.onValidateQuestion.isEmpty)return null;var t={name:e.name,question:e,value:e.value,error:null};return this.onValidateQuestion.fire(this,t),t.error?new ol(t.error,this):null},SurveyModel.prototype.validatePanel=function(e){if(this.onValidatePanel.isEmpty)return null;var t={name:e.name,panel:e,error:null};return this.onValidatePanel.fire(this,t),t.error?new ol(t.error,this):null},SurveyModel.prototype.processHtml=function(e,t){t||(t="");var o={html:e,reason:t};return this.onProcessHtml.fire(this,o),this.processText(o.html,!0)},SurveyModel.prototype.processText=function(e,t){return this.processTextEx({text:e,returnDisplayValue:t,doEncoding:!1}).text},SurveyModel.prototype.processTextEx=function(e){var t=void 0===e.doEncoding?t0.web.encodeUrlParams:e.doEncoding,o=e.text;(e.runAtDesign||!this.isDesignMode)&&(o=this.textPreProcessor.process(o,!0===e.returnDisplayValue,t));var n={text:o,hasAllValuesOnLastRun:!0};return n.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,n},Object.defineProperty(SurveyModel.prototype,"textPreProcessor",{get:function(){var e=this;return this.textPreProcessorValue||(this.textPreProcessorValue=new oj,this.textPreProcessorValue.onProcess=function(t){e.getProcessedTextValue(t)}),this.textPreProcessorValue},enumerable:!1,configurable:!0}),SurveyModel.prototype.getSurveyMarkdownHtml=function(e,t,o){var n={element:e,text:t,name:o,html:null};return this.onTextMarkdown.fire(this,n),n.html},SurveyModel.prototype.getCorrectedAnswerCount=function(){return this.getCorrectAnswerCount()},SurveyModel.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},SurveyModel.prototype.getQuizQuestionCount=function(){for(var e=this.getQuizQuestions(),t=0,o=0;o<e.length;o++)t+=e[o].quizQuestionCount;return t},SurveyModel.prototype.getInCorrectedAnswerCount=function(){return this.getInCorrectAnswerCount()},SurveyModel.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},SurveyModel.prototype.onCorrectQuestionAnswer=function(e,t){this.onIsAnswerCorrect.isEmpty||(t.question=e,this.onIsAnswerCorrect.fire(this,t))},SurveyModel.prototype.getCorrectedAnswerCountCore=function(e){for(var t=this.getQuizQuestions(),o=0,n=0;n<t.length;n++){var r=t[n],i=r.correctAnswerCount;e?o+=i:o+=r.quizQuestionCount-i}return o},SurveyModel.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},SurveyModel.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(SurveyModel.prototype,"showTimerPanel",{get:function(){return this.showTimer?this.timerLocation:"none"},set:function(e){this.showTimer="none"!==e,this.showTimer&&(this.timerLocation=e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"showTimer",{get:function(){return this.getPropertyValue("showTimer")},set:function(e){this.setPropertyValue("showTimer",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"timerLocation",{get:function(){return this.getPropertyValue("timerLocation")},set:function(e){this.setPropertyValue("timerLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isTimerPanelShowingOnTop",{get:function(){return this.showTimer&&"top"===this.timerLocation},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"isTimerPanelShowingOnBottom",{get:function(){return this.showTimer&&"bottom"===this.timerLocation},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"timerInfoMode",{get:function(){return this.getTimerInfoVal(this.getPropertyValue("timerInfoMode"))},set:function(e){this.setPropertyValue("timerInfoMode",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.getTimerInfoVal=function(e){return"all"===e?"combined":e},Object.defineProperty(SurveyModel.prototype,"showTimerPanelMode",{get:function(){var e=this.timerInfoMode;return"combined"===e?"all":e},set:function(e){this.timerInfoMode=this.getTimerInfoVal(e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(e){this.setPropertyValue("widthMode",e)},enumerable:!1,configurable:!0}),SurveyModel.prototype.setCalculatedWidthModeUpdater=function(){var e=this;this.isLoadingFromJson||(this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new tf(function(){return e.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater)},SurveyModel.prototype.calculateWidthMode=function(){if("auto"==this.widthMode){var e=!1;return this.pages.forEach(function(t){t.needResponsiveWidth()&&(e=!0)}),e?"responsive":"static"}return this.widthMode},Object.defineProperty(SurveyModel.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"renderedWidth",{get:function(){var e=this.getPropertyValue("width");return e&&!isNaN(e)&&(e+="px"),"static"==this.getPropertyValue("calculatedWidthMode")&&e||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"timerClock",{get:function(){if(this.currentPage){var e,t,o=this.getTimerInfo(),n=o.spent,r=o.limit,i=o.minorSpent,s=o.minorLimit;e=r>0?this.getDisplayClockTime(r-n):this.getDisplayClockTime(n),void 0!==i&&(t=s>0?this.getDisplayClockTime(s-i):this.getDisplayClockTime(i))}return{majorText:e,minorText:t}},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"timerInfoText",{get:function(){var e={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,e);var t=new tZ(this,!0);return t.text=e.text,t.textOrHtml},enumerable:!1,configurable:!0}),SurveyModel.prototype.getTimerInfo=function(){var e=this.currentPage;if(!e)return{spent:0,limit:0};var t=e.timeSpent,o=this.timeSpent,n=e.getMaxTimeToFinish(),r=this.timeLimit;return"page"==this.timerInfoMode?{spent:t,limit:n}:"survey"==this.timerInfoMode?{spent:o,limit:r}:n>0&&r>0?{spent:t,limit:n,minorSpent:o,minorLimit:r}:n>0?{spent:t,limit:n,minorSpent:o}:r>0?{spent:o,limit:r,minorSpent:t}:{spent:t,minorSpent:o}},SurveyModel.prototype.getTimerInfoText=function(){var e=this.currentPage;if(!e)return"";var t=this.getDisplayTime(e.timeSpent),o=this.getDisplayTime(this.timeSpent),n=e.getMaxTimeToFinish(),r=this.getDisplayTime(n),i=this.getDisplayTime(this.timeLimit);return"page"==this.timerInfoMode?this.getTimerInfoPageText(e,t,r):"survey"==this.timerInfoMode?this.getTimerInfoSurveyText(o,i):"combined"==this.timerInfoMode?n<=0&&this.timeLimit<=0?this.getLocalizationFormatString("timerSpentAll",t,o):n>0&&this.timeLimit>0?this.getLocalizationFormatString("timerLimitAll",t,r,o,i):this.getTimerInfoPageText(e,t,r)+" "+this.getTimerInfoSurveyText(o,i):""},SurveyModel.prototype.getTimerInfoPageText=function(e,t,o){return e&&e.getMaxTimeToFinish()>0?this.getLocalizationFormatString("timerLimitPage",t,o):this.getLocalizationFormatString("timerSpentPage",t,o)},SurveyModel.prototype.getTimerInfoSurveyText=function(e,t){var o=this.timeLimit>0?"timerLimitSurvey":"timerSpentSurvey";return this.getLocalizationFormatString(o,e,t)},SurveyModel.prototype.getDisplayClockTime=function(e){e<0&&(e=0);var t=Math.floor(e/60),o=e%60,n=o.toString();return o<10&&(n="0"+n),t+":"+n},SurveyModel.prototype.getDisplayTime=function(e){var t=Math.floor(e/60),o=e%60,n="";return(t>0&&(n+=t+" "+this.getLocalizationString("timerMin")),n&&0==o)?n:(n&&(n+=" "),n+o+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(SurveyModel.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),SurveyModel.prototype.startTimer=function(){this.isEditMode&&this.timerModel.start()},SurveyModel.prototype.startTimerFromUI=function(){this.showTimer&&"running"===this.state&&this.startTimer()},SurveyModel.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(SurveyModel.prototype,"timeSpent",{get:function(){return this.timerModel.spent},set:function(e){this.timerModel.spent=e},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"timeLimit",{get:function(){return this.getPropertyValue("timeLimit",0)},set:function(e){this.setPropertyValue("timeLimit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"maxTimeToFinish",{get:function(){return this.timeLimit},set:function(e){this.timeLimit=e},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"timeLimitPerPage",{get:function(){return this.getPropertyValue("timeLimitPerPage",0)},set:function(e){this.setPropertyValue("timeLimitPerPage",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyModel.prototype,"maxTimeToFinishPage",{get:function(){return this.timeLimitPerPage},set:function(e){this.timeLimitPerPage=e},enumerable:!1,configurable:!0}),SurveyModel.prototype.doTimer=function(e){if(this.onTimerTick.fire(this,{}),this.timeLimit>0&&this.timeLimit<=this.timeSpent&&(this.timeSpent=this.timeLimit,this.completeLastPage()),e){var t=e.getMaxTimeToFinish();t>0&&t==e.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(SurveyModel.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),SurveyModel.prototype.getSurveyData=function(){return this},SurveyModel.prototype.getSurvey=function(){return this},SurveyModel.prototype.getTextProcessor=function(){return this},SurveyModel.prototype.getObjects=function(e,t){var o=[];return Array.prototype.push.apply(o,this.getPagesByNames(e)),Array.prototype.push.apply(o,this.getQuestionsByNames(t)),o},SurveyModel.prototype.setTriggerValue=function(e,t,o){if(e){if(o)this.setVariable(e,t);else{var n=this.getQuestionByName(e);if(this.startSetValueFromTrigger(),n)n.value=t;else{var r=new e1,i=r.getFirstName(e);if(i==e)this.setValue(e,t);else{if(!this.getQuestionByName(i))return;var s=this.getUnbindValue(this.getFilteredValues());r.setValue(s,e,t),this.setValue(i,s[i])}}this.finishSetValueFromTrigger()}}},SurveyModel.prototype.copyTriggerValue=function(e,t,o){if(e&&t){if(o)n=this.processText("{"+t+"}",!0);else{var n;n=new e1().getValue(t,this.getFilteredValues())}this.setTriggerValue(e,n,!1)}},SurveyModel.prototype.triggerExecuted=function(e){this.onTriggerExecuted.fire(this,{trigger:e})},Object.defineProperty(SurveyModel.prototype,"isSettingValueFromTrigger",{get:function(){return this.setValueFromTriggerCounter>0},enumerable:!1,configurable:!0}),SurveyModel.prototype.startSetValueFromTrigger=function(){this.setValueFromTriggerCounter++},SurveyModel.prototype.finishSetValueFromTrigger=function(){this.setValueFromTriggerCounter--},SurveyModel.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},SurveyModel.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},Object.defineProperty(SurveyModel.prototype,"isQuestionDragging",{get:function(){return this.isMovingQuestion},enumerable:!1,configurable:!0}),SurveyModel.prototype.focusQuestion=function(e){return this.focusQuestionByInstance(this.getQuestionByName(e,!0))},SurveyModel.prototype.focusQuestionByInstance=function(e,t){if(void 0===t&&(t=!1),!e||!e.isVisible||!e.page||(null===(o=this.focusingQuestionInfo)||void 0===o?void 0:o.question)===e)return!1;this.focusingQuestionInfo={question:e,onError:t},this.skippedPages.push({from:this.currentPage,to:e.page});var o,n=this.activePage!==e.page&&!e.page.isStartPage;return n&&(this.currentPage=e.page),n||this.focusQuestionInfo(),!0},SurveyModel.prototype.focusQuestionInfo=function(){var e,t=null===(e=this.focusingQuestionInfo)||void 0===e?void 0:e.question;t&&!t.isDisposed&&t.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0},SurveyModel.prototype.questionEditFinishCallback=function(e,t){var o=this.enterKeyAction||t0.enterKeyAction;if("loseFocus"==o&&t.target.blur(),"moveToNextEditor"==o){var n=this.currentPage.questions,r=n.indexOf(e);r>-1&&r<n.length-1?n[r+1].focus():t.target.blur()}},SurveyModel.prototype.elementWrapperComponentNameCore=function(e,t,o,n,r){if(this.onElementWrapperComponentName.isEmpty)return e;var i={componentName:e,element:t,wrapperName:o,reason:n,item:r};return this.onElementWrapperComponentName.fire(this,i),i.componentName},SurveyModel.prototype.elementWrapperDataCore=function(e,t,o,n,r){if(this.onElementWrapperComponentData.isEmpty)return e;var i={data:e,element:t,wrapperName:o,reason:n,item:r};return this.onElementWrapperComponentData.fire(this,i),i.data},SurveyModel.prototype.getElementWrapperComponentName=function(e,t){var o="logo-image"===t?"sv-logo-image":SurveyModel.TemplateRendererComponentName;return this.elementWrapperComponentNameCore(o,e,"component",t)},SurveyModel.prototype.getQuestionContentWrapperComponentName=function(e){return this.elementWrapperComponentNameCore(SurveyModel.TemplateRendererComponentName,e,"content-component")},SurveyModel.prototype.getRowWrapperComponentName=function(e){return this.elementWrapperComponentNameCore(SurveyModel.TemplateRendererComponentName,e,"row")},SurveyModel.prototype.getItemValueWrapperComponentName=function(e,t){return this.elementWrapperComponentNameCore(SurveyModel.TemplateRendererComponentName,t,"itemvalue",void 0,e)},SurveyModel.prototype.getElementWrapperComponentData=function(e,t){return this.elementWrapperDataCore(e,e,"component",t)},SurveyModel.prototype.getRowWrapperComponentData=function(e){return this.elementWrapperDataCore(e,e,"row")},SurveyModel.prototype.getItemValueWrapperComponentData=function(e,t){return this.elementWrapperDataCore(e,t,"itemvalue",void 0,e)},SurveyModel.prototype.getMatrixCellTemplateData=function(e){var t=e.question;return this.elementWrapperDataCore(t,t,"cell")},SurveyModel.prototype.searchText=function(e){e&&(e=e.toLowerCase());for(var t=[],o=0;o<this.pages.length;o++)this.pages[o].searchText(e,t);return t},SurveyModel.prototype.getSkeletonComponentName=function(e){return this.skeletonComponentName},SurveyModel.prototype.addLayoutElement=function(e){var t=this.removeLayoutElement(e.id);return this.layoutElements.push(e),t},SurveyModel.prototype.findLayoutElement=function(e){return this.layoutElements.filter(function(t){return t.id===e})[0]},SurveyModel.prototype.removeLayoutElement=function(e){var t=this.findLayoutElement(e);if(t){var o=this.layoutElements.indexOf(t);this.layoutElements.splice(o,1)}return t},SurveyModel.prototype.getContainerContent=function(e){for(var t=[],o=0,n=this.layoutElements;o<n.length;o++){var r=n[o];if("display"!==this.mode&&isStrCiEqual(r.id,"timerpanel"))"header"===e&&this.isTimerPanelShowingOnTop&&!this.isShowStartingPage&&t.push(r),"footer"===e&&this.isTimerPanelShowingOnBottom&&!this.isShowStartingPage&&t.push(r);else if("running"===this.state&&isStrCiEqual(r.id,this.progressBarComponentName)){if("singlePage"!=this.questionsOnPageMode||"questions"==this.progressBarType){var i=this.findLayoutElement("advanced-header"),s=i&&i.data,a=!s||s.hasBackground;isStrCiEqual(this.showProgressBar,"aboveHeader")&&(a=!1),isStrCiEqual(this.showProgressBar,"belowHeader")&&(a=!0),"header"!==e||a||(r.index=-150,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&t.push(r)),"center"===e&&a&&(r.index&&delete r.index,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&t.push(r)),"footer"===e&&this.isShowProgressBarOnBottom&&!this.isShowStartingPage&&t.push(r)}}else isStrCiEqual(r.id,"buttons-navigation")?("contentTop"===e&&-1!==["top","both"].indexOf(this.isNavigationButtonsShowing)&&t.push(r),"contentBottom"===e&&-1!==["bottom","both"].indexOf(this.isNavigationButtonsShowing)&&t.push(r)):"running"===this.state&&isStrCiEqual(r.id,"toc-navigation")&&this.showTOC?("left"===e&&-1!==["left","both"].indexOf(this.tocLocation)&&t.push(r),"right"===e&&-1!==["right","both"].indexOf(this.tocLocation)&&t.push(r)):isStrCiEqual(r.id,"advanced-header")?("running"===this.state||"starting"===this.state||!0===this.showHeaderOnCompletePage&&"completed"===this.state)&&r.container===e&&t.push(r):(Array.isArray(r.container)&&-1!==r.container.indexOf(e)||r.container===e)&&t.push(r)}return t.sort(function(e,t){return(e.index||0)-(t.index||0)}),t},SurveyModel.prototype.processPopupVisiblityChanged=function(e,t,o){this.onPopupVisibleChanged.fire(this,{question:e,popup:t,visible:o})},SurveyModel.prototype.processOpenDropdownMenu=function(e,t){var o=Object.assign({question:e},t);this.onOpenDropdownMenu.fire(this,o),t.menuType=o.menuType},SurveyModel.prototype.getCssTitleExpandableSvg=function(){return null},SurveyModel.prototype.applyTheme=function(e){var t=this;if(e){if(Object.keys(e).forEach(function(o){"header"!==o&&("isPanelless"===o?t.isCompact=e[o]:t[o]=e[o])}),"advanced"===this.headerView||"header"in e){this.removeLayoutElement("advanced-header");var o=new nE;o.fromTheme(e),this.insertAdvancedHeader(o)}this.themeChanged(e)}},SurveyModel.prototype.themeChanged=function(e){this.getAllQuestions().forEach(function(t){return t.themeChanged(e)})},SurveyModel.prototype.dispose=function(){if(this.unConnectEditingObj(),this.removeScrollEventListener(),this.destroyResizeObserver(),this.rootElement=void 0,this.layoutElements){for(var t=0;t<this.layoutElements.length;t++)this.layoutElements[t].data&&this.layoutElements[t].data!==this&&this.layoutElements[t].data.dispose&&this.layoutElements[t].data.dispose();this.layoutElements.splice(0,this.layoutElements.length)}if(e.prototype.dispose.call(this),this.editingObj=null,this.pages){this.currentPage=null;for(var t=0;t<this.pages.length;t++)this.pages[t].setSurveyImpl(void 0),this.pages[t].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},SurveyModel.prototype._isElementShouldBeSticky=function(e){if(!e)return!1;var t=this.rootElement.querySelector(e);return!!t&&this.rootElement.scrollTop>0&&t.getBoundingClientRect().y<=this.rootElement.getBoundingClientRect().y},SurveyModel.prototype.onScroll=function(){this.rootElement&&(this._isElementShouldBeSticky(".sv-components-container-center")?this.rootElement.classList&&this.rootElement.classList.add("sv-root--sticky-top"):this.rootElement.classList&&this.rootElement.classList.remove("sv-root--sticky-top")),this.onScrollCallback&&this.onScrollCallback()},SurveyModel.prototype.addScrollEventListener=function(){var e,t=this;this.scrollHandler=function(){t.onScroll()},this.rootElement.addEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].addEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&(null===(e=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])||void 0===e||e.addEventListener("scroll",this.scrollHandler))},SurveyModel.prototype.removeScrollEventListener=function(){var e;this.rootElement&&this.scrollHandler&&(this.rootElement.removeEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].removeEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&(null===(e=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])||void 0===e||e.removeEventListener("scroll",this.scrollHandler)))},SurveyModel.prototype.registerIcons=function(){var e;e=t0.useLegacyIcons?nK.V1:nK.V2,nZ.registerIconsFromFolder(e)},SurveyModel.TemplateRendererComponentName="sv-template-renderer",SurveyModel.platform="unknown",survey_decorate([jsonobject_property()],SurveyModel.prototype,"completedCss",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"completedBeforeCss",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"loadingBodyCss",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"containerCss",void 0),survey_decorate([jsonobject_property({onSet:function(e,t){t.updateCss()}})],SurveyModel.prototype,"fitToContainer",void 0),survey_decorate([jsonobject_property({onSet:function(e,t){if("advanced"===e){if(!t.findLayoutElement("advanced-header")){var o=new nE;o.logoPositionX="right"===t.logoPosition?"right":"left",o.logoPositionY="middle",o.titlePositionX="right"===t.logoPosition?"left":"right",o.titlePositionY="middle",o.descriptionPositionX="right"===t.logoPosition?"left":"right",o.descriptionPositionY="middle",t.insertAdvancedHeader(o)}}else t.removeLayoutElement("advanced-header")}})],SurveyModel.prototype,"headerView",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"showBrandInfo",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"enterKeyAction",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"lazyRenderingFirstBatchSizeValue",void 0),survey_decorate([jsonobject_property({defaultValue:!0})],SurveyModel.prototype,"titleIsEmpty",void 0),survey_decorate([jsonobject_property({defaultValue:{}})],SurveyModel.prototype,"cssVariables",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"_isMobile",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"_isCompact",void 0),survey_decorate([jsonobject_property({onSet:function(e,t){t.updateCss()}})],SurveyModel.prototype,"backgroundImage",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"renderBackgroundImage",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"backgroundImageFit",void 0),survey_decorate([jsonobject_property({onSet:function(e,t){t.updateCss()}})],SurveyModel.prototype,"backgroundImageAttachment",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"backgroundImageStyle",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"wrapperFormCss",void 0),survey_decorate([jsonobject_property({getDefaultValue:function(e){return"buttons"===e.progressBarType}})],SurveyModel.prototype,"progressBarShowPageTitles",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"progressBarShowPageNumbers",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"progressBarInheritWidthFrom",void 0),survey_decorate([jsonobject_property({defaultValue:!0})],SurveyModel.prototype,"validationEnabled",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"rootCss",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"gridLayoutEnabled",void 0),survey_decorate([jsonobject_property()],SurveyModel.prototype,"calculatedWidthMode",void 0),survey_decorate([propertyArray()],SurveyModel.prototype,"layoutElements",void 0),SurveyModel}(tJ);function isStrCiEqual(e,t){return!!e&&!!t&&e.toUpperCase()===t.toUpperCase()}eY.addClass("survey",[{name:"locale",choices:function(){return eL.getLocales(!0)},onGetValue:function(e){return e.locale==eL.defaultLocale?null:e.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo:file",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean"},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem",isArray:!0},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page",isArray:!0,onSerializeValue:function(e){return e.originalPages||e.pages}},{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(e){return null},onSetValue:function(e,t,o){e.pages.splice(0,e.pages.length);var n=e.addNewPage("");o.toObject({questions:t},n,null==o?void 0:o.options)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue",isArray:!0},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0,visibleIf:function(e){return"none"!==e.showNavigationButtons}},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem",isArray:!0},{name:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","auto","aboveheader","belowheader","bottom","topbottom"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions"],visibleIf:function(e){return"off"!==e.showProgressBar}},{name:"progressBarShowPageTitles:switch",category:"navigation",visibleIf:function(e){return"off"!==e.showProgressBar&&"pages"===e.progressBarType}},{name:"progressBarShowPageNumbers:switch",default:!1,category:"navigation",visibleIf:function(e){return"off"!==e.showProgressBar&&"pages"===e.progressBarType}},{name:"progressBarInheritWidthFrom",default:"container",choices:["container","survey"],category:"navigation",visibleIf:function(e){return"off"!==e.showProgressBar&&"pages"===e.progressBarType}},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"],dependsOn:["showTOC"],visibleIf:function(e){return!!e&&e.showTOC}},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(e,t){"autogonext"!==t&&(t=eQ.isTwoValueEquals(t,!0)),e.setPropertyValue("goNextPageAutomatic",t)}},{name:"allowCompleteSurveyAutomatic:boolean",default:!0,visibleIf:function(e){return!0===e.goNextPageAutomatic}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onComplete"]},{name:"validateVisitedEmptyFields:boolean",dependsOn:"checkErrorsMode",visibleIf:function(e){return"onValueChanged"===e.checkErrorsMode}},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"commentAreaRows:number",minValue:1},{name:"startSurveyText",serializationProperty:"locStartSurveyText",visibleIf:function(e){return e.firstPageIsStarted}},{name:"pagePrevText",serializationProperty:"locPagePrevText",visibleIf:function(e){return"none"!==e.showNavigationButtons&&e.showPrevButton}},{name:"pageNextText",serializationProperty:"locPageNextText",visibleIf:function(e){return"none"!==e.showNavigationButtons}},{name:"completeText",serializationProperty:"locCompleteText",visibleIf:function(e){return"none"!==e.showNavigationButtons}},{name:"previewText",serializationProperty:"locPreviewText",visibleIf:function(e){return"noPreview"!==e.showPreviewBeforeComplete}},{name:"editText",serializationProperty:"locEditText",visibleIf:function(e){return"noPreview"!==e.showPreviewBeforeComplete}},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(e){return!e||"off"!==e.showQuestionNumbers}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(e){return e?e.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["standard","singlePage","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"showTimer:boolean"},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0,enableIf:function(e){return e.showTimer}},{name:"timeLimitPerPage:number",alternativeName:"maxTimeToFinishPage",default:0,minValue:0,enableIf:function(e){return e.showTimer}},{name:"timerLocation",default:"top",choices:["top","bottom"],enableIf:function(e){return e.showTimer}},{name:"timerInfoMode",alternativeName:"showTimerPanelMode",default:"combined",choices:["page","survey","combined"],enableIf:function(e){return e.showTimer}},{name:"showTimerPanel",visible:!1,isSerializable:!1},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"gridLayoutEnabled:boolean",default:!1},{name:"width",visibleIf:function(e){return"static"===e.widthMode}},{name:"fitToContainer:boolean",default:!0,visible:!1},{name:"headerView",default:"basic",choices:["basic","advanced"],visible:!1},{name:"backgroundImage:file",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}]);var n1=(H=function(e,t){return(H=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}H(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_baseselect_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},n0=function(e){function QuestionSelectBase(t){var o=e.call(this,t)||this;o.otherItemValue=new oV("other"),o.isSettingDefaultValue=!1,o.isSettingComment=!1,o.isRunningChoices=!1,o.isFirstLoadChoicesFromUrl=!0,o.isUpdatingChoicesDependedQuestions=!1,o._renderedChoices=[],o.renderedChoicesAnimation=new tz(o.getRenderedChoicesAnimationOptions(),function(e){o._renderedChoices=e,o.renderedChoicesChangedCallback&&o.renderedChoicesChangedCallback()},function(){return o._renderedChoices}),o.headItemsCount=0,o.footItemsCount=0,o.prevIsOtherSelected=!1,o.noneItemValue=o.createDefaultItem(t0.noneItemValue,"noneText","noneItemText"),o.refuseItemValue=o.createDefaultItem(t0.refuseItemValue,"refuseText","refuseItemText"),o.dontKnowItemValue=o.createDefaultItem(t0.dontKnowItemValue,"dontKnowText","dontKnowItemText"),o.createItemValues("choices"),o.registerPropertyChangedHandlers(["choices"],function(){o.filterItems()||o.onVisibleChoicesChanged()}),o.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","choiceValuesFromQuestion","choiceTextsFromQuestion","showNoneItem","showRefuseItem","showDontKnowItem","isUsingRestful","isMessagePanelVisible"],function(){o.onVisibleChoicesChanged()}),o.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){o.onVisibleChanged()}),o.otherTextAreaModel=new ow(o.getOtherTextAreaOptions()),o.createNewArray("visibleChoices",function(){return o.updateRenderedChoices()},function(){return o.updateRenderedChoices()}),o.setNewRestfulProperty();var n=o.createLocalizableString("otherText",o.otherItemValue,!0,"otherItemText");return o.createLocalizableString("otherErrorText",o,!0,"otherRequiredError"),o.otherItemValue.locOwner=o,o.otherItemValue.setLocText(n),o.choicesByUrl.createItemValue=function(e){return o.createItemValue(e)},o.choicesByUrl.beforeSendRequestCallback=function(){o.onBeforeSendRequest()},o.choicesByUrl.getResultCallback=function(e){o.onLoadChoicesFromUrl(e)},o.choicesByUrl.updateResultCallback=function(e,t){return o.survey?o.survey.updateChoicesFromServer(o,e,t):e},o}return n1(QuestionSelectBase,e),Object.defineProperty(QuestionSelectBase.prototype,"waitingChoicesByURL",{get:function(){return!this.isChoicesLoaded&&this.hasChoicesUrl},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.getOtherTextAreaOptions=function(){var e=this;return{question:this,id:function(){return e.otherId},propertyName:"otherValue",className:function(){return e.cssClasses.other},placeholder:function(){return e.otherPlaceholder},isDisabledAttr:function(){return e.isInputReadOnly||!1},rows:function(){return e.commentAreaRows},maxLength:function(){return e.getOthersMaxLength()},autoGrow:function(){return e.survey&&e.survey.autoGrowComment},ariaRequired:function(){return e.ariaRequired||e.a11y_input_ariaRequired},ariaLabel:function(){return e.ariaLabel||e.a11y_input_ariaLabel},getTextValue:function(){return e.otherValue},onTextAreaChange:function(t){e.onOtherValueChange(t)},onTextAreaInput:function(t){e.onOtherValueInput(t)}}},QuestionSelectBase.prototype.getType=function(){return"selectbase"},QuestionSelectBase.prototype.dispose=function(){e.prototype.dispose.call(this);var t=this.getQuestionWithChoices();t&&t.removeDependedQuestion(this)},QuestionSelectBase.prototype.resetDependedQuestion=function(){this.choicesFromQuestion=""},Object.defineProperty(QuestionSelectBase.prototype,"otherId",{get:function(){return this.id+"_other"},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.getCommentElementsId=function(){return[this.commentId,this.otherId]},QuestionSelectBase.prototype.getItemValueType=function(){return"itemvalue"},QuestionSelectBase.prototype.createItemValue=function(e,t){var o=eY.createClass(this.getItemValueType(),{value:e});return o.locOwner=this,t&&(o.text=t),o},Object.defineProperty(QuestionSelectBase.prototype,"isUsingCarryForward",{get:function(){return!!this.carryForwardQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"carryForwardQuestionType",{get:function(){return this.getPropertyValue("carryForwardQuestionType")},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.setCarryForwardQuestionType=function(e,t){this.setPropertyValue("carryForwardQuestionType",e?"select":t?"array":void 0)},Object.defineProperty(QuestionSelectBase.prototype,"isUsingRestful",{get:function(){return this.getPropertyValueWithoutDefault("isUsingRestful")||!1},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.updateIsUsingRestful=function(){this.setPropertyValueDirectly("isUsingRestful",this.hasChoicesUrl)},QuestionSelectBase.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.otherValue},QuestionSelectBase.prototype.isLayoutTypeSupported=function(e){return!0},QuestionSelectBase.prototype.localeChanged=function(){e.prototype.localeChanged.call(this),"none"!==this.choicesOrder&&(this.updateVisibleChoices(),this.onVisibleChoicesChanged())},QuestionSelectBase.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(oV.locStrsChanged(this.choicesFromUrl),oV.locStrsChanged(this.visibleChoices)),this.isUsingCarryForward&&oV.locStrsChanged(this.visibleChoices)},QuestionSelectBase.prototype.updatePrevOtherErrorValue=function(e){var t=this.otherValue;e!==t&&(this.prevOtherErrorValue=t)},Object.defineProperty(QuestionSelectBase.prototype,"otherValue",{get:function(){return this.showCommentArea?this.otherValueCore:this.comment},set:function(e){this.updatePrevOtherErrorValue(e),this.showCommentArea?this.setOtherValueInternally(e):this.comment=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"otherValueCore",{get:function(){return this.getPropertyValue("otherValue")},set:function(e){this.setPropertyValue("otherValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"isNoneSelected",{get:function(){return this.showNoneItem&&this.getIsItemValue(this.renderedValue,this.noneItem)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem")},set:function(e){this.setPropertyValue("showNoneItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(e){this.showNoneItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(e){this.setLocalizableStringText("noneText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"showRefuseItem",{get:function(){return this.getPropertyValue("showRefuseItem")},set:function(e){this.setPropertyValue("showRefuseItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"refuseItem",{get:function(){return this.refuseItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"refuseText",{get:function(){return this.getLocalizableStringText("refuseText")},set:function(e){this.setLocalizableStringText("refuseText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"locRefuseText",{get:function(){return this.getLocalizableString("refuseText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"showDontKnowItem",{get:function(){return this.getPropertyValue("showDontKnowItem")},set:function(e){this.setPropertyValue("showDontKnowItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"dontKnowItem",{get:function(){return this.dontKnowItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"dontKnowText",{get:function(){return this.getLocalizableStringText("dontKnowText")},set:function(e){this.setLocalizableStringText("dontKnowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"locDontKnowText",{get:function(){return this.getLocalizableString("dontKnowText")},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.createDefaultItem=function(e,t,o){var n=new oV(e),r=this.createLocalizableString(t,n,!0,o);return n.locOwner=this,n.setLocText(r),n},Object.defineProperty(QuestionSelectBase.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(e){this.setPropertyValue("choicesVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(e){this.setPropertyValue("choicesEnableIf",e),this.filterItems()},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},QuestionSelectBase.prototype.runCondition=function(t,o){e.prototype.runCondition.call(this,t,o),this.runItemsEnableCondition(t,o),this.runItemsCondition(t,o),this.choices.forEach(function(e){e.runConditionCore(t,o)})},QuestionSelectBase.prototype.isTextValue=function(){return!0},QuestionSelectBase.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0;var t=this.comment;e.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1,this.comment&&this.getStoreOthersAsComment()&&t!==this.comment&&(this.setValueCore(this.setOtherValueIntoValue(this.value)),this.setCommentIntoData(this.comment))},QuestionSelectBase.prototype.getIsMultipleValue=function(){return!1},QuestionSelectBase.prototype.convertDefaultValue=function(e){if(null==e||void 0==e)return e;if(this.getIsMultipleValue()){if(!Array.isArray(e))return[e]}else if(Array.isArray(e)&&e.length>0)return e[0];return e},QuestionSelectBase.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var e=this.getDataFilteredValues(),t=this.getDataFilteredProperties();return this.runItemsEnableCondition(e,t),this.runItemsCondition(e,t)},QuestionSelectBase.prototype.runItemsCondition=function(e,t){this.setConditionalChoicesRunner();var o=this.runConditionsForItems(e,t);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),o&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),o},QuestionSelectBase.prototype.runItemsEnableCondition=function(e,t){var o=this;this.setConditionalEnableChoicesRunner(),oV.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,e,t,function(e,t){return t&&o.onEnableItemCallBack(e)})&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},QuestionSelectBase.prototype.onAfterRunItemsEnableCondition=function(){},QuestionSelectBase.prototype.onEnableItemCallBack=function(e){return!0},QuestionSelectBase.prototype.onSelectedItemValuesChangedHandler=function(e){var t;null===(t=this.survey)||void 0===t||t.loadedChoicesFromServer(this)},QuestionSelectBase.prototype.getItemIfChoicesNotContainThisValue=function(e,t){return this.waitingChoicesByURL?this.createItemValue(e,t):null},QuestionSelectBase.prototype.getSingleSelectedItem=function(){var e=this.selectedItemValues;if(this.isEmpty())return null;var t=oV.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(t),t||e&&this.value==e.id||this.updateSelectedItemValues(),t||e||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))},QuestionSelectBase.prototype.onGetSingleSelectedItem=function(e){},QuestionSelectBase.prototype.getMultipleSelectedItems=function(){return[]},QuestionSelectBase.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new tc(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},QuestionSelectBase.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new tc(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},QuestionSelectBase.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},QuestionSelectBase.prototype.changeItemVisibility=function(){var e=this;return this.canSurveyChangeItemVisibility()?function(t,o){return e.survey.getChoiceItemVisibility(e,t,o)}:null},QuestionSelectBase.prototype.runConditionsForItems=function(e,t){this.filteredChoicesValue=[];var o=this.changeItemVisibility();return oV.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,e,t,!this.survey||!this.survey.areInvisibleElementsShowing,function(e,t){return o?o(e,t):t})},QuestionSelectBase.prototype.getHasOther=function(e){return this.getIsItemValue(e,this.otherItem)},QuestionSelectBase.prototype.getIsItemValue=function(e,t){return e===t.value},Object.defineProperty(QuestionSelectBase.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.createRestful=function(){return new oQ},QuestionSelectBase.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(QuestionSelectBase.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(e){this.setPropertyValue("autoOtherMode",e)},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.getQuestionComment=function(){return this.showCommentArea?e.prototype.getQuestionComment.call(this):this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?e.prototype.getQuestionComment.call(this):this.otherValueCore},QuestionSelectBase.prototype.selectOtherValueFromComment=function(e){e&&(this.prevIsOtherSelected=!0),this.value=e?this.otherItem.value:void 0},QuestionSelectBase.prototype.setQuestionComment=function(t){if(this.updatePrevOtherErrorValue(t),this.showCommentArea){e.prototype.setQuestionComment.call(this,t);return}this.onUpdateCommentOnAutoOtherMode(t),this.getStoreOthersAsComment()?e.prototype.setQuestionComment.call(this,t):this.setOtherValueInternally(t),this.updateChoicesDependedQuestions()},QuestionSelectBase.prototype.onUpdateCommentOnAutoOtherMode=function(e){if(this.autoOtherMode){this.prevOtherValue=void 0;var t=this.isOtherSelected;(!t&&e||t&&!e)&&this.selectOtherValueFromComment(!!e)}},QuestionSelectBase.prototype.setOtherValueInternally=function(e){this.isSettingComment||e==this.otherValueCore||(this.isSettingComment=!0,this.otherValueCore=e,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},QuestionSelectBase.prototype.clearValue=function(t){e.prototype.clearValue.call(this,t),this.prevOtherValue=void 0,this.selectedItemValues=void 0},QuestionSelectBase.prototype.updateCommentFromSurvey=function(t){e.prototype.updateCommentFromSurvey.call(this,t),this.prevOtherValue=void 0},Object.defineProperty(QuestionSelectBase.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(e){if(!this.isReadOnlyAttr){this.setPropertyValue("renderedValue",e);var e=this.rendredValueToData(e);this.isTwoValueEquals(e,this.value)||(this.value=e)}},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.setQuestionValue=function(t,o,n){if(void 0===o&&(o=!0),void 0===n&&(n=!0),!(this.isLoadingFromJson||this.isTwoValueEquals(this.value,t))&&(e.prototype.setQuestionValue.call(this,t,o),this.setPropertyValue("renderedValue",this.rendredValueFromData(t)),this.updateChoicesDependedQuestions(),!this.hasComment&&n)){var r=this.isOtherSelected;if(r&&this.prevOtherValue){var i=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=i}!r&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.makeCommentEmpty=!0,this.otherValueCore="",this.setPropertyValue("comment",""))}},QuestionSelectBase.prototype.setValueCore=function(t){e.prototype.setValueCore.call(this,t),this.makeCommentEmpty&&(this.setCommentIntoData(""),this.makeCommentEmpty=!1)},QuestionSelectBase.prototype.setNewValue=function(t){t=this.valueFromData(t),(this.choicesByUrl.isRunning||this.choicesByUrl.isWaitingForParameters)&&this.isValueEmpty(t)||(this.cachedValueForUrlRequests=t),e.prototype.setNewValue.call(this,t)},QuestionSelectBase.prototype.valueFromData=function(t){var o=oV.getItemByValue(this.activeChoices,t);return o?o.value:e.prototype.valueFromData.call(this,t)},QuestionSelectBase.prototype.rendredValueFromData=function(e){return this.getStoreOthersAsComment()?e:this.renderedValueFromDataCore(e)},QuestionSelectBase.prototype.rendredValueToData=function(e){return this.getStoreOthersAsComment()?e:this.rendredValueToDataCore(e)},QuestionSelectBase.prototype.renderedValueFromDataCore=function(e){return this.hasUnknownValue(e,!0,!1)?(this.otherValue=e,this.otherItem.value):this.valueFromData(e)},QuestionSelectBase.prototype.rendredValueToDataCore=function(e){return e==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(e=this.otherValue),e},QuestionSelectBase.prototype.needConvertRenderedOtherToDataValue=function(){var e=this.otherValue;return!!(e&&(e=e.trim()))&&this.hasUnknownValue(e,!0,!1)},QuestionSelectBase.prototype.getIsQuestionReady=function(){return e.prototype.getIsQuestionReady.call(this)&&!this.waitingChoicesByURL&&!this.waitingGetChoiceDisplayValueResponse},QuestionSelectBase.prototype.updateSelectedItemValues=function(){var e=this;if(!(this.waitingGetChoiceDisplayValueResponse||!this.survey||this.isEmpty())){var t=this.value,o=Array.isArray(t)?t:[t];o.some(function(t){return!oV.getItemByValue(e.choices,t)})&&(this.choicesLazyLoadEnabled||this.hasChoicesUrl)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.updateIsReady(),this.survey.getChoiceDisplayValue({question:this,values:o,setItems:function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(e.waitingGetChoiceDisplayValueResponse=!1,!n||!n.length){e.updateIsReady();return}var s=n.map(function(t,n){return e.createItemValue(o[n],t)});e.setCustomValuesIntoItems(s,r),Array.isArray(t)?e.selectedItemValues=s:e.selectedItemValues=s[0],e.updateIsReady()}}))}},QuestionSelectBase.prototype.setCustomValuesIntoItems=function(e,t){Array.isArray(t)&&0!==t.length&&t.forEach(function(t){var o=t.values,n=t.propertyName;if(Array.isArray(o))for(var r=0;r<e.length&&r<o.length;r++)e[r][n]=o[r]})},QuestionSelectBase.prototype.hasUnknownValue=function(e,t,o,n){if(void 0===t&&(t=!1),void 0===o&&(o=!0),void 0===n&&(n=!1),!Array.isArray(e))return this.hasUnknownValueItem(e,t,o,n);for(var r=0;r<e.length;r++)if(this.hasUnknownValueItem(e,t,o,n))return!0;return!1},QuestionSelectBase.prototype.hasUnknownValueItem=function(e,t,o,n){if(void 0===t&&(t=!1),void 0===o&&(o=!0),void 0===n&&(n=!1),!n&&this.isValueEmpty(e)||t&&e==this.otherItem.value||this.showNoneItem&&e==this.noneItem.value||this.showRefuseItem&&e==this.refuseItem.value||this.showDontKnowItem&&e==this.dontKnowItem.value)return!1;var r=o?this.getFilteredChoices():this.activeChoices;return null==oV.getItemByValue(r,e)},QuestionSelectBase.prototype.isValueDisabled=function(e){var t=oV.getItemByValue(this.getFilteredChoices(),e);return!!t&&!t.isEnabled},QuestionSelectBase.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.updateVisibleChoices()},Object.defineProperty(QuestionSelectBase.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(e){e&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(e.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(e){var t=this.getQuestionWithChoices();this.isLockVisibleChoices=!!t&&t.name===e,t&&t.name!==e&&(t.removeDependedQuestion(this),this.isInDesignMode&&!this.isLoadingFromJson&&e&&this.setPropertyValue("choicesFromQuestion",void 0)),this.setPropertyValue("choicesFromQuestion",e),this.isLockVisibleChoices=!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(e){this.setPropertyValue("choicesFromQuestionMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"choiceValuesFromQuestion",{get:function(){return this.getPropertyValue("choiceValuesFromQuestion")},set:function(e){this.setPropertyValue("choiceValuesFromQuestion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"choiceTextsFromQuestion",{get:function(){return this.getPropertyValue("choiceTextsFromQuestion")},set:function(e){this.setPropertyValue("choiceTextsFromQuestion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty")},set:function(e){this.setPropertyValue("hideIfChoicesEmpty",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(e){this.setPropertyValue("keepIncorrectValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(QuestionSelectBase.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(e){(e=e.toLowerCase())!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",e),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(e){this.setLocalizableStringText("otherText",e),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(e){this.otherPlaceholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(e){this.setLocalizableStringText("otherErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"enabledChoices",{get:function(){for(var e=[],t=this.visibleChoices,o=0;o<t.length;o++)t[o].isEnabled&&e.push(t[o]);return e},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.updateVisibleChoices=function(){if(!this.isLoadingFromJson&&!this.isDisposed){var e=[],t=this.calcVisibleChoices();t||(t=[]);for(var o=0;o<t.length;o++)e.push(t[o]);var n=this.visibleChoices;(!this.isTwoValueEquals(n,e)||this.choicesLazyLoadEnabled)&&(this.setArrayPropertyDirectly("visibleChoices",e),this.updateRenderedChoices())}},QuestionSelectBase.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var e=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(e,this.isAddDefaultItems),e},QuestionSelectBase.prototype.canUseFilteredChoices=function(){return!this.isAddDefaultItems&&!this.showNoneItem&&!this.showRefuseItem&&!this.showDontKnowItem&&!this.hasOther&&"none"==this.choicesOrder},QuestionSelectBase.prototype.setCanShowOptionItemCallback=function(e){this.canShowOptionItemCallback=e,e&&this.onVisibleChoicesChanged()},Object.defineProperty(QuestionSelectBase.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.addToVisibleChoices=function(e,t){this.headItemsCount=0,this.footItemsCount=0,this.isEmptyActiveChoicesInDesign||this.addNewItemToVisibleChoices(e,t);var o=[];this.addNonChoicesItems(o,t),o.sort(function(e,t){return e.index===t.index?0:e.index<t.index?-1:1});for(var n=0;n<o.length;n++){var r=o[n];r.index<0?(e.splice(n,0,r.item),this.headItemsCount++):(e.push(r.item),this.footItemsCount++)}},QuestionSelectBase.prototype.addNewItemToVisibleChoices=function(e,t){var o=this;t&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0,this.newItemValue.registerFunctionOnPropertyValueChanged("isVisible",function(){o.updateVisibleChoices()})),this.newItemValue.isVisible&&!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,t,!1)&&(this.footItemsCount=1,e.push(this.newItemValue)))},QuestionSelectBase.prototype.addNonChoicesItems=function(e,t){this.supportNone()&&this.addNonChoiceItem(e,this.noneItem,t,this.showNoneItem,t0.specialChoicesOrder.noneItem),this.supportRefuse()&&this.addNonChoiceItem(e,this.refuseItem,t,this.showRefuseItem,t0.specialChoicesOrder.refuseItem),this.supportDontKnow()&&this.addNonChoiceItem(e,this.dontKnowItem,t,this.showDontKnowItem,t0.specialChoicesOrder.dontKnowItem),this.supportOther()&&this.addNonChoiceItem(e,this.otherItem,t,this.hasOther,t0.specialChoicesOrder.otherItem)},QuestionSelectBase.prototype.addNonChoiceItem=function(e,t,o,n,r){this.canShowOptionItem(t,o,n)&&r.forEach(function(o){return e.push({index:o,item:t})})},QuestionSelectBase.prototype.canShowOptionItem=function(e,t,o){var n=t&&(!this.canShowOptionItemCallback||this.canShowOptionItemCallback(e))||o;return this.canSurveyChangeItemVisibility()?this.changeItemVisibility()(e,n):n},QuestionSelectBase.prototype.isItemInList=function(e){return e===this.otherItem?this.hasOther:e===this.noneItem?this.showNoneItem:e===this.refuseItem?this.showRefuseItem:e===this.dontKnowItem?this.showDontKnowItem:e!==this.newItemValue},Object.defineProperty(QuestionSelectBase.prototype,"isAddDefaultItems",{get:function(){return t0.showDefaultItemsInCreatorV2&&this.isInDesignModeV2&&!this.customWidget},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.getPlainData=function(t){var o=this;void 0===t&&(t={includeEmpty:!0,includeQuestionTypes:!1});var n=e.prototype.getPlainData.call(this,t);if(n){var r=Array.isArray(this.value)?this.value:[this.value];n.isNode=!0,n.data=(n.data||[]).concat(r.map(function(e,n){var r=oV.getItemByValue(o.visibleChoices,e),i={name:n,title:"Choice",value:e,displayValue:o.getChoicesDisplayValue(o.visibleChoices,e),getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!1};return r&&(t.calculations||[]).forEach(function(e){i[e.propertyName]=r[e.propertyName]}),o.isOtherSelected&&o.otherItemValue===r&&(i.isOther=!0,i.displayValue=o.otherValue),i}))}return n},QuestionSelectBase.prototype.getDisplayValueCore=function(e,t){return this.useDisplayValuesInDynamicTexts?this.getChoicesDisplayValue(this.visibleChoices,t):t},QuestionSelectBase.prototype.getDisplayValueEmpty=function(){return oV.getTextOrHtmlByValue(this.visibleChoices,void 0)},QuestionSelectBase.prototype.getChoicesDisplayValue=function(e,t){if(t==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;var o=this.getSingleSelectedItem();if(o&&this.isTwoValueEquals(o.value,t))return o.locText.textOrHtml;var n=oV.getTextOrHtmlByValue(e,t);return""==n&&t?t:n},QuestionSelectBase.prototype.getDisplayArrayValue=function(e,t,o){for(var n=this,r=this.visibleChoices,i=[],s=[],a=0;a<t.length;a++)s.push(o?o(a):t[a]);if(eQ.isTwoValueEquals(this.value,s)&&this.getMultipleSelectedItems().forEach(function(e,t){return i.push(n.getItemDisplayValue(e,s[t]))}),0===i.length)for(var a=0;a<s.length;a++){var l=this.getChoicesDisplayValue(r,s[a]);l&&i.push(l)}return i.join(t0.choicesSeparator)},QuestionSelectBase.prototype.getItemDisplayValue=function(e,t){if(e===this.otherItem){if(this.hasOther&&this.showCommentArea&&t)return t;if(this.comment)return this.comment}return e.locText.textOrHtml},QuestionSelectBase.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(QuestionSelectBase.prototype,"activeChoices",{get:function(){var e=this.getCarryForwardQuestion();return"select"===this.carryForwardQuestionType?(e.addDependedQuestion(this),this.getChoicesFromSelectQuestion(e)):"array"===this.carryForwardQuestionType?(e.addDependedQuestion(this),this.getChoicesFromArrayQuestion(e)):this.isEmptyActiveChoicesInDesign?[]:this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"isMessagePanelVisible",{get:function(){return this.getPropertyValue("isMessagePanelVisible",!1)},set:function(e){this.setPropertyValue("isMessagePanelVisible",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"isEmptyActiveChoicesInDesign",{get:function(){return this.isInDesignModeV2&&(this.hasChoicesUrl||this.isMessagePanelVisible)},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.getCarryForwardQuestion=function(e){var t=this.findCarryForwardQuestion(e),o=this.getQuestionWithChoicesCore(t),n=o?null:this.getQuestionWithArrayValue(t);return this.setCarryForwardQuestionType(!!o,!!n),o||n?t:null},QuestionSelectBase.prototype.getIsReadyDependsOn=function(){var t=e.prototype.getIsReadyDependsOn.call(this);return this.carryForwardQuestion&&t.push(this.carryForwardQuestion),t},QuestionSelectBase.prototype.getQuestionWithChoices=function(){return this.getQuestionWithChoicesCore(this.findCarryForwardQuestion())},QuestionSelectBase.prototype.findCarryForwardQuestion=function(e){return e||(e=this.data),this.carryForwardQuestion=null,this.choicesFromQuestion&&e&&(this.carryForwardQuestion=e.findQuestionByName(this.choicesFromQuestion)),this.carryForwardQuestion},QuestionSelectBase.prototype.getQuestionWithChoicesCore=function(e){return e&&e.visibleChoices&&eY.isDescendantOf(e.getType(),"selectbase")&&e!==this?e:null},QuestionSelectBase.prototype.getQuestionWithArrayValue=function(e){return e&&e.isValueArray?e:null},QuestionSelectBase.prototype.getChoicesFromArrayQuestion=function(e){if(this.isInDesignMode)return[];var t=e.value;if(!Array.isArray(t))return[];for(var o=[],n=0;n<t.length;n++){var r=t[n];if(eQ.isValueObject(r)){var i=this.getValueKeyName(r);if(i&&!this.isValueEmpty(r[i])){var s=this.choiceTextsFromQuestion?r[this.choiceTextsFromQuestion]:void 0;o.push(this.createItemValue(r[i],s))}}}return o},QuestionSelectBase.prototype.getValueKeyName=function(e){if(this.choiceValuesFromQuestion)return this.choiceValuesFromQuestion;var t=Object.keys(e);return t.length>0?t[0]:void 0},QuestionSelectBase.prototype.getChoicesFromSelectQuestion=function(e){if(this.isInDesignMode)return[];for(var t=[],o="selected"==this.choicesFromQuestionMode||"unselected"!=this.choicesFromQuestionMode&&void 0,n=e.visibleChoices,r=0;r<n.length;r++)if(!e.isBuiltInChoice(n[r])){if(void 0===o){t.push(this.copyChoiceItem(n[r]));continue}var i=e.isItemSelected(n[r]);(i&&o||!i&&!o)&&t.push(this.copyChoiceItem(n[r]))}return"selected"===this.choicesFromQuestionMode&&!this.showOtherItem&&e.isOtherSelected&&e.comment&&t.push(this.createItemValue(e.otherItem.value,e.comment)),t},QuestionSelectBase.prototype.copyChoiceItem=function(e){var t=this.createItemValue(e.value);return t.setData(e),t},Object.defineProperty(QuestionSelectBase.prototype,"hasActiveChoices",{get:function(){var e=this.visibleChoices;e&&0!=e.length||(this.onVisibleChoicesChanged(),e=this.visibleChoices);for(var t=0;t<e.length;t++)if(!this.isBuiltInChoice(e[t]))return!0;return!1},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.isBuiltInChoice=function(e){return this.isNoneItem(e)||e===this.otherItem||e===this.newItemValue},QuestionSelectBase.prototype.isNoneItem=function(e){return this.getNoneItems().indexOf(e)>-1},QuestionSelectBase.prototype.getNoneItems=function(){return[this.noneItem,this.refuseItem,this.dontKnowItem]},QuestionSelectBase.prototype.getChoices=function(){return this.choices},QuestionSelectBase.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},QuestionSelectBase.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},QuestionSelectBase.prototype.supportRefuse=function(){return this.isSupportProperty("showRefuseItem")},QuestionSelectBase.prototype.supportDontKnow=function(){return this.isSupportProperty("showDontKnowItem")},QuestionSelectBase.prototype.isSupportProperty=function(e){return!this.isDesignMode||this.getPropertyByName(e).visible},QuestionSelectBase.prototype.onCheckForErrors=function(t,o,n){var r=this;if(e.prototype.onCheckForErrors.call(this,t,o,n),this.hasOther&&this.isOtherSelected&&!this.otherValue&&(!o||this.prevOtherErrorValue)){var i=new oo(this.otherErrorText,this);i.onUpdateErrorTextCallback=function(e){e.text=r.otherErrorText},t.push(i)}},QuestionSelectBase.prototype.setSurveyImpl=function(t,o){this.isRunningChoices=!0,e.prototype.setSurveyImpl.call(this,t,o),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},QuestionSelectBase.prototype.setSurveyCore=function(t){e.prototype.setSurveyCore.call(this,t),t&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},QuestionSelectBase.prototype.getStoreOthersAsComment=function(){return!this.isSettingDefaultValue&&!this.showCommentArea&&(!0===this.storeOthersAsComment||"default"==this.storeOthersAsComment&&(null==this.survey||this.survey.storeOthersAsComment)||this.hasChoicesUrl&&!this.choicesFromUrl)},QuestionSelectBase.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),e.prototype.onSurveyLoad.call(this)},QuestionSelectBase.prototype.onAnyValueChanged=function(t,o){e.prototype.onAnyValueChanged.call(this,t,o),t!=this.getValueName()&&this.runChoicesByUrl();var n=this.choicesFromQuestion;t&&n&&(t===n||o===n)&&this.onVisibleChoicesChanged()},QuestionSelectBase.prototype.updateValueFromSurvey=function(t,o){var n="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(t)&&!this.getHasOther(t)?(n=this.getCommentFromValue(t),t=this.setOtherValueIntoValue(t)):this.data&&(n=this.data.getComment(this.getValueName()))),e.prototype.updateValueFromSurvey.call(this,t,o),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),n&&this.setNewComment(n)},QuestionSelectBase.prototype.getCommentFromValue=function(e){return e},QuestionSelectBase.prototype.setOtherValueIntoValue=function(e){return this.otherItem.value},QuestionSelectBase.prototype.onOtherValueInput=function(e){this.isInputTextUpdate?e.target&&(this.otherValue=e.target.value):this.updateCommentElements()},QuestionSelectBase.prototype.onOtherValueChange=function(e){this.otherValue=e.target.value,this.otherValue!==e.target.value&&(e.target.value=this.otherValue)},QuestionSelectBase.prototype.runChoicesByUrl=function(){if(this.updateIsUsingRestful(),this.choicesByUrl&&!this.isLoadingFromJson&&!this.isRunningChoices&&!this.isInDesignModeV2){var e=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;e||(e=this.survey),e&&(this.updateIsReady(),this.isRunningChoices=!0,this.choicesByUrl.run(e),this.isRunningChoices=!1)}},QuestionSelectBase.prototype.onBeforeSendRequest=function(){!0!==t0.web.disableQuestionWhileLoadingChoices||this.isReadOnly||(this.enableOnLoadingChoices=!0,this.readOnly=!0)},QuestionSelectBase.prototype.onLoadChoicesFromUrl=function(e){this.enableOnLoadingChoices&&(this.readOnly=!1);var t=[];!this.isReadOnly&&this.choicesByUrl&&this.choicesByUrl.error&&t.push(this.choicesByUrl.error);var o=null,n=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,n=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value);var r=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,n);if(e&&(e.length>0||this.choicesByUrl.allowEmptyResponse)&&(o=[],oV.setData(o,e)),o)for(var i=0;i<o.length;i++)o[i].locOwner=this;this.setChoicesFromUrl(o,t,r)},QuestionSelectBase.prototype.canAvoidSettChoicesFromUrl=function(e){return!(this.isFirstLoadChoicesFromUrl||(!e||Array.isArray(e)&&0===e.length)&&!this.isEmpty())&&eQ.isTwoValueEquals(this.choicesFromUrl,e)},QuestionSelectBase.prototype.setChoicesFromUrl=function(e,t,o){if(!this.canAvoidSettChoicesFromUrl(e)){if(this.isFirstLoadChoicesFromUrl=!1,this.choicesFromUrl=e,this.filterItems(),this.onVisibleChoicesChanged(),e){var n=this.updateCachedValueForUrlRequests(o,e);if(n&&!this.isReadOnly){var r=!this.isTwoValueEquals(this.value,n.value);try{this.isValueEmpty(n.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=r,r?this.value=n.value:this.setQuestionValue(n.value)}finally{this.allowNotifyValueChanged=!0}}}this.isReadOnly||e||this.isFirstLoadChoicesFromUrl||(this.value=null),this.errors=t,this.choicesLoaded()}},QuestionSelectBase.prototype.createCachedValueForUrlRequests=function(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var o=[],n=0;n<e.length;n++)o.push(this.createCachedValueForUrlRequests(e[n],!0));return o}var r=!t||!this.hasUnknownValue(e);return{value:e,isExists:r}},QuestionSelectBase.prototype.updateCachedValueForUrlRequests=function(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var o=[],n=0;n<e.length;n++){var r=this.updateCachedValueForUrlRequests(e[n],t);if(r&&!this.isValueEmpty(r.value)){var i=r.value,s=oV.getItemByValue(t,r.value);s&&(i=s.value),o.push(i)}}return{value:o}}var a=e.isExists&&this.hasUnknownValue(e.value)?null:e.value,s=oV.getItemByValue(t,a);return s&&(a=s.value),{value:a}},QuestionSelectBase.prototype.updateChoicesDependedQuestions=function(){this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning||(this.isUpdatingChoicesDependedQuestions=!0,this.updateDependedQuestions(),this.isUpdatingChoicesDependedQuestions=!1)},QuestionSelectBase.prototype.updateDependedQuestion=function(){this.onVisibleChoicesChanged(),this.clearIncorrectValues()},QuestionSelectBase.prototype.onSurveyValueChanged=function(t){e.prototype.onSurveyValueChanged.call(this,t),this.updateChoicesDependedQuestions()},QuestionSelectBase.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},QuestionSelectBase.prototype.isVisibleCore=function(){var t=e.prototype.isVisibleCore.call(this);if(!this.hideIfChoicesEmpty||!t)return t;var o=this.isUsingCarryForward?this.visibleChoices:this.getFilteredChoices();return!o||o.length>0},QuestionSelectBase.prototype.sortVisibleChoices=function(e){if(this.isInDesignMode)return e;var t=this.choicesOrder.toLowerCase();return"asc"==t?this.sortArray(e,1):"desc"==t?this.sortArray(e,-1):"random"==t?this.randomizeArray(e):e},QuestionSelectBase.prototype.sortArray=function(e,t){return e.sort(function(e,o){return eQ.compareStrings(e.calculatedText,o.calculatedText)*t})},QuestionSelectBase.prototype.randomizeArray=function(e){return eQ.randomizeArray(e)},Object.defineProperty(QuestionSelectBase.prototype,"hasChoicesUrl",{get:function(){return this.choicesByUrl&&!!this.choicesByUrl.url},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.clearIncorrectValues=function(){this.hasValueToClearIncorrectValues()&&this.canClearIncorrectValues()&&(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())},QuestionSelectBase.prototype.canClearIncorrectValues=function(){return(!this.carryForwardQuestion||!!this.carryForwardQuestion.isReady)&&(!this.survey||!(this.survey.questionsByValueName(this.getValueName()).length>1))&&(!this.hasChoicesUrl||!!this.choicesFromUrl&&0!=this.choicesFromUrl.length)},QuestionSelectBase.prototype.hasValueToClearIncorrectValues=function(){return(!this.survey||!this.survey.keepIncorrectValues)&&!this.keepIncorrectValues&&!this.isEmpty()},QuestionSelectBase.prototype.clearValueIfInvisibleCore=function(t){e.prototype.clearValueIfInvisibleCore.call(this,t),this.clearIncorrectValues()},QuestionSelectBase.prototype.isItemSelected=function(e){return e===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(e)},QuestionSelectBase.prototype.isItemSelectedCore=function(e){return e.value===this.value},QuestionSelectBase.prototype.clearDisabledValues=function(){this.survey&&this.survey.clearValueOnDisableItems&&this.clearDisabledValuesCore()},QuestionSelectBase.prototype.clearIncorrectValuesCore=function(){var e=this.value;this.canClearValueAnUnknown(e)&&this.clearValue(!0)},QuestionSelectBase.prototype.canClearValueAnUnknown=function(e){return(!!this.getStoreOthersAsComment()||!this.isOtherSelected)&&this.hasUnknownValue(e,!0,!0,!0)},QuestionSelectBase.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue(!0)},QuestionSelectBase.prototype.clearUnusedValues=function(){e.prototype.clearUnusedValues.call(this),this.isOtherSelected||(this.otherValue=""),this.showCommentArea||this.getStoreOthersAsComment()||this.isOtherSelected||(this.comment="")},QuestionSelectBase.prototype.getColumnClass=function(){return new tP().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},QuestionSelectBase.prototype.getItemIndex=function(e){return this.visibleChoices.indexOf(e)},QuestionSelectBase.prototype.getItemClass=function(e){var t={item:e},o=this.getItemClassCore(e,t);return t.css=o,this.survey&&this.survey.updateChoiceItemCss(this,t),t.css},QuestionSelectBase.prototype.getCurrentColCount=function(){return this.colCount},QuestionSelectBase.prototype.getItemClassCore=function(e,t){var o=new tP().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&0===this.colCount).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&0!==this.colCount).append(this.cssClasses.itemOnError,this.hasCssError()),n=this.getIsDisableAndReadOnlyStyles(!e.isEnabled),r=n[0],i=n[1],s=this.isItemSelected(e)||this.isOtherSelected&&this.otherItem.value===e.value,a=!i&&!s&&!(this.survey&&this.survey.isDesignMode),l=e===this.noneItem;return t.isDisabled=i||r,t.isChecked=s,t.isNone=l,o.append(this.cssClasses.itemDisabled,i).append(this.cssClasses.itemReadOnly,r).append(this.cssClasses.itemPreview,this.isPreviewStyle).append(this.cssClasses.itemChecked,s).append(this.cssClasses.itemHover,a).append(this.cssClasses.itemNone,l).toString()},QuestionSelectBase.prototype.getLabelClass=function(e){return new tP().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(e)).toString()},QuestionSelectBase.prototype.getControlLabelClass=function(e){return new tP().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(e)).toString()||void 0},QuestionSelectBase.prototype.updateRenderedChoices=function(){this.renderedChoices=this.onGetRenderedChoicesCallback?this.onGetRenderedChoicesCallback(this.visibleChoices):this.visibleChoices},QuestionSelectBase.prototype.getRenderedChoicesAnimationOptions=function(){var e=this;return{isAnimationEnabled:function(){return e.animationAllowed},getRerenderEvent:function(){return e.onElementRerendered},getKey:function(t){return t!=e.newItemValue?t.value:e.newItemValue},getLeaveOptions:function(t){var o=e.cssClasses.itemLeave;if(e.hasColumns){var n=e.bodyItems.indexOf(t);-1!==n&&n!==e.bodyItems.length-1&&(o="")}return{cssClass:o,onBeforeRunAnimation:prepareElementForVerticalAnimation,onAfterRunAnimation:cleanHtmlElementAfterAnimation}},getAnimatedElement:function(e){return e.getRootElement()},getEnterOptions:function(t){var o=e.cssClasses.itemEnter;if(e.hasColumns){var n=e.bodyItems.indexOf(t);-1!==n&&n!==e.bodyItems.length-1&&(o="")}return{cssClass:o,onBeforeRunAnimation:function(o){if(0==e.getCurrentColCount()&&e.bodyItems.indexOf(t)>=0){var n=o.parentElement.firstElementChild.offsetLeft;o.offsetLeft>n&&setPropertiesOnElementForAnimation(o,{moveAnimationDuration:"0s",fadeAnimationDelay:"0s"},"--")}prepareElementForVerticalAnimation(o)},onAfterRunAnimation:cleanHtmlElementAfterAnimation}}}},Object.defineProperty(QuestionSelectBase.prototype,"renderedChoices",{get:function(){return this._renderedChoices},set:function(e){this.renderedChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"headItems",{get:function(){for(var e=this.separateSpecialChoices||this.isInDesignMode?this.headItemsCount:0,t=[],o=0;o<e;o++)this.renderedChoices[o]&&t.push(this.renderedChoices[o]);return t},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"footItems",{get:function(){for(var e=this.separateSpecialChoices||this.isInDesignMode?this.footItemsCount:0,t=[],o=this.renderedChoices,n=0;n<e;n++)this.renderedChoices[o.length-e+n]&&t.push(this.renderedChoices[o.length-e+n]);return t},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"dataChoices",{get:function(){var e=this;return this.renderedChoices.filter(function(t){return!e.isBuiltInChoice(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.renderedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"columns",{get:function(){var e=[],t=this.getCurrentColCount();if(this.hasColumns&&this.renderedChoices.length>0){var o=this.separateSpecialChoices||this.isInDesignMode?this.dataChoices:this.renderedChoices;if("column"==t0.showItemsInOrder)for(var n=0,r=o.length%t,i=0;i<t;i++){for(var s=[],a=n;a<n+Math.floor(o.length/t);a++)s.push(o[a]);r>0&&(r--,s.push(o[a]),a++),n=a,e.push(s)}else for(var i=0;i<t;i++){for(var s=[],a=i;a<o.length;a+=t)s.push(o[a]);e.push(s)}}return e},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.getItemsColumnKey=function(e){return(e||[]).map(function(e){return e.value||""}).join("")},Object.defineProperty(QuestionSelectBase.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"rowLayout",{get:function(){return 0==this.getCurrentColCount()&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSelectBase.prototype,"blockedRow",{get:function(){return 0==this.getCurrentColCount()&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0,this.updateIsReady(),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},QuestionSelectBase.prototype.getItemValueWrapperComponentName=function(e){var t=this.survey;return t?t.getItemValueWrapperComponentName(e,this):nX.TemplateRendererComponentName},QuestionSelectBase.prototype.getItemValueWrapperComponentData=function(e){var t=this.survey;return t?t.getItemValueWrapperComponentData(e,this):e},QuestionSelectBase.prototype.ariaItemChecked=function(e){return this.renderedValue===e.value?"true":"false"},QuestionSelectBase.prototype.isOtherItem=function(e){return this.hasOther&&e.value==this.otherItem.value},Object.defineProperty(QuestionSelectBase.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.getSelectBaseRootCss=function(){return new tP().append(this.getQuestionRootCss()).append(this.cssClasses.rootRow,this.rowLayout).toString()},QuestionSelectBase.prototype.allowMobileInDesignMode=function(){return!0},QuestionSelectBase.prototype.getAriaItemLabel=function(e){return e.locText.renderedHtml},QuestionSelectBase.prototype.getItemId=function(e){return this.inputId+"_"+this.getItemIndex(e)},Object.defineProperty(QuestionSelectBase.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.getItemEnabled=function(e){return!this.isDisabledAttr&&e.isEnabled},QuestionSelectBase.prototype.focusOtherComment=function(){var e;t$.FocusElement(this.otherId,!1,null===(e=this.survey)||void 0===e?void 0:e.rootElement)},QuestionSelectBase.prototype.onValueChanged=function(){e.prototype.onValueChanged.call(this),this.isDesignMode||this.prevIsOtherSelected||!this.isOtherSelected||this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},QuestionSelectBase.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(QuestionSelectBase.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(e){this.setPropertyValue("itemComponent",e)},enumerable:!1,configurable:!0}),QuestionSelectBase.prototype.updateCssClasses=function(t,o){if(e.prototype.updateCssClasses.call(this,t,o),this.dropdownListModel){var n={};mergeValues(o.list,n),mergeValues(t.list,n),t.list=n}},QuestionSelectBase.prototype.calcCssClasses=function(t){var o=e.prototype.calcCssClasses.call(this,t);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(o.popup,o.list),o},question_baseselect_decorate([jsonobject_property({onSet:function(e,t){t.onSelectedItemValuesChangedHandler(e)}})],QuestionSelectBase.prototype,"selectedItemValues",void 0),question_baseselect_decorate([jsonobject_property()],QuestionSelectBase.prototype,"separateSpecialChoices",void 0),question_baseselect_decorate([jsonobject_property({localizable:!0})],QuestionSelectBase.prototype,"otherPlaceholder",void 0),question_baseselect_decorate([propertyArray()],QuestionSelectBase.prototype,"_renderedChoices",void 0),QuestionSelectBase}(ox),n2=function(e){function QuestionCheckboxBase(t){return e.call(this,t)||this}return n1(QuestionCheckboxBase,e),Object.defineProperty(QuestionCheckboxBase.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:void 0)},set:function(e){e<0||e>5||this.isFlowLayout||(this.setPropertyValue("colCount",e),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),QuestionCheckboxBase.prototype.onParentChanged=function(){e.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},QuestionCheckboxBase.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},QuestionCheckboxBase.prototype.getSearchableItemValueKeys=function(e){e.push("choices")},QuestionCheckboxBase}(n0);function checkCopyPropVisibility(e,t){var o;if(!e)return!1;if(e.templateQuestion){var n=null===(o=e.colOwner)||void 0===o?void 0:o.data;if(!(e=e.templateQuestion).getCarryForwardQuestion(n))return!1}return e.carryForwardQuestionType===t}eY.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_carryforward",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return getLocaleString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(e){return!e.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(e){return checkCopyPropVisibility(e,"select")}},{name:"choiceValuesFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(e){return checkCopyPropVisibility(e,"array")}},{name:"choiceTextsFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(e){return checkCopyPropVisibility(e,"array")}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(e){return!e.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(e){return e.choicesByUrl.getData()},onSetValue:function(e,t){e.choicesByUrl.setData(t)}},"hideIfChoicesEmpty:boolean","choicesVisibleIf:condition",{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(e){return!e.choicesFromQuestion}},{name:"defaultValue:value",visibleIf:function(e){return!e.choicesFromQuestion},dependsOn:"choicesFromQuestion"},{name:"correctAnswer:value",visibleIf:function(e){return!e.choicesFromQuestion},dependsOn:"choicesFromQuestion"},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"showRefuseItem:boolean",visible:!1,version:"1.9.128"},{name:"showDontKnowItem:boolean",visible:!1,version:"1.9.128"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(e){return e.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(e){return e.showNoneItem}},{name:"refuseText",serializationProperty:"locRefuseText",dependsOn:"showRefuseItem",visibleIf:function(e){return e.showRefuseItem}},{name:"dontKnowText",serializationProperty:"locDontKnowText",dependsOn:"showDontKnowItem",visibleIf:function(e){return e.showDontKnowItem}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(e){return e.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(e){return e.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),eY.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase");var n5=function(){function Rect(e,t,o,n){this.x=e,this.y=t,this.width=o,this.height=n}return Object.defineProperty(Rect.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(Rect.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(Rect.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(Rect.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Rect}(),n7=function(){function PopupUtils(){}return PopupUtils.calculatePosition=function(e,t,o,n,r,i){void 0===i&&(i="flex");var s=e.left,a=e.top;return"flex"===i&&(s="center"==r?(e.left+e.right-o)/2:"left"==r?e.left-o:e.right),a="middle"==n?(e.top+e.bottom-t)/2:"top"==n?e.top-t:e.bottom,"center"!=r&&"middle"!=n&&("top"==n?a+=e.height:a-=e.height),{left:Math.round(s),top:Math.round(a)}},PopupUtils.getCorrectedVerticalDimensions=function(e,t,o,n,r,i){void 0===r&&(r=!0),void 0===i&&(i={top:0,bottom:0});var s,a=o-PopupUtils.bottomIndent;if("top"===n&&(s={height:t,top:e}),e<-i.top)s={height:r?t+e:t,top:-i.top};else if(t+e>o){var l=Math.min(t,a-e);s={height:r?l:t,top:r?e:e-(t-l)}}return s&&(s.height=Math.min(s.height,a),s.top=Math.max(s.top,-i.top)),s},PopupUtils.updateHorizontalDimensions=function(e,t,o,n,r,i){void 0===r&&(r="flex"),void 0===i&&(i={left:0,right:0}),t+=i.left+i.right;var s=void 0,a=e;return"center"===n&&("fixed"===r?(e+t>o&&(s=o-e),a-=i.left):e<0?(a=i.left,s=Math.min(t,o)):t+e>o&&(a=Math.max(a=o-t,i.left),s=Math.min(t,o))),"left"===n&&e<0&&(a=i.left,s=Math.min(t,o)),"right"===n&&t+e>o&&(s=o-e),{width:s-i.left-i.right,left:a}},PopupUtils.updateVerticalPosition=function(e,t,o,n,r){if("middle"===n)return n;var i=t-(e.top+("center"!==o?e.height:0)),s=t+e.bottom-("center"!==o?e.height:0)-r;return i>0&&s<=0&&"top"==n?n="bottom":s>0&&i<=0&&"bottom"==n?n="top":s>0&&i>0&&(n=i<s?"top":"bottom"),n},PopupUtils.updateHorizontalPosition=function(e,t,o,n){if("center"===o)return o;var r=t-e.left,i=t+e.right-n;return r>0&&i<=0&&"left"==o?o="right":i>0&&r<=0&&"right"==o?o="left":i>0&&r>0&&(o=r<i?"left":"right"),o},PopupUtils.calculatePopupDirection=function(e,t){var o;return"center"==t&&"middle"!=e?o=e:"center"!=t&&(o=t),o},PopupUtils.calculatePointerTarget=function(e,t,o,n,r,i,s){void 0===i&&(i=0),void 0===s&&(s=0);var a={};return"center"!=r?(a.top=e.top+e.height/2,a.left=e[r]):"middle"!=n&&(a.top=e[n],a.left=e.left+e.width/2),a.left=Math.round(a.left-o),a.top=Math.round(a.top-t),"left"==r&&(a.left-=i+s),"center"===r&&(a.left-=i),a},PopupUtils.bottomIndent=16,PopupUtils}(),n4=(z=function(e,t){return(z=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}z(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),popup_view_model_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},n9='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',n3=function(e){function PopupBaseViewModel(t){var o=e.call(this)||this;return o.popupSelector=".sv-popup",o.fixedPopupContainer=".sv-popup",o.containerSelector=".sv-popup__container",o.scrollingContentSelector=".sv-popup__scrolling-content",o.visibilityAnimation=new tH(o,function(e){o._isVisible!==e&&(e?(o.updateBeforeShowing(),o.updateIsVisible(e)):(o.updateOnHiding(),o.updateIsVisible(e),o.updateAfterHiding(),o._isPositionSetValue=!1))},function(){return o._isVisible}),o.onVisibilityChanged=new tv,o.onModelIsVisibleChangedCallback=function(){o.isVisible=o.model.isVisible},o._isPositionSetValue=!1,o.model=t,o.locale=o.model.locale,o}return n4(PopupBaseViewModel,e),PopupBaseViewModel.prototype.updateIsVisible=function(e){this._isVisible=e,this.onVisibilityChanged.fire(this,{isVisible:e})},PopupBaseViewModel.prototype.updateBeforeShowing=function(){this.model.onShow()},PopupBaseViewModel.prototype.updateAfterHiding=function(){this.model.onHiding()},PopupBaseViewModel.prototype.getLeaveOptions=function(){return{cssClass:"sv-popup--leave",onBeforeRunAnimation:function(e){e.setAttribute("inert","")},onAfterRunAnimation:function(e){return e.removeAttribute("inert")}}},PopupBaseViewModel.prototype.getEnterOptions=function(){return{cssClass:"sv-popup--enter"}},PopupBaseViewModel.prototype.getAnimatedElement=function(){return this.getAnimationContainer()},PopupBaseViewModel.prototype.isAnimationEnabled=function(){return"overlay"!==this.model.displayMode&&t0.animationEnabled},PopupBaseViewModel.prototype.getRerenderEvent=function(){return this.onElementRerendered},PopupBaseViewModel.prototype.getAnimationContainer=function(){var e;return null===(e=this.container)||void 0===e?void 0:e.querySelector(this.fixedPopupContainer)},Object.defineProperty(PopupBaseViewModel.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this.visibilityAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"container",{get:function(){return this.containerElement||this.createdContainer},enumerable:!1,configurable:!0}),PopupBaseViewModel.prototype.getLocale=function(){return this.locale?this.locale:e.prototype.getLocale.call(this)},PopupBaseViewModel.prototype.hidePopup=function(){this.model.isVisible=!1},PopupBaseViewModel.prototype.getStyleClass=function(){return new tP().append(this.model.cssClass).append("sv-popup--"+this.model.displayMode,this.isOverlay)},PopupBaseViewModel.prototype.getShowFooter=function(){return this.isOverlay},PopupBaseViewModel.prototype.getShowHeader=function(){return!1},PopupBaseViewModel.prototype.getPopupHeaderTemplate=function(){},PopupBaseViewModel.prototype.createFooterActionBar=function(){var e=this;this.footerToolbarValue=new tV,this.footerToolbar.updateCallback=function(t){e.footerToolbarValue.actions.forEach(function(e){return e.cssClasses={item:"sv-popup__body-footer-item sv-popup__button sd-btn"}})};var t=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel sd-btn",action:function(){e.cancel()}}];t=this.model.updateFooterActions(t),this.footerToolbarValue.setItems(t)},PopupBaseViewModel.prototype.resetDimensionsAndPositionStyleProperties=function(){var e="inherit";this.top=e,this.left=e,this.height=e,this.width=e,this.minWidth=e},PopupBaseViewModel.prototype.onModelChanging=function(e){},PopupBaseViewModel.prototype.setupModel=function(e){this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.onModelChanging(e),this._model=e,e.onVisibilityChanged.add(this.onModelIsVisibleChangedCallback),this.onModelIsVisibleChangedCallback()},Object.defineProperty(PopupBaseViewModel.prototype,"model",{get:function(){return this._model},set:function(e){this.setupModel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"isFocusedContainer",{get:function(){return this.model.isFocusedContainer},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"isOverlay",{get:function(){return"overlay"===this.model.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupBaseViewModel.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),PopupBaseViewModel.prototype.onKeyDown=function(e){"Tab"===e.key||9===e.keyCode?this.trapFocus(e):("Escape"===e.key||27===e.keyCode)&&this.hidePopup()},PopupBaseViewModel.prototype.trapFocus=function(e){var t=this.container.querySelectorAll(n9),o=t[0],n=t[t.length-1];e.shiftKey?t0.environment.root.activeElement===o&&(n.focus(),e.preventDefault()):t0.environment.root.activeElement===n&&(o.focus(),e.preventDefault())},PopupBaseViewModel.prototype.switchFocus=function(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()},Object.defineProperty(PopupBaseViewModel.prototype,"isPositionSet",{get:function(){return this._isPositionSetValue},enumerable:!1,configurable:!0}),PopupBaseViewModel.prototype.updateOnShowing=function(){this.prevActiveElement=t0.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus(),this._isPositionSetValue=!0},PopupBaseViewModel.prototype.updateOnHiding=function(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus({preventScroll:!0})},PopupBaseViewModel.prototype.focusContainer=function(){if(this.container){var e=this.container.querySelector(this.popupSelector);null==e||e.focus()}},PopupBaseViewModel.prototype.focusFirstInput=function(){var e=this;setTimeout(function(){if(e.container){var t=e.container.querySelector(e.model.focusFirstInputSelector||n9);t?t.focus():e.focusContainer()}},100)},PopupBaseViewModel.prototype.clickOutside=function(e){this.hidePopup(),null==e||e.stopPropagation()},PopupBaseViewModel.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},PopupBaseViewModel.prototype.dispose=function(){e.prototype.dispose.call(this),this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose(),this.resetComponentElement()},PopupBaseViewModel.prototype.initializePopupContainer=function(){if(!this.container){var e=eD.createElement("div");this.createdContainer=e,getElement(t0.environment.popupMountContainer).appendChild(e)}},PopupBaseViewModel.prototype.setComponentElement=function(e){e&&(this.containerElement=e)},PopupBaseViewModel.prototype.resetComponentElement=function(){this.containerElement=void 0,this.prevActiveElement=void 0},PopupBaseViewModel.prototype.preventScrollOuside=function(e,t){for(var o=e.target;o!==this.container;){if("auto"===eD.getComputedStyle(o).overflowY&&o.scrollHeight!==o.offsetHeight){var n=o.scrollHeight,r=o.scrollTop,i=o.clientHeight;if(!(t>0&&1>Math.abs(n-i-r))&&!(t<0&&r<=0))return}o=o.parentElement}e.cancelable&&e.preventDefault()},popup_view_model_decorate([jsonobject_property({defaultValue:"0px"})],PopupBaseViewModel.prototype,"top",void 0),popup_view_model_decorate([jsonobject_property({defaultValue:"0px"})],PopupBaseViewModel.prototype,"left",void 0),popup_view_model_decorate([jsonobject_property({defaultValue:"auto"})],PopupBaseViewModel.prototype,"height",void 0),popup_view_model_decorate([jsonobject_property({defaultValue:"auto"})],PopupBaseViewModel.prototype,"width",void 0),popup_view_model_decorate([jsonobject_property({defaultValue:"auto"})],PopupBaseViewModel.prototype,"minWidth",void 0),popup_view_model_decorate([jsonobject_property({defaultValue:!1})],PopupBaseViewModel.prototype,"_isVisible",void 0),popup_view_model_decorate([jsonobject_property()],PopupBaseViewModel.prototype,"locale",void 0),PopupBaseViewModel}(ty),n6=(U=function(e,t){return(U=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),popup_dropdown_view_model_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s};function calculateIsTablet(e,t){return Math.min(e||eE.getInnerWidth(),t||eE.getInnerHeight())>=n8.tabletSizeBreakpoint}var n8=function(e){function PopupDropdownViewModel(t){var o=e.call(this,t)||this;return o.scrollEventCallBack=function(e){if(o.isOverlay&&nc){e.stopPropagation(),e.preventDefault();return}o.hidePopup()},o.resizeEventCallback=function(){if(eE.isAvailable()){var e=eE.getVisualViewport(),t=eD.getDocumentElement();t&&e&&t.style.setProperty("--sv-popup-overlay-height",e.height*e.scale+"px")}},o.resizeWindowCallback=function(){o.isOverlay||o.updatePosition(!0,"vue"===nX.platform||"vue3"===nX.platform||"react"==nX.platform)},o.clientY=0,o.isTablet=!1,o.touchStartEventCallback=function(e){o.clientY=e.touches[0].clientY},o.touchMoveEventCallback=function(e){o.preventScrollOuside(e,o.clientY-e.changedTouches[0].clientY)},o.model.onRecalculatePosition.add(o.recalculatePositionHandler),o}return n6(PopupDropdownViewModel,e),PopupDropdownViewModel.prototype.calculateIsTablet=function(e,t){this.isTablet=calculateIsTablet(e,t)},PopupDropdownViewModel.prototype.getAvailableAreaRect=function(){var e=this.model.getAreaCallback?this.model.getAreaCallback(this.container):void 0;if(e){var t=e.getBoundingClientRect();return new n5(t.x,t.y,t.width,t.height)}return new n5(0,0,eE.getInnerWidth(),eE.getInnerHeight())},PopupDropdownViewModel.prototype.getTargetElementRect=function(){var e=this.container,t=this.model.getTargetCallback?this.model.getTargetCallback(e):void 0;if(e&&e.parentElement&&!this.isModal&&!t&&(t=e.parentElement),!t)return null;var o=t.getBoundingClientRect(),n=this.getAvailableAreaRect();return new n5(o.left-n.left,o.top-n.top,o.width,o.height)},PopupDropdownViewModel.prototype._updatePosition=function(){var e,t,o,n=this.getTargetElementRect();if(n){var r=this.getAvailableAreaRect(),i=null===(e=this.container)||void 0===e?void 0:e.querySelector(this.containerSelector);if(i){var s=null===(t=this.container)||void 0===t?void 0:t.querySelector(this.fixedPopupContainer),a=i.querySelector(this.scrollingContentSelector),l=eD.getComputedStyle(i),u=parseFloat(l.marginLeft)||0,c=parseFloat(l.marginRight)||0,p=parseFloat(l.marginTop)||0,d=parseFloat(l.marginBottom)||0,h=i.offsetHeight-a.offsetHeight+a.scrollHeight,g=i.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=n.width+"px");var f=this.model.verticalPosition,y=this.getActualHorizontalPosition();if(eE.isAvailable()){var m=[h,.9*eE.getInnerHeight(),null===(o=eE.getVisualViewport())||void 0===o?void 0:o.height];h=Math.ceil(Math.min.apply(Math,m.filter(function(e){return"number"==typeof e}))),f=n7.updateVerticalPosition(n,h,this.model.horizontalPosition,this.model.verticalPosition,r.height),y=n7.updateHorizontalPosition(n,g,y,r.width)}this.popupDirection=n7.calculatePopupDirection(f,y);var v=n7.calculatePosition(n,h,g+u+c,f,y,this.model.positionMode);if(eE.isAvailable()){var b=n7.getCorrectedVerticalDimensions(v.top,h,r.height,f,this.model.canShrink,{top:p,bottom:d});if(b&&(this.height=b.height+"px",v.top=b.top),this.model.setWidthByTarget)this.width=n.width+"px",v.left=n.left;else{var C=n7.updateHorizontalDimensions(v.left,g,eE.getInnerWidth(),y,this.model.positionMode,{left:u,right:c});C&&(this.width=C.width?C.width+"px":void 0,v.left=C.left)}}if(s){var w=s.getBoundingClientRect();v.top-=w.top,v.left-=w.left}v.left+=r.left,v.top+=r.top,this.left=v.left+"px",this.top=v.top+"px",this.showHeader&&(this.pointerTarget=n7.calculatePointerTarget(n,v.top,v.left,f,y,u,c),this.pointerTarget.top+="px",this.pointerTarget.left+="px")}}},PopupDropdownViewModel.prototype.getActualHorizontalPosition=function(){var e=this.model.horizontalPosition;return eD.isAvailable()&&"rtl"==eD.getComputedStyle(eD.getBody()).direction&&("left"===this.model.horizontalPosition?e="right":"right"===this.model.horizontalPosition&&(e="left")),e},PopupDropdownViewModel.prototype.getStyleClass=function(){var t=this.model.overlayDisplayMode;return e.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--dropdown-overlay",this.isOverlay&&"plain"!==t).append("sv-popup--tablet",this.isOverlay&&("tablet-dropdown-overlay"==t||"auto"==t&&this.isTablet)).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--"+this.popupDirection,!this.isOverlay&&(this.showHeader||"top"==this.popupDirection||"bottom"==this.popupDirection))},PopupDropdownViewModel.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},PopupDropdownViewModel.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},PopupDropdownViewModel.prototype.setComponentElement=function(t){e.prototype.setComponentElement.call(this,t)},PopupDropdownViewModel.prototype.resetComponentElement=function(){e.prototype.resetComponentElement.call(this)},PopupDropdownViewModel.prototype.updateOnShowing=function(){var e=t0.environment.root;this.prevActiveElement=e.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),eE.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(eE.getVisualViewport().addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.calculateIsTablet(),this.resizeEventCallback()),eE.addEventListener("scroll",this.scrollEventCallBack),this._isPositionSetValue=!0},Object.defineProperty(PopupDropdownViewModel.prototype,"shouldCreateResizeCallback",{get:function(){return!!eE.getVisualViewport()&&this.isOverlay&&nc},enumerable:!1,configurable:!0}),PopupDropdownViewModel.prototype.updatePosition=function(e,t){var o=this;void 0===t&&(t=!0),e&&(this.height="auto"),t?setTimeout(function(){o._updatePosition()},1):this._updatePosition()},PopupDropdownViewModel.prototype.updateOnHiding=function(){e.prototype.updateOnHiding.call(this),eE.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(eE.getVisualViewport().removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),eE.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},PopupDropdownViewModel.prototype.onModelChanging=function(t){var o=this;this.model&&this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler||(this.recalculatePositionHandler=function(e,t){o.isOverlay||o.updatePosition(t.isResetHeight)}),e.prototype.onModelChanging.call(this,t),t.onRecalculatePosition.add(this.recalculatePositionHandler)},PopupDropdownViewModel.prototype.dispose=function(){e.prototype.dispose.call(this),this.updateOnHiding(),this.model&&(this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler=void 0),this.resetComponentElement()},PopupDropdownViewModel.tabletSizeBreakpoint=600,popup_dropdown_view_model_decorate([jsonobject_property()],PopupDropdownViewModel.prototype,"isTablet",void 0),popup_dropdown_view_model_decorate([jsonobject_property({defaultValue:"left"})],PopupDropdownViewModel.prototype,"popupDirection",void 0),popup_dropdown_view_model_decorate([jsonobject_property({defaultValue:{left:"0px",top:"0px"}})],PopupDropdownViewModel.prototype,"pointerTarget",void 0),PopupDropdownViewModel}(n3),re=(W=function(e,t){return(W=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}W(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),dropdownListModel_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},rt=function(e){function DropdownListModel(t,o){var n=e.call(this)||this;return n.question=t,n.onSelectionChanged=o,n.minPageSize=25,n.loadingItemHeight=40,n.timer=void 0,n._markdownMode=!1,n.filteredItems=void 0,n.selectedItemSelector=".sv-list__item--selected",n.itemSelector=".sv-list__item",n.itemsSettings={skip:0,take:0,totalCount:0,items:[]},n.popupCssClasses="sv-single-select-list",n.listModelFilterStringChanged=function(e){n.filterString!==e&&(n.filterString=e)},n.questionPropertyChangedHandler=function(e,t){n.onPropertyChangedHandler(e,t)},n.htmlCleanerElement=eD.createElement("div"),n.question.ariaExpanded="false",t.onPropertyChanged.add(n.questionPropertyChangedHandler),n.showInputFieldComponent=n.question.showInputFieldComponent,n.listModel=n.createListModel(),n.updateAfterListModelCreated(n.listModel),n.setChoicesLazyLoadEnabled(n.question.choicesLazyLoadEnabled),n.setSearchEnabled(n.question.searchEnabled),n.setTextWrapEnabled(n.question.textWrapEnabled),n.createPopup(),n.resetItemsSettings(),n}return re(DropdownListModel,e),Object.defineProperty(DropdownListModel.prototype,"focusFirstInputSelector",{get:function(){return this.getFocusFirstInputSelector()},enumerable:!1,configurable:!0}),DropdownListModel.prototype.getFocusFirstInputSelector=function(){return nc?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""},DropdownListModel.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},DropdownListModel.prototype.setItems=function(e,t){this.itemsSettings.items=[].concat(this.itemsSettings.items,e),this.itemsSettings.totalCount=t,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items},DropdownListModel.prototype.loadQuestionChoices=function(e){var t=this;this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(o,n){t.setItems(o||[],n||0),t.popupRecalculatePosition(t.itemsSettings.skip===t.itemsSettings.take),e&&e()}}),this.itemsSettings.skip+=this.itemsSettings.take},DropdownListModel.prototype.updateQuestionChoices=function(e){var t=this,o=this.itemsSettings.skip+1<this.itemsSettings.totalCount;(!this.itemsSettings.skip||o)&&(this.filterString&&t0.dropdownSearchDelay>0?(this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.timer=setTimeout(function(){t.loadQuestionChoices(e)},t0.dropdownSearchDelay)):this.loadQuestionChoices(e))},DropdownListModel.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector},DropdownListModel.prototype.getDropdownMenuOptions=function(){var e=eE.getInnerWidth(),t=eE.getInnerHeight(),o=calculateIsTablet(e,t),n="dropdown",r="desktop";return nc&&(n=o?"popup":"overlay",r=o?"tablet":"mobile"),{menuType:n,deviceType:r,hasTouchScreen:nc,screenHeight:t,screenWidth:e}},DropdownListModel.prototype.createPopup=function(){var e=this;this._popupModel=new tI("sv-list",{model:this.listModel},{verticalPosition:"bottom",horizontalPosition:"center",showPointer:!1}),this._popupModel.displayMode=nc?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=nc,this._popupModel.setWidthByTarget=!nc,this._popupModel.locale=this.question.getLocale(),this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){e.updatePopupFocusFirstInputSelector()}),this._popupModel.cssClass=this.popupCssClasses,this._popupModel.onVisibilityChanged.add(function(t,o){if(o.isVisible&&(e.listModel.renderElements=!0),o.isVisible&&e.question.choicesLazyLoadEnabled&&(e.listModel.actions=[],e.resetItemsSettings(),e.updateQuestionChoices()),o.isVisible){e.updatePopupFocusFirstInputSelector();var n=e.getDropdownMenuOptions(),r=n.menuType;e.question.processOpenDropdownMenu(n),r!==n.menuType&&(e._popupModel.updateDisplayMode(n.menuType),e.listModel.setSearchEnabled(e.searchEnabled&&"dropdown"!==n.menuType)),e.question.onOpenedCallBack&&e.question.onOpenedCallBack()}!o.isVisible&&(e.onHidePopup(),e.question.choicesLazyLoadEnabled&&e.resetItemsSettings()),e.question.ariaExpanded=o.isVisible?"true":"false",e.question.processPopupVisiblilityChanged(e.popupModel,o.isVisible)})},DropdownListModel.prototype.setFilterStringToListModel=function(e){var t=this;if(this.listModel.filterString=e,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(e)>=0){this.listModel.focusedItem=this.getAvailableItems().filter(function(e){return e.id==t.question.selectedItem.value})[0],this.listModel.filterString&&this.listModel.actions.map(function(e){return e.selectedValue=!1});return}this.listModel.focusedItem&&this.listModel.isItemVisible(this.listModel.focusedItem)||this.listModel.focusFirstVisibleItem()},DropdownListModel.prototype.setTextWrapEnabled=function(e){this.listModel.textWrapEnabled=e},DropdownListModel.prototype.popupRecalculatePosition=function(e){var t=this;setTimeout(function(){t.popupModel.recalculatePosition(e)},1)},DropdownListModel.prototype.onHidePopup=function(){this.resetFilterString(),this.question.suggestedItem=null},DropdownListModel.prototype.getAvailableItems=function(){return this.question.visibleChoices},DropdownListModel.prototype.setOnTextSearchCallbackForListModel=function(e){var t=this;e.setOnTextSearchCallback(function(e,o){if(t.filteredItems)return t.filteredItems.indexOf(e)>=0;var n=e.text.toLocaleLowerCase(),r=(n=t0.comparator.normalizeTextCallback(n,"filter")).indexOf(o.toLocaleLowerCase());return"startsWith"==t.question.searchMode?0==r:r>-1})},DropdownListModel.prototype.createListModel=function(){var e=this,t=this.getAvailableItems(),o=this.onSelectionChanged;o||(o=function(t){e.question.value=t.id,e.question.searchEnabled&&e.applyInputString(t),e.popupModel.hide()});var n={items:t,onSelectionChanged:o,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},r=new tR(n);return this.setOnTextSearchCallbackForListModel(r),r.renderElements=!1,r.forceShowFilter=!0,r.areSameItemsCallback=function(e,t){return e===t},r},DropdownListModel.prototype.updateAfterListModelCreated=function(e){var t=this;e.isItemSelected=function(e){return!!e.selected},e.onPropertyChanged.add(function(e,o){"hasVerticalScroller"==o.name&&(t.hasScroll=o.newValue)}),e.isAllDataLoaded=!this.question.choicesLazyLoadEnabled,e.actions.forEach(function(e){return e.disableTabStop=!0})},DropdownListModel.prototype.updateCssClasses=function(e,t){this.popupModel.cssClass=new tP().append(e).append(this.popupCssClasses).toString(),this.listModel.cssClasses=t},DropdownListModel.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},DropdownListModel.prototype.clear=function(){this.inputString=null,this.hintString="",this.resetFilterString()},DropdownListModel.prototype.onSetFilterString=function(){var e=this;if(this.filteredItems=void 0,this.filterString||this.popupModel.isVisible){var t={question:this.question,choices:this.getAvailableItems(),filter:this.filterString,filteredChoices:void 0};this.question.survey.onChoicesSearch.fire(this.question.survey,t),this.filteredItems=t.filteredChoices,this.filterString&&!this.popupModel.isVisible&&this.popupModel.show();var updateAfterFilterStringChanged=function(){e.setFilterStringToListModel(e.filterString),e.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(updateAfterFilterStringChanged)):updateAfterFilterStringChanged()}},Object.defineProperty(DropdownListModel.prototype,"isAllDataLoaded",{get:function(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"canShowSelectedItem",{get:function(){return!this.focused||this._markdownMode||!this.searchEnabled},enumerable:!1,configurable:!0}),DropdownListModel.prototype.applyInputString=function(e){(null==e?void 0:e.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString=this.cleanHtml(null==e?void 0:e.locText.getHtmlValue()),this.hintString=""):(this.inputString=null==e?void 0:e.title,this.hintString=null==e?void 0:e.title)},DropdownListModel.prototype.cleanHtml=function(e){return this.htmlCleanerElement?(this.htmlCleanerElement.innerHTML=e,this.htmlCleanerElement.textContent):""},DropdownListModel.prototype.fixInputCase=function(){var e=this.hintStringMiddle;e&&this.inputString!=e&&(this.inputString=e)},DropdownListModel.prototype.applyHintString=function(e){(null==e?void 0:e.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):this.hintString=null==e?void 0:e.title},Object.defineProperty(DropdownListModel.prototype,"inputStringRendered",{get:function(){return this.inputString||""},set:function(e){this.inputString=e,this.filterString=e,e?this.applyHintString(this.listModel.focusedItem||this.question.selectedItem):this.hintString=""},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"placeholderRendered",{get:function(){return this.hintString?"":this.question.readOnlyText},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"listElementId",{get:function(){return this.question.inputId+"_list"},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"hintStringLC",{get:function(){var e;return(null===(e=this.hintString)||void 0===e?void 0:e.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"inputStringLC",{get:function(){var e;return(null===(e=this.inputString)||void 0===e?void 0:e.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"showHintPrefix",{get:function(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"hintStringPrefix",{get:function(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"showHintString",{get:function(){return!!this.question.searchEnabled&&this.hintStringLC&&this.hintStringLC.indexOf(this.inputStringLC)>=0||!this.question.searchEnabled&&this.hintStringLC&&this.question.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"hintStringSuffix",{get:function(){return this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"hintStringMiddle",{get:function(){var e=this.hintStringLC.indexOf(this.inputStringLC);return -1==e?null:this.hintString.substring(e,e+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"noTabIndex",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"filterReadOnly",{get:function(){return this.question.isInputReadOnly||!this.searchEnabled||!this.focused},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(DropdownListModel.prototype,"inputMode",{get:function(){return nc?"none":"text"},enumerable:!1,configurable:!0}),DropdownListModel.prototype.setSearchEnabled=function(e){this.listModel.setSearchEnabled(nc&&e),this.searchEnabled=e},DropdownListModel.prototype.setChoicesLazyLoadEnabled=function(e){this.listModel.setOnFilterStringChangedCallback(e?this.listModelFilterStringChanged:void 0)},DropdownListModel.prototype.updateItems=function(){this.listModel.setItems(this.getAvailableItems())},DropdownListModel.prototype.onClick=function(e){this.question.readOnly||this.question.isDesignMode||this.question.isPreviewStyle||this.question.isReadOnlyAttr||(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.question.focusInputElement(!1))},DropdownListModel.prototype.chevronPointerDown=function(e){this._popupModel.isVisible&&e.preventDefault()},DropdownListModel.prototype.onPropertyChangedHandler=function(e,t){"value"==t.name&&(this.showInputFieldComponent=this.question.showInputFieldComponent),"textWrapEnabled"==t.name&&this.setTextWrapEnabled(t.newValue)},DropdownListModel.prototype.focusItemOnClickAndPopup=function(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)},DropdownListModel.prototype.onClear=function(e){this.question.clearValue(!0),this._popupModel.hide(),e&&(e.preventDefault(),e.stopPropagation())},DropdownListModel.prototype.getSelectedAction=function(){return this.question.selectedItem||null},DropdownListModel.prototype.changeSelectionWithKeyboard=function(e){var t,o=this.listModel.focusedItem;!o&&this.question.selectedItem?oV.getItemByValue(this.question.visibleChoices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):e?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(o),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=null===(t=this.listModel.focusedItem)||void 0===t?void 0:t.elementId},DropdownListModel.prototype.beforeScrollToFocusedItem=function(e){this.question.value&&e&&(e.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)},DropdownListModel.prototype.afterScrollToFocusedItem=function(){var e;this.question.value&&!this.listModel.filterString&&this.question.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.fixInputCase(),this.ariaActivedescendant=null===(e=this.listModel.focusedItem)||void 0===e?void 0:e.elementId},DropdownListModel.prototype.keyHandler=function(e){var t=e.which||e.keyCode;if(this.popupModel.isVisible&&38===e.keyCode?(this.changeSelectionWithKeyboard(!0),e.preventDefault(),e.stopPropagation()):40===e.keyCode&&(this.popupModel.show(),this.changeSelectionWithKeyboard(!1),e.preventDefault(),e.stopPropagation()),9===e.keyCode)this.popupModel.hide();else if(this.popupModel.isVisible||13!==e.keyCode&&32!==e.keyCode){if(!this.popupModel.isVisible||13!==e.keyCode&&(32!==e.keyCode||this.question.searchEnabled&&this.inputString)){if(46===t||8===t)this.searchEnabled||this.onClear(e);else if(27===e.keyCode)this._popupModel.hide(),this.hintString="",this.onEscape();else{if(38!==e.keyCode&&40!==e.keyCode&&(32!==e.keyCode||this.question.searchEnabled)||(e.preventDefault(),e.stopPropagation()),32===e.keyCode&&this.question.searchEnabled)return;doKey2ClickUp(e,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}}else 13===e.keyCode&&this.question.searchEnabled&&!this.inputString&&this.question instanceof rn&&!this._markdownMode&&this.question.value?(this._popupModel.hide(),this.onClear(e)):(this.listModel.selectFocusedItem(),this.onFocus(e)),e.preventDefault(),e.stopPropagation()}else 32===e.keyCode&&(this.popupModel.show(),this.changeSelectionWithKeyboard(!1)),13===e.keyCode&&this.question.survey.questionEditFinishCallback(this.question,e),e.preventDefault(),e.stopPropagation()},DropdownListModel.prototype.onEscape=function(){this.question.searchEnabled&&this.applyInputString(this.question.selectedItem)},DropdownListModel.prototype.onScroll=function(e){var t=e.target;t.scrollHeight-(t.scrollTop+t.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},DropdownListModel.prototype.onBlur=function(e){if(this.focused=!1,this.popupModel.isVisible&&nc){this._popupModel.show();return}doKey2ClickBlur(e),this._popupModel.hide(),this.resetFilterString(),this.inputString=null,this.hintString="",e.stopPropagation()},DropdownListModel.prototype.onFocus=function(e){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)},DropdownListModel.prototype.setInputStringFromSelectedItem=function(e){this.focused&&(this.question.searchEnabled&&e?this.applyInputString(e):this.inputString=null)},DropdownListModel.prototype.dispose=function(){e.prototype.dispose.call(this),this.question&&this.question.onPropertyChanged.remove(this.questionPropertyChangedHandler),this.questionPropertyChangedHandler=void 0,this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose(),this.htmlCleanerElement=void 0},DropdownListModel.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},dropdownListModel_decorate([jsonobject_property({defaultValue:!1})],DropdownListModel.prototype,"focused",void 0),dropdownListModel_decorate([jsonobject_property({defaultValue:!0})],DropdownListModel.prototype,"searchEnabled",void 0),dropdownListModel_decorate([jsonobject_property({defaultValue:"",onSet:function(e,t){t.onSetFilterString()}})],DropdownListModel.prototype,"filterString",void 0),dropdownListModel_decorate([jsonobject_property({defaultValue:"",onSet:function(e,t){t.question.inputHasValue=!!e}})],DropdownListModel.prototype,"inputString",void 0),dropdownListModel_decorate([jsonobject_property({})],DropdownListModel.prototype,"showInputFieldComponent",void 0),dropdownListModel_decorate([jsonobject_property()],DropdownListModel.prototype,"ariaActivedescendant",void 0),dropdownListModel_decorate([jsonobject_property({defaultValue:!1,onSet:function(e,t){e?t.listModel.addScrollEventListener(function(e){t.onScroll(e)}):t.listModel.removeScrollEventListener()}})],DropdownListModel.prototype,"hasScroll",void 0),dropdownListModel_decorate([jsonobject_property({defaultValue:""})],DropdownListModel.prototype,"hintString",void 0),DropdownListModel}(ty),ro=(J=function(e,t){return(J=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}J(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_dropdown_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},rn=function(e){function QuestionDropdownModel(t){var o=e.call(this,t)||this;return o.lastSelectedItemValue=null,o.minMaxChoices=[],o.onOpened=o.addEvent(),o.createLocalizableString("placeholder",o,!1,!0),o.createLocalizableString("clearCaption",o,!1,!0),o.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){o.onVisibleChoicesChanged()}),o.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){o.updateReadOnlyText()}),o.updateReadOnlyText(),o}return ro(QuestionDropdownModel,e),QuestionDropdownModel.prototype.updateReadOnlyText=function(){var e=this.selectedItem?"":this.placeholder;"select"==this.renderAs&&(this.isOtherSelected?e=this.otherText:this.isNoneSelected?e=this.noneText:this.selectedItem&&(e=this.selectedItemText)),this.readOnlyText=e},QuestionDropdownModel.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(QuestionDropdownModel.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(e){this.allowClear=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||t0.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),QuestionDropdownModel.prototype.getType=function(){return"dropdown"},Object.defineProperty(QuestionDropdownModel.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),QuestionDropdownModel.prototype.onGetSingleSelectedItem=function(e){e&&(this.lastSelectedItemValue=e)},QuestionDropdownModel.prototype.supportGoNextPageAutomatic=function(){return!this.isOtherSelected},QuestionDropdownModel.prototype.getChoices=function(){var t=e.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return t;for(var o=[],n=0;n<t.length;n++)o.push(t[n]);if(0===this.minMaxChoices.length||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var n=this.choicesMin;n<=this.choicesMax;n+=this.choicesStep)this.minMaxChoices.push(this.createItemValue(n))}return o.concat(this.minMaxChoices)},Object.defineProperty(QuestionDropdownModel.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(e){this.setPropertyValue("choicesMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(e){this.setPropertyValue("choicesMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(e){e<1&&(e=1),this.setPropertyValue("choicesStep",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(e){this.setPropertyValue("autocomplete",e)},enumerable:!1,configurable:!0}),QuestionDropdownModel.prototype.getControlClass=function(){return new tP().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},Object.defineProperty(QuestionDropdownModel.prototype,"selectedItemLocText",{get:function(){var e=this.suggestedItem||this.selectedItem;return null==e?void 0:e.locText},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText&&this.dropdownListModel.canShowSelectedItem},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"selectedItemText",{get:function(){var e=this.selectedItem;return e?e.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"dropdownListModel",{get:function(){return"select"===this.renderAs||this.dropdownListModelValue||(this.dropdownListModelValue=new rt(this)),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionDropdownModel.prototype,"popupModel",{get:function(){var e;return null===(e=this.dropdownListModel)||void 0===e?void 0:e.popupModel},enumerable:!1,configurable:!0}),QuestionDropdownModel.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},QuestionDropdownModel.prototype.onSelectedItemValuesChangedHandler=function(t){var o;null===(o=this.dropdownListModel)||void 0===o||o.setInputStringFromSelectedItem(t),e.prototype.onSelectedItemValuesChangedHandler.call(this,t)},QuestionDropdownModel.prototype.hasUnknownValue=function(t,o,n,r){return!this.choicesLazyLoadEnabled&&e.prototype.hasUnknownValue.call(this,t,o,n,r)},QuestionDropdownModel.prototype.needConvertRenderedOtherToDataValue=function(){var t,o=null===(t=this.otherValue)||void 0===t?void 0:t.trim();return!!o&&e.prototype.hasUnknownValue.call(this,o,!0,!1)},QuestionDropdownModel.prototype.getItemIfChoicesNotContainThisValue=function(t,o){return this.choicesLazyLoadEnabled?this.createItemValue(t,o):e.prototype.getItemIfChoicesNotContainThisValue.call(this,t,o)},QuestionDropdownModel.prototype.onVisibleChoicesChanged=function(){e.prototype.onVisibleChoicesChanged.call(this),!this.isLoadingFromJson&&this.popupModel&&this.dropdownListModel.updateItems()},QuestionDropdownModel.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},QuestionDropdownModel.prototype.getInputId=function(){return this.inputId+"_0"},QuestionDropdownModel.prototype.clearValue=function(t){var o;e.prototype.clearValue.call(this,t),this.lastSelectedItemValue=null,null===(o=this.dropdownListModel)||void 0===o||o.clear()},QuestionDropdownModel.prototype.afterRenderCore=function(t){e.prototype.afterRenderCore.call(this,t),this.dropdownListModelValue&&this.dropdownListModelValue.clear()},QuestionDropdownModel.prototype.onClick=function(e){this.onOpenedCallBack&&this.onOpenedCallBack()},QuestionDropdownModel.prototype.onKeyUp=function(e){46===(e.which||e.keyCode)&&(this.clearValue(!0),e.preventDefault(),e.stopPropagation())},QuestionDropdownModel.prototype.supportEmptyValidation=function(){return!0},QuestionDropdownModel.prototype.onBlurCore=function(t){var o;null===(o=this.dropdownListModel)||void 0===o||o.onBlur(t),e.prototype.onBlurCore.call(this,t)},QuestionDropdownModel.prototype.onFocusCore=function(t){var o;null===(o=this.dropdownListModel)||void 0===o||o.onFocus(t),e.prototype.onFocusCore.call(this,t)},QuestionDropdownModel.prototype.dispose=function(){e.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},question_dropdown_decorate([jsonobject_property()],QuestionDropdownModel.prototype,"allowClear",void 0),question_dropdown_decorate([jsonobject_property({onSet:function(e,t){t.dropdownListModel&&t.dropdownListModel.setSearchEnabled(e)}})],QuestionDropdownModel.prototype,"searchEnabled",void 0),question_dropdown_decorate([jsonobject_property()],QuestionDropdownModel.prototype,"searchMode",void 0),question_dropdown_decorate([jsonobject_property()],QuestionDropdownModel.prototype,"textWrapEnabled",void 0),question_dropdown_decorate([jsonobject_property({defaultValue:!1})],QuestionDropdownModel.prototype,"inputHasValue",void 0),question_dropdown_decorate([jsonobject_property({defaultValue:""})],QuestionDropdownModel.prototype,"readOnlyText",void 0),question_dropdown_decorate([jsonobject_property({onSet:function(e,t){t.dropdownListModel&&t.dropdownListModel.setChoicesLazyLoadEnabled(e)}})],QuestionDropdownModel.prototype,"choicesLazyLoadEnabled",void 0),question_dropdown_decorate([jsonobject_property()],QuestionDropdownModel.prototype,"choicesLazyLoadPageSize",void 0),question_dropdown_decorate([jsonobject_property()],QuestionDropdownModel.prototype,"suggestedItem",void 0),QuestionDropdownModel}(n0);eY.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:t0.questions.dataList},{name:"textWrapEnabled:boolean",default:!0},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"searchMode",default:"contains",choices:["contains","startsWith"]},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new rn("")},"selectbase"),oJ.Instance.registerQuestion("dropdown",function(e){var t=new rn(e);return t.choices=oJ.DefaultChoices,t});var rr=($=function(e,t){return($=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}$(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),ri=function(e){function MatrixRowModel(t,o,n,r){var i=e.call(this)||this;return i.item=t,i.fullName=o,i.data=n,i.setValueDirectly(r),i.cellClick=function(e){i.value=e.value},i.registerPropertyChangedHandlers(["value"],function(){i.data&&i.data.onMatrixRowChanged(i)}),i.data&&i.data.hasErrorInRow(i)&&(i.hasError=!0),i}return rr(MatrixRowModel,e),Object.defineProperty(MatrixRowModel.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixRowModel.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixRowModel.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixRowModel.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(e){this.isReadOnly||this.setValueDirectly(this.data.getCorrectedRowValue(e))},enumerable:!1,configurable:!0}),MatrixRowModel.prototype.setValueDirectly=function(e){this.setPropertyValue("value",e)},Object.defineProperty(MatrixRowModel.prototype,"isReadOnly",{get:function(){return!this.item.enabled||this.data.isInputReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixRowModel.prototype,"isReadOnlyAttr",{get:function(){return this.data.isReadOnlyAttr},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixRowModel.prototype,"isDisabledAttr",{get:function(){return!this.item.enabled||this.data.isDisabledAttr},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixRowModel.prototype,"rowTextClasses",{get:function(){return new tP().append(this.data.cssClasses.rowTextCell).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixRowModel.prototype,"hasError",{get:function(){return this.getPropertyValue("hasError",!1)},set:function(e){this.setPropertyValue("hasError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixRowModel.prototype,"rowClasses",{get:function(){var e=this.data.cssClasses;return new tP().append(e.row).append(e.rowError,this.hasError).append(e.rowReadOnly,this.isReadOnly).append(e.rowDisabled,this.data.isDisabledStyle).toString()},enumerable:!1,configurable:!0}),MatrixRowModel}(ty),rs=function(e){function MatrixCells(t){var o=e.call(this)||this;return o.cellsOwner=t,o.values={},o.locs={},o}return rr(MatrixCells,e),MatrixCells.prototype.getType=function(){return"cells"},Object.defineProperty(MatrixCells.prototype,"isEmpty",{get:function(){return 0==Object.keys(this.values).length},enumerable:!1,configurable:!0}),MatrixCells.prototype.valuesChanged=function(){!this.locNotification&&this.onValuesChanged&&this.onValuesChanged()},MatrixCells.prototype.getDefaultCellLocText=function(e){return this.getCellLocCore(this.defaultRowValue,e)},MatrixCells.prototype.getCellDisplayLocText=function(e,t){return this.getCellLocCore(e,t)},MatrixCells.prototype.getCellLocCore=function(e,t){var o=this;if(e=this.getCellRowColumnValue(e,this.rows),t=this.getCellRowColumnValue(t,this.columns),eQ.isValueEmpty(e)||eQ.isValueEmpty(t))return null;this.locs[e]||(this.locs[e]={});var n=this.locs[e][t];return n||((n=this.createString()).setJson(this.getCellLocData(e,t)),n.onGetTextCallback=function(e){if(!e){var n=oV.getItemByValue(o.columns,t);if(n)return n.locText.getJson()||n.value}return e},n.onStrChanged=function(n,r){o.updateValues(e,t,r)},this.locs[e][t]=n),n},Object.defineProperty(MatrixCells.prototype,"defaultRowValue",{get:function(){return t0.matrix.defaultRowName},enumerable:!1,configurable:!0}),MatrixCells.prototype.getCellLocData=function(e,t){return this.getCellLocDataFromValue(e,t)||this.getCellLocDataFromValue(this.defaultRowValue,t)},MatrixCells.prototype.getCellLocDataFromValue=function(e,t){return this.values[e]&&this.values[e][t]?this.values[e][t]:null},MatrixCells.prototype.getCellText=function(e,t){var o=this.getCellLocCore(e,t);return o?o.calculatedText:null},MatrixCells.prototype.setCellText=function(e,t,o){var n=this.getCellLocCore(e,t);n&&(n.text=o)},MatrixCells.prototype.updateValues=function(e,t,o){o?(this.values[e]||(this.values[e]={}),this.values[e][t]=o,this.valuesChanged()):this.values[e]&&this.values[e][t]&&(delete this.values[e][t],0==Object.keys(this.values[e]).length&&delete this.values[e],this.valuesChanged())},MatrixCells.prototype.getDefaultCellText=function(e){var t=this.getCellLocCore(this.defaultRowValue,e);return t?t.calculatedText:null},MatrixCells.prototype.setDefaultCellText=function(e,t){this.setCellText(this.defaultRowValue,e,t)},MatrixCells.prototype.getCellDisplayText=function(e,t){var o=this.getCellDisplayLocText(e,t);return o?o.calculatedText:null},Object.defineProperty(MatrixCells.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(MatrixCells.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),MatrixCells.prototype.getCellRowColumnValue=function(e,t){if(null==e)return null;if("number"==typeof e){if(e<0||e>=t.length)return null;e=t[e].value}return e.value?e.value:e},MatrixCells.prototype.getJson=function(){if(this.isEmpty)return null;var e=this.values[this.defaultRowValue],t={};for(var o in this.values){var n={},r=this.values[o];for(var i in r)o!==this.defaultRowValue&&e&&e[i]===r[i]||(n[i]=r[i]);t[o]=n}return t},MatrixCells.prototype.setJson=function(e,t){var o=this;if(this.values={},e){for(var n in e)if("pos"!=n){var r=e[n];for(var i in this.values[n]={},r)"pos"!=i&&(this.values[n][i]=r[i])}}this.locNotification=!0,this.runFuncOnLocs(function(e,t,n){return n.setJson(o.getCellLocData(e,t))}),this.locNotification=!1,this.valuesChanged()},MatrixCells.prototype.locStrsChanged=function(){this.runFuncOnLocs(function(e,t,o){return o.strChanged()})},MatrixCells.prototype.runFuncOnLocs=function(e){for(var t in this.locs){var o=this.locs[t];for(var n in o)e(t,n,o[n])}},MatrixCells.prototype.createString=function(){return new tZ(this.cellsOwner,!0)},MatrixCells}(ty),ra=function(e){function QuestionMatrixModel(t){var o=e.call(this,t)||this;return o.isRowChanging=!1,o.emptyLocalizableString=new tZ(o),o.cellsValue=new rs(o),o.cellsValue.onValuesChanged=function(){o.updateHasCellText(),o.propertyValueChanged("cells",o.cells,o.cells)},o.registerPropertyChangedHandlers(["columns"],function(){o.onColumnsChanged()}),o.registerPropertyChangedHandlers(["rows"],function(){o.runCondition(o.getDataFilteredValues(),o.getDataFilteredProperties()),o.onRowsChanged()}),o.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){o.updateVisibilityBasedOnRows()}),o}return rr(QuestionMatrixModel,e),QuestionMatrixModel.prototype.getType=function(){return"matrix"},Object.defineProperty(QuestionMatrixModel.prototype,"cellComponent",{get:function(){return this.getPropertyValue("cellComponent")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixModel.prototype,"itemComponent",{set:function(e){this.setPropertyValue("cellComponent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixModel.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixModel.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired")},set:function(e){this.setPropertyValue("isAllRowRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixModel.prototype,"eachRowUnique",{get:function(){return this.getPropertyValue("eachRowUnique")},set:function(e){this.setPropertyValue("eachRowUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixModel.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixModel.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(e){(e=e.toLowerCase())!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",e),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixModel.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(e){this.setPropertyValue("hideIfRowsEmpty",e)},enumerable:!1,configurable:!0}),QuestionMatrixModel.prototype.getRows=function(){return this.rows},QuestionMatrixModel.prototype.getColumns=function(){return this.visibleColumns},QuestionMatrixModel.prototype.addColumn=function(e,t){var o=new oV(e,t);return this.columns.push(o),o},QuestionMatrixModel.prototype.getItemClass=function(e,t){var o=e.value==t.value,n=this.isReadOnly,r=!o&&!n,i=this.hasCellText,s=this.cssClasses;return new tP().append(s.cell,i).append(i?s.cellText:s.label).append(s.itemOnError,!i&&(this.isAllRowRequired||this.eachRowUnique?e.hasError:this.hasCssError())).append(i?s.cellTextSelected:s.itemChecked,o).append(i?s.cellTextDisabled:s.itemDisabled,this.isDisabledStyle).append(i?s.cellTextReadOnly:s.itemReadOnly,this.isReadOnlyStyle).append(i?s.cellTextPreview:s.itemPreview,this.isPreviewStyle).append(s.itemHover,r&&!i).toString()},Object.defineProperty(QuestionMatrixModel.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),QuestionMatrixModel.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},QuestionMatrixModel.prototype.getQuizQuestionCount=function(){for(var e=0,t=0;t<this.rows.length;t++)!this.isValueEmpty(this.correctAnswer[this.rows[t].value])&&e++;return e},QuestionMatrixModel.prototype.getCorrectAnswerCount=function(){for(var e=0,t=this.value,o=0;o<this.rows.length;o++){var n=this.rows[o].value;!this.isValueEmpty(t[n])&&this.isTwoValueEquals(this.correctAnswer[n],t[n])&&e++}return e},QuestionMatrixModel.prototype.runCondition=function(t,o){oV.runEnabledConditionsForItems(this.rows,void 0,t,o),e.prototype.runCondition.call(this,t,o)},QuestionMatrixModel.prototype.createRowsVisibleIfRunner=function(){return this.rowsVisibleIf?new tc(this.rowsVisibleIf):null},QuestionMatrixModel.prototype.onRowsChanged=function(){this.clearGeneratedRows(),e.prototype.onRowsChanged.call(this)},QuestionMatrixModel.prototype.getVisibleRows=function(){if(this.generatedVisibleRows)return this.generatedVisibleRows;var e=[],t=this.value;t||(t={});for(var o=this.filteredRows||this.rows,n=0;n<o.length;n++){var r=o[n];if(!this.isValueEmpty(r.value)){var i=this.id+"_"+r.value.toString().replace(/\s/g,"_");e.push(this.createMatrixRow(r,i,t[r.value]))}}return this.generatedVisibleRows=e,e},QuestionMatrixModel.prototype.sortVisibleRows=function(e){return this.survey&&this.survey.isDesignMode?e:"random"===this.rowsOrder.toLowerCase()?eQ.randomizeArray(e):e},QuestionMatrixModel.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows),this.onRowsChanged(),this.onColumnsChanged()},QuestionMatrixModel.prototype.isNewValueCorrect=function(e){return eQ.isValueObject(e,!0)},QuestionMatrixModel.prototype.processRowsOnSet=function(e){return this.sortVisibleRows(e)},Object.defineProperty(QuestionMatrixModel.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixModel.prototype,"cells",{get:function(){return this.cellsValue},set:function(e){this.cells.setJson(e&&e.getJson?e.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMatrixModel.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),QuestionMatrixModel.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},QuestionMatrixModel.prototype.setCellText=function(e,t,o){this.cells.setCellText(e,t,o)},QuestionMatrixModel.prototype.getCellText=function(e,t){return this.cells.getCellText(e,t)},QuestionMatrixModel.prototype.setDefaultCellText=function(e,t){this.cells.setDefaultCellText(e,t)},QuestionMatrixModel.prototype.getDefaultCellText=function(e){return this.cells.getDefaultCellText(e)},QuestionMatrixModel.prototype.getCellDisplayText=function(e,t){return this.cells.getCellDisplayText(e,t)},QuestionMatrixModel.prototype.getCellDisplayLocText=function(e,t){return this.cells.getCellDisplayLocText(e,t)||this.emptyLocalizableString},QuestionMatrixModel.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown&&this.hasValuesInAllRows()},QuestionMatrixModel.prototype.onCheckForErrors=function(t,o,n){if(e.prototype.onCheckForErrors.call(this,t,o,n),!o||this.hasCssError()){var r={noValue:!1,isNotUnique:!1};this.checkErrorsAllRows(n,r),r.noValue&&t.push(new or(null,this)),r.isNotUnique&&t.push(new oi(null,this))}},QuestionMatrixModel.prototype.hasValuesInAllRows=function(){var e={noValue:!1,isNotUnique:!1};return this.checkErrorsAllRows(!1,e,!0),!e.noValue},QuestionMatrixModel.prototype.checkErrorsAllRows=function(e,t,o){var n=this,r=this.generatedVisibleRows;if(r||(r=this.visibleRows),r){var i=this.isAllRowRequired||o,s=this.eachRowUnique;if(t.noValue=!1,t.isNotUnique=!1,e&&(this.errorsInRow=void 0),i||s){for(var a={},l=0;l<r.length;l++){var u=r[l].value,c=this.isValueEmpty(u),p=s&&!c&&!0===a[u];c=c&&i,e&&(c||p)&&this.addErrorIntoRow(r[l]),c||(a[u]=!0),t.noValue=t.noValue||c,t.isNotUnique=t.isNotUnique||p}e&&r.forEach(function(e){e.hasError=n.hasErrorInRow(e)})}}},QuestionMatrixModel.prototype.addErrorIntoRow=function(e){this.errorsInRow||(this.errorsInRow={}),this.errorsInRow[e.name]=!0,e.hasError=!0},QuestionMatrixModel.prototype.refreshRowsErrors=function(){this.errorsInRow&&this.checkErrorsAllRows(!0,{noValue:!1,isNotUnique:!1})},QuestionMatrixModel.prototype.getIsAnswered=function(){return e.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},QuestionMatrixModel.prototype.createMatrixRow=function(e,t,o){var n=new ri(e,t,this,o);return this.onMatrixRowCreated(n),n},QuestionMatrixModel.prototype.onMatrixRowCreated=function(e){},QuestionMatrixModel.prototype.setQuestionValue=function(t,o){if(void 0===o&&(o=!0),e.prototype.setQuestionValue.call(this,t,this.isRowChanging||o),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length){this.isRowChanging=!0;var n=this.value;if(n||(n={}),0==this.rows.length)this.generatedVisibleRows[0].setValueDirectly(n);else for(var r=0;r<this.generatedVisibleRows.length;r++){var i=n[this.generatedVisibleRows[r].name];this.isValueEmpty(i)&&(i=null),this.generatedVisibleRows[r].setValueDirectly(i)}this.refreshRowsErrors(),this.updateIsAnswered(),this.isRowChanging=!1}},QuestionMatrixModel.prototype.getDisplayValueCore=function(e,t){var o={};for(var n in t){var r=e?oV.getTextOrHtmlByValue(this.rows,n):n;r||(r=n);var i=oV.getTextOrHtmlByValue(this.columns,t[n]);i||(i=t[n]),o[r]=i}return o},QuestionMatrixModel.prototype.getPlainData=function(t){var o=this;void 0===t&&(t={includeEmpty:!0});var n=e.prototype.getPlainData.call(this,t);if(n){var r=this.createValueCopy();n.isNode=!0,n.data=Object.keys(r||{}).map(function(e){var n=o.rows.filter(function(t){return t.value===e})[0],i={name:e,title:n?n.text:"row",value:r[e],displayValue:oV.getTextOrHtmlByValue(o.visibleColumns,r[e]),getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!1},s=oV.getItemByValue(o.visibleColumns,r[e]);return s&&(t.calculations||[]).forEach(function(e){i[e.propertyName]=s[e.propertyName]}),i})}return n},QuestionMatrixModel.prototype.addConditionObjectsByContext=function(e,t){for(var o=0;o<this.rows.length;o++){var n=this.rows[o];n.value&&e.push({name:this.getValueName()+"."+n.value,text:this.processedTitle+"."+n.calculatedText,question:this})}},QuestionMatrixModel.prototype.getConditionJson=function(t,o){if(void 0===t&&(t=null),void 0===o&&(o=null),!o)return e.prototype.getConditionJson.call(this,t);var n=new rn(o);n.choices=this.columns;var r=new eK().toJsonObject(n);return r.type=n.getType(),r},QuestionMatrixModel.prototype.clearIncorrectValues=function(){this.clearInvisibleValuesInRowsAndColumns(!0,!0,!0),e.prototype.clearIncorrectValues.call(this)},QuestionMatrixModel.prototype.clearValueIfInvisibleCore=function(t){e.prototype.clearValueIfInvisibleCore.call(this,t),this.clearInvisibleValuesInRowsAndColumns(!0,!0,!1)},QuestionMatrixModel.prototype.clearInvisibleColumnValues=function(){this.clearInvisibleValuesInRowsAndColumns(!1,!0,!1)},QuestionMatrixModel.prototype.clearInvisibleValuesInRows=function(){this.clearInvisibleValuesInRowsAndColumns(!0,!1,!1)},QuestionMatrixModel.prototype.clearInvisibleValuesInRowsAndColumns=function(e,t,o){if(!this.isEmpty()){for(var n=this.getUnbindValue(this.value),r={},i=this.rows,s=0;s<i.length;s++){var a=i[s].value;n[a]&&(e&&!i[s].isVisible||t&&!this.getVisibleColumnByValue(n[a])?delete n[a]:r[a]=n[a])}o&&(n=r),this.isTwoValueEquals(n,this.value)||(this.value=n)}},QuestionMatrixModel.prototype.getVisibleColumnByValue=function(e){var t=oV.getItemByValue(this.columns,e);return t&&t.isVisible?t:null},QuestionMatrixModel.prototype.getFirstInputElementId=function(){var t=this.generatedVisibleRows;return(t||(t=this.visibleRows),t.length>0&&this.visibleColumns.length>0)?this.inputId+"_"+t[0].name+"_0":e.prototype.getFirstInputElementId.call(this)},QuestionMatrixModel.prototype.onMatrixRowChanged=function(e){if(!this.isRowChanging){if(this.isRowChanging=!0,this.hasRows){var t=this.value;t||(t={}),t[e.name]=e.value,this.setNewValue(t)}else this.setNewValue(e.value);this.isRowChanging=!1}},QuestionMatrixModel.prototype.getCorrectedRowValue=function(e){for(var t=0;t<this.columns.length;t++)if(e===this.columns[t].value)return e;for(var t=0;t<this.columns.length;t++)if(this.isTwoValueEquals(e,this.columns[t].value))return this.columns[t].value;return e},QuestionMatrixModel.prototype.hasErrorInRow=function(e){return!!this.errorsInRow&&!!this.errorsInRow[e.name]},QuestionMatrixModel.prototype.getSearchableItemValueKeys=function(e){e.push("columns"),e.push("rows")},Object.defineProperty(QuestionMatrixModel.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),QuestionMatrixModel.prototype.getColumnHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName({column:e},"column-header")},QuestionMatrixModel.prototype.getColumnHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData({column:e},"column-header")},QuestionMatrixModel.prototype.getRowHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName({row:e},"row-header")},QuestionMatrixModel.prototype.getRowHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData({row:e},"row-header")},QuestionMatrixModel}(ok);eY.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return getLocaleString("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return getLocaleString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean",{name:"eachRowUnique:boolean",category:"validation"},"hideIfRowsEmpty:boolean",{name:"cellComponent",visible:!1,default:"survey-matrix-cell"}],function(){return new ra("")},"matrixbase"),oJ.Instance.registerQuestion("matrix",function(e){var t=new ra(e);return t.rows=oJ.DefaultRows,t.columns=oJ.DefaultColums,t});var rl=(G=function(e,t){return(G=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_textbase_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},ru=function(e){function CharacterCounter(){return null!==e&&e.apply(this,arguments)||this}return rl(CharacterCounter,e),CharacterCounter.prototype.updateRemainingCharacterCounter=function(e,t){this.remainingCharacterCounter=eQ.getRemainingCharacterCounterText(e,t)},question_textbase_decorate([jsonobject_property()],CharacterCounter.prototype,"remainingCharacterCounter",void 0),CharacterCounter}(ty),rc=function(e){function QuestionTextBase(t){var o=e.call(this,t)||this;return o.characterCounter=new ru,o}return rl(QuestionTextBase,e),QuestionTextBase.prototype.isTextValue=function(){return!0},Object.defineProperty(QuestionTextBase.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e),this.updateRemainingCharacterCounter(this.value)},enumerable:!1,configurable:!0}),QuestionTextBase.prototype.getMaxLength=function(){return eQ.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},QuestionTextBase.prototype.updateRemainingCharacterCounter=function(e){this.characterCounter.updateRemainingCharacterCounter(e,this.getMaxLength())},Object.defineProperty(QuestionTextBase.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextBase.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),QuestionTextBase.prototype.getType=function(){return"textbase"},QuestionTextBase.prototype.isEmpty=function(){return e.prototype.isEmpty.call(this)||""===this.value},Object.defineProperty(QuestionTextBase.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),QuestionTextBase.prototype.getIsInputTextUpdate=function(){return"default"==this.textUpdateMode?e.prototype.getIsInputTextUpdate.call(this):"onTyping"==this.textUpdateMode},Object.defineProperty(QuestionTextBase.prototype,"renderedPlaceholder",{get:function(){return this.getPropertyValue("renderedPlaceholder")},enumerable:!1,configurable:!0}),QuestionTextBase.prototype.setRenderedPlaceholder=function(e){this.setPropertyValue("renderedPlaceholder",e)},QuestionTextBase.prototype.onReadOnlyChanged=function(){e.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceholder()},QuestionTextBase.prototype.onSurveyLoad=function(){this.calcRenderedPlaceholder(),e.prototype.onSurveyLoad.call(this)},QuestionTextBase.prototype.localeChanged=function(){e.prototype.localeChanged.call(this),this.calcRenderedPlaceholder()},QuestionTextBase.prototype.setSurveyImpl=function(t,o){e.prototype.setSurveyImpl.call(this,t,o),this.calcRenderedPlaceholder()},QuestionTextBase.prototype.supportEmptyValidation=function(){return!0},QuestionTextBase.prototype.calcRenderedPlaceholder=function(){var e=this.placeHolder;e&&!this.hasPlaceholder()&&(e=void 0),this.setRenderedPlaceholder(e)},QuestionTextBase.prototype.hasPlaceholder=function(){return!this.isReadOnly},QuestionTextBase.prototype.setNewValue=function(t){e.prototype.setNewValue.call(this,t),this.updateRemainingCharacterCounter(t)},QuestionTextBase.prototype.setQuestionValue=function(t,o){void 0===o&&(o=!0),e.prototype.setQuestionValue.call(this,t,o),this.updateRemainingCharacterCounter(t)},QuestionTextBase.prototype.convertToCorrectValue=function(e){return Array.isArray(e)?e.join(this.getValueSeparator()):e},QuestionTextBase.prototype.getValueSeparator=function(){return", "},QuestionTextBase.prototype.getControlCssClassBuilder=function(){return new tP().append(this.cssClasses.root).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle)},QuestionTextBase.prototype.getControlClass=function(){return this.getControlCssClassBuilder().toString()},Object.defineProperty(QuestionTextBase.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),question_textbase_decorate([jsonobject_property({localizable:!0,onSet:function(e,t){return t.calcRenderedPlaceholder()}})],QuestionTextBase.prototype,"placeholder",void 0),QuestionTextBase}(ox);eY.addClass("textbase",[],function(){return new rc("")},"question");var rp=function(){function InputElementAdapter(e,t,o){var n=this;this.inputMaskInstance=e,this.inputElement=t,this.prevUnmaskedValue=void 0,this.inputMaskInstancePropertyChangedHandler=function(e,t){if("saveMaskedValue"!==t.name){var o=n.inputMaskInstance.getMaskedValue(n.prevUnmaskedValue);n.inputElement.value=o}},this.clickHandler=function(e){n.inputElement.value==n.inputMaskInstance.getMaskedValue("")&&n.inputElement.setSelectionRange(0,0)},this.beforeInputHandler=function(e){var t=n.createArgs(e),o=n.inputMaskInstance.processInput(t);n.inputElement.value=o.value,n.inputElement.setSelectionRange(o.caretPosition,o.caretPosition),o.cancelPreventDefault||e.preventDefault()},this.changeHandler=function(e){var t=n.inputMaskInstance.processInput({prevValue:"",insertedChars:e.target.value,selectionStart:0,selectionEnd:0});n.inputElement.value=t.value};var r=o;null==r&&(r=""),this.inputElement.value=e.getMaskedValue(r),this.prevUnmaskedValue=r,e.onPropertyChanged.add(this.inputMaskInstancePropertyChangedHandler),this.addInputEventListener()}return InputElementAdapter.prototype.createArgs=function(e){var t={insertedChars:e.data,selectionStart:e.target.selectionStart,selectionEnd:e.target.selectionEnd,prevValue:e.target.value,inputDirection:"forward"};return"deleteContentBackward"===e.inputType&&(t.inputDirection="backward",t.selectionStart===t.selectionEnd&&(t.selectionStart=Math.max(t.selectionStart-1,0))),"deleteContentForward"===e.inputType&&t.selectionStart===t.selectionEnd&&(t.selectionEnd+=1),t},InputElementAdapter.prototype.addInputEventListener=function(){this.inputElement&&(this.inputElement.addEventListener("beforeinput",this.beforeInputHandler),this.inputElement.addEventListener("click",this.clickHandler),this.inputElement.addEventListener("focus",this.clickHandler),this.inputElement.addEventListener("change",this.changeHandler))},InputElementAdapter.prototype.removeInputEventListener=function(){this.inputElement&&(this.inputElement.removeEventListener("beforeinput",this.beforeInputHandler),this.inputElement.removeEventListener("click",this.clickHandler),this.inputElement.removeEventListener("focus",this.clickHandler),this.inputElement.removeEventListener("change",this.changeHandler))},InputElementAdapter.prototype.dispose=function(){this.removeInputEventListener(),this.inputElement=void 0,this.inputMaskInstance.onPropertyChanged.remove(this.inputMaskInstancePropertyChangedHandler)},InputElementAdapter}(),rd=/[0-9]/;function getAvailableMaskTypeChoices(){var e=(eY.getChildrenClasses("masksettings")||[]).map(function(e){var t=e.name;return -1!==e.name.indexOf("mask")&&(t=t.slice(0,t.indexOf("mask"))),t});return e.unshift("none"),e}var rh=(Z=function(e,t){return(Z=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}Z(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_text_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},rg=function(e){function QuestionTextModel(t){var o=e.call(this,t)||this;return o._isWaitingForEnter=!1,o.onCompositionUpdate=function(e){o.isInputTextUpdate&&setTimeout(function(){o.updateValueOnEvent(e)},1),o.updateRemainingCharacterCounter(e.target.value)},o.onKeyUp=function(e){o.updateDateValidationMessage(e),o.isInputTextUpdate?o._isWaitingForEnter&&13!==e.keyCode||(o.updateValueOnEvent(e),o._isWaitingForEnter=!1):13===e.keyCode&&o.updateValueOnEvent(e),o.updateRemainingCharacterCounter(e.target.value)},o.onKeyDown=function(e){o.onKeyDownPreprocess&&o.onKeyDownPreprocess(e),o.isInputTextUpdate&&(o._isWaitingForEnter=229===e.keyCode),o.onTextKeyDownHandler(e)},o.onChange=function(e){o.updateDateValidationMessage(e),e.target===t0.environment.root.activeElement?o.isInputTextUpdate&&o.updateValueOnEvent(e):o.updateValueOnEvent(e),o.updateRemainingCharacterCounter(e.target.value)},o.createLocalizableString("minErrorText",o,!0,"minError"),o.createLocalizableString("maxErrorText",o,!0,"maxError"),o.setNewMaskSettingsProperty(),o.locDataListValue=new tK(o),o.locDataListValue.onValueChanged=function(e,t){o.propertyValueChanged("dataList",e,t)},o.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){o.setRenderedMinMax()}),o.registerPropertyChangedHandlers(["inputType","size"],function(){o.updateInputSize(),o.calcRenderedPlaceholder()}),o}return rh(QuestionTextModel,e),QuestionTextModel.prototype.createMaskAdapter=function(){this.input&&!this.maskTypeIsEmpty&&(this.maskInputAdapter=new rp(this.maskInstance,this.input,this.value))},QuestionTextModel.prototype.deleteMaskAdapter=function(){this.maskInputAdapter&&(this.maskInputAdapter.dispose(),this.maskInputAdapter=void 0)},QuestionTextModel.prototype.updateMaskAdapter=function(){this.deleteMaskAdapter(),this.createMaskAdapter()},QuestionTextModel.prototype.onSetMaskType=function(e){this.setNewMaskSettingsProperty(),this.updateMaskAdapter()},Object.defineProperty(QuestionTextModel.prototype,"maskTypeIsEmpty",{get:function(){switch(this.inputType){case"tel":case"text":return"none"===this.maskType;default:return!0}},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"maskSettings",{get:function(){return this.getPropertyValue("maskSettings")},set:function(e){e&&(this.setNewMaskSettingsProperty(),this.maskSettings.fromJSON(e.toJSON()),this.updateMaskAdapter())},enumerable:!1,configurable:!0}),QuestionTextModel.prototype.setNewMaskSettingsProperty=function(){this.setPropertyValue("maskSettings",this.createMaskSettings())},QuestionTextModel.prototype.createMaskSettings=function(){var e=this.maskType&&"none"!==this.maskType?this.maskType+"mask":"masksettings";eY.findClass(e)||(e="masksettings");var t=eY.createClass(e);return t.owner=this.survey,t},QuestionTextModel.prototype.isTextValue=function(){return this.isDateInputType||["text","number","password"].indexOf(this.inputType)>-1},QuestionTextModel.prototype.getType=function(){return"text"},QuestionTextModel.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(QuestionTextModel.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(e){("datetime_local"===(e=e.toLowerCase())||"datetime"===e)&&(e="datetime-local"),this.setPropertyValue("inputType",e.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0),this.updateMaskAdapter()},enumerable:!1,configurable:!0}),QuestionTextModel.prototype.getMaxLength=function(){return this.isTextInput?e.prototype.getMaxLength.call(this):null},QuestionTextModel.prototype.runCondition=function(t,o){e.prototype.runCondition.call(this,t,o),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(t,o)},QuestionTextModel.prototype.isLayoutTypeSupported=function(e){return!0},Object.defineProperty(QuestionTextModel.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(e){this.setPropertyValue("size",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),QuestionTextModel.prototype.updateInputSize=function(){var e=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&e<1&&this.parent&&this.parent.itemSize&&(e=this.parent.itemSize),this.setPropertyValue("inputSize",e),this.setPropertyValue("inputWidth",e>0?"auto":"")},Object.defineProperty(QuestionTextModel.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete",null)},set:function(e){this.setPropertyValue("autocomplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(e){if(this.isValueExpression(e)){this.minValueExpression=e.substring(1);return}this.setPropertyValue("min",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(e){if(this.isValueExpression(e)){this.maxValueExpression=e.substring(1);return}this.setPropertyValue("max",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(e){this.setPropertyValue("minValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(e){this.setPropertyValue("maxValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(e){this.setLocalizableStringText("minErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(e){this.setLocalizableStringText("maxErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"isMinMaxType",{get:function(){return isMinMaxType(this)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"maskInstance",{get:function(){return this.maskSettings},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"inputValue",{get:function(){return this._inputValue||this.maskTypeIsEmpty?this._inputValue:this.maskInstance.getMaskedValue("")},set:function(e){var t=e;this._inputValue=e,!this.maskTypeIsEmpty&&(t=this.maskInstance.getUnmaskedValue(e),this._inputValue=this.maskInstance.getMaskedValue(t),t&&this.maskSettings.saveMaskedValue&&(t=this.maskInstance.getMaskedValue(t))),this.value=t},enumerable:!1,configurable:!0}),QuestionTextModel.prototype.onChangeQuestionValue=function(t){e.prototype.onChangeQuestionValue.call(this,t),this.updateInputValue()},QuestionTextModel.prototype.updateInputValue=function(){this.maskTypeIsEmpty?this._inputValue=this.value:this.maskSettings.saveMaskedValue?this._inputValue=this.value?this.value:this.maskInstance.getMaskedValue(""):this._inputValue=this.maskInstance.getMaskedValue(this.value)},QuestionTextModel.prototype.hasToConvertToUTC=function(e){return t0.storeUtcDates&&this.isDateTimeLocaleType()&&!!e},QuestionTextModel.prototype.valueForSurveyCore=function(t){return this.hasToConvertToUTC(t)&&(t=new Date(t).toISOString()),e.prototype.valueForSurveyCore.call(this,t)},QuestionTextModel.prototype.valueFromDataCore=function(t){if(this.hasToConvertToUTC(t)){var o=new Date(t),n=new Date(o.getTime()-6e4*o.getTimezoneOffset()).toISOString();t=n.substring(0,n.length-2)}return e.prototype.valueFromDataCore.call(this,t)},QuestionTextModel.prototype.onCheckForErrors=function(t,o,n){var r=this;if(e.prototype.onCheckForErrors.call(this,t,o,n),!o){if(this.isValueLessMin){var i=new ol(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);i.onUpdateErrorTextCallback=function(e){e.text=r.getMinMaxErrorText(r.minErrorText,r.getCalculatedMinMax(r.renderedMin))},t.push(i)}if(this.isValueGreaterMax){var s=new ol(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);s.onUpdateErrorTextCallback=function(e){e.text=r.getMinMaxErrorText(r.maxErrorText,r.getCalculatedMinMax(r.renderedMax))},t.push(s)}this.dateValidationMessage&&t.push(new ol(this.dateValidationMessage,this));var a=this.getValidatorTitle(),l=new oy;if(l.errorOwner=this,"email"===this.inputType&&!this.validators.some(function(e){return"emailvalidator"===e.getType()})){var u=l.validate(this.value,a);u&&u.error&&t.push(u.error)}}},QuestionTextModel.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var e=!this.isValueLessMin&&!this.isValueGreaterMax;return(!e||this.errors.length>0)&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),e},QuestionTextModel.prototype.convertFuncValuetoQuestionValue=function(e){var t=this.maskTypeIsEmpty?this.inputType:this.maskSettings.getTypeForExpressions();return eQ.convertValToQuestionVal(e,t)},QuestionTextModel.prototype.getMinMaxErrorText=function(e,t){if(eQ.isValueEmpty(t))return e;var o=t.toString();return"date"===this.inputType&&t.toDateString&&(o=t.toDateString()),e.replace("{0}",o)},Object.defineProperty(QuestionTextModel.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"isDateInputType",{get:function(){return"date"===this.inputType||this.isDateTimeLocaleType()},enumerable:!1,configurable:!0}),QuestionTextModel.prototype.isDateTimeLocaleType=function(){return"datetime-local"===this.inputType},QuestionTextModel.prototype.getCalculatedMinMax=function(e){return this.isValueEmpty(e)?e:this.isDateInputType?new Date(e):e},QuestionTextModel.prototype.setRenderedMinMax=function(e,t){var o=this;void 0===e&&(e=null),void 0===t&&(t=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(e){!e&&o.isDateInputType&&t0.minDate&&(e=t0.minDate),o.setPropertyValue("renderedMin",e)},e,t),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(e){!e&&o.isDateInputType&&(e=t0.maxDate?t0.maxDate:"2999-12-31"),o.setPropertyValue("renderedMax",e)},e,t)},Object.defineProperty(QuestionTextModel.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(e){this.setPropertyValue("step",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?"number"!==this.inputType?void 0:"any":this.step},enumerable:!1,configurable:!0}),QuestionTextModel.prototype.getIsInputTextUpdate=function(){return!!this.maskTypeIsEmpty&&e.prototype.getIsInputTextUpdate.call(this)},QuestionTextModel.prototype.supportGoNextPageAutomatic=function(){return!this.getIsInputTextUpdate()&&!this.isDateInputType},QuestionTextModel.prototype.supportGoNextPageError=function(){return!this.isDateInputType},Object.defineProperty(QuestionTextModel.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(e){this.locDataList.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTextModel.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),QuestionTextModel.prototype.setNewValue=function(t){(t=this.correctValueType(t))&&(this.dateValidationMessage=void 0),e.prototype.setNewValue.call(this,t)},QuestionTextModel.prototype.correctValueType=function(e){if(!e)return e;if("number"===this.inputType||"range"===this.inputType)return eQ.isNumber(e)?eQ.getNumber(e):"";if("month"===this.inputType){var t=new Date(e),o=0==t.toISOString().indexOf(e)&&-1==e.indexOf("T"),n=o?t.getUTCMonth():t.getMonth(),r=o?t.getUTCFullYear():t.getFullYear(),i=n+1;return r+"-"+(i<10?"0":"")+i}return e},QuestionTextModel.prototype.hasPlaceholder=function(){return!this.isReadOnly&&"range"!==this.inputType},QuestionTextModel.prototype.getControlCssClassBuilder=function(){var t=this.getMaxLength();return e.prototype.getControlCssClassBuilder.call(this).append(this.cssClasses.constrolWithCharacterCounter,!!t).append(this.cssClasses.characterCounterBig,t>99)},QuestionTextModel.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===t0.readOnly.textRenderMode},Object.defineProperty(QuestionTextModel.prototype,"inputStyle",{get:function(){var e={};return e.width=this.inputWidth,this.updateTextAlign(e),e},enumerable:!1,configurable:!0}),QuestionTextModel.prototype.updateTextAlign=function(e){"auto"!==this.inputTextAlignment?e.textAlign=this.inputTextAlignment:this.maskTypeIsEmpty||"auto"===this.maskSettings.getTextAlignment()||(e.textAlign=this.maskSettings.getTextAlignment())},QuestionTextModel.prototype.updateValueOnEvent=function(e){var t=e.target.value;this.isTwoValueEquals(this.value,t)||(this.inputValue=t)},QuestionTextModel.prototype.updateDateValidationMessage=function(e){this.dateValidationMessage=this.isDateInputType&&e.target?e.target.validationMessage:void 0},QuestionTextModel.prototype.onBlurCore=function(t){this.updateDateValidationMessage(t),this.updateValueOnEvent(t),this.updateRemainingCharacterCounter(t.target.value),e.prototype.onBlurCore.call(this,t)},QuestionTextModel.prototype.onFocusCore=function(t){this.updateRemainingCharacterCounter(t.target.value),e.prototype.onFocusCore.call(this,t)},QuestionTextModel.prototype.afterRenderQuestionElement=function(t){t&&(this.input=t instanceof HTMLInputElement?t:t.querySelector("input"),this.createMaskAdapter()),e.prototype.afterRenderQuestionElement.call(this,t)},QuestionTextModel.prototype.beforeDestroyQuestionElement=function(e){this.deleteMaskAdapter(),this.input=void 0},question_text_decorate([jsonobject_property({onSet:function(e,t){t.onSetMaskType(e)}})],QuestionTextModel.prototype,"maskType",void 0),question_text_decorate([jsonobject_property()],QuestionTextModel.prototype,"inputTextAlignment",void 0),question_text_decorate([jsonobject_property()],QuestionTextModel.prototype,"_inputValue",void 0),QuestionTextModel}(rc),rf=["number","range","date","datetime-local","month","time","week"];function isMinMaxType(e){var t=e?e.inputType:"";return!!t&&rf.indexOf(t)>-1}function getWeekTimeNumber(e,t){var o=e.split(t);return 2===o.length&&eQ.isNumber(o[0])&&eQ.isNumber(o[1])?60*parseFloat(o[0])+parseFloat(o[1]):-1}function getCorrectMinMax(e,t,o,n){var r=n?o:t;if(!isMinMaxType(e)||eQ.isValueEmpty(t)||eQ.isValueEmpty(o))return r;if(0===e.inputType.indexOf("date")||"month"===e.inputType){var i="month"===e.inputType,s=new Date(i?t+"-01":t),a=new Date(i?o+"-01":o);if(!s||!a)return r;if(s>a)return n?t:o}if("week"===e.inputType||"time"===e.inputType){var l,u,c="week"===e.inputType?"-W":":";return(l=getWeekTimeNumber(t,c),u=getWeekTimeNumber(o,c),l<0||u<0||!(l>u))?r:n?t:o}if("number"===e.inputType){if(!eQ.isNumber(t)||!eQ.isNumber(o))return r;if(eQ.getNumber(t)>eQ.getNumber(o))return n?t:o}return"string"==typeof t||"string"==typeof o?r:t>o?n?t:o:r}function propertyEditorMinMaxUpdate(e,t){e&&e.inputType&&(t.inputType="range"!==e.inputType?e.inputType:"number",t.textUpdateMode="onBlur")}eY.addClass("text",[{name:"inputType",default:"text",choices:t0.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isTextInput}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isTextInput}},{name:"autocomplete",alternativeName:"autoComplete",choices:t0.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(e){return isMinMaxType(e)},onPropertyEditorUpdate:function(e,t){propertyEditorMinMaxUpdate(e,t)},onSettingValue:function(e,t){return getCorrectMinMax(e,t,e.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(e){return isMinMaxType(e)},onSettingValue:function(e,t){return getCorrectMinMax(e,e.min,t,!0)},onPropertyEditorUpdate:function(e,t){propertyEditorMinMaxUpdate(e,t)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(e){return isMinMaxType(e)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(e){return isMinMaxType(e)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(e){return isMinMaxType(e)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(e){return isMinMaxType(e)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:function(e){return"text"===e.inputType||"tel"===e.inputType},choices:function(e){return getAvailableMaskTypeChoices()}},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:["inputType","maskType"],visibleIf:function(e){return"text"===e.inputType||"tel"===e.inputType},onGetValue:function(e){return e.maskSettings.getData()},onSetValue:function(e,t){e.maskSettings.setData(t)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(e){return!!e&&("number"===e.inputType||"range"===e.inputType)}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isTextInput}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isTextInput}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(e){return!!e&&"text"===e.inputType}}],function(){return new rg("")},"textbase"),oJ.Instance.registerQuestion("text",function(e){return new rg(e)});var ry=(K=function(e,t){return(K=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_multipletext_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},rm=function(e){function MultipleTextEditorModel(){return null!==e&&e.apply(this,arguments)||this}return ry(MultipleTextEditorModel,e),Object.defineProperty(MultipleTextEditorModel.prototype,"a11y_input_ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextEditorModel.prototype,"a11y_input_ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextEditorModel.prototype,"a11y_input_ariaDescribedBy",{get:function(){return null},enumerable:!1,configurable:!0}),MultipleTextEditorModel}(rg),rv=function(e){function MultipleTextItemModel(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.call(this)||this;return n.focusIn=function(){n.editor.focusIn()},n.editorValue=n.createEditor(t),n.maskSettings=n.editorValue.maskSettings,n.editor.questionTitleTemplateCallback=function(){return""},n.editor.titleLocation="left",o&&(n.title=o),n}return ry(MultipleTextItemModel,e),MultipleTextItemModel.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(MultipleTextItemModel.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),MultipleTextItemModel.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(MultipleTextItemModel.prototype,"name",{get:function(){return this.editor.name},set:function(e){this.editor.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),MultipleTextItemModel.prototype.createEditor=function(e){return new rm(e)},MultipleTextItemModel.prototype.addUsedLocales=function(t){e.prototype.addUsedLocales.call(this,t),this.editor.addUsedLocales(t)},MultipleTextItemModel.prototype.localeChanged=function(){e.prototype.localeChanged.call(this),this.editor.localeChanged()},MultipleTextItemModel.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},MultipleTextItemModel.prototype.setData=function(e){this.data=e,e&&(this.editor.defaultValue=e.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=e,this.editor.setParentQuestion(e))},Object.defineProperty(MultipleTextItemModel.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(e){this.editor.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(e){this.editor.inputType=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"title",{get:function(){return this.editor.title},set:function(e){this.editor.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(e){this.editor.maxLength=e},enumerable:!1,configurable:!0}),MultipleTextItemModel.prototype.getMaxLength=function(){var e=this.getSurvey();return eQ.getMaxLength(this.maxLength,e?e.maxTextLength:-1)},Object.defineProperty(MultipleTextItemModel.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(e){this.editor.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(e){this.editor.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"size",{get:function(){return this.editor.size},set:function(e){this.editor.size=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"defaultValueExpression",{get:function(){return this.editor.defaultValueExpression},set:function(e){this.editor.defaultValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"minValueExpression",{get:function(){return this.editor.minValueExpression},set:function(e){this.editor.minValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"maxValueExpression",{get:function(){return this.editor.maxValueExpression},set:function(e){this.editor.maxValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"validators",{get:function(){return this.editor.validators},set:function(e){this.editor.validators=e},enumerable:!1,configurable:!0}),MultipleTextItemModel.prototype.getValidators=function(){return this.validators},Object.defineProperty(MultipleTextItemModel.prototype,"maskType",{get:function(){return this.editor.maskType},set:function(e){this.editor.maskType=e,this.maskSettings=this.editor.maskSettings},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"maskSettings",{get:function(){return this.getPropertyValue("maskSettings")},set:function(e){this.setPropertyValue("maskSettings",e),this.editor.maskSettings!==e&&(this.editor.maskSettings=e)},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"inputTextAlignment",{get:function(){return this.editor.inputTextAlignment},set:function(e){this.editor.inputTextAlignment=e},enumerable:!1,configurable:!0}),Object.defineProperty(MultipleTextItemModel.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(e){null!=this.data&&this.data.setMultipleTextValue(this.name,e)},enumerable:!1,configurable:!0}),MultipleTextItemModel.prototype.isEmpty=function(){return this.editor.isEmpty()},MultipleTextItemModel.prototype.onValueChanged=function(e){this.valueChangedCallback&&this.valueChangedCallback(e)},MultipleTextItemModel.prototype.getSurveyData=function(){return this},MultipleTextItemModel.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},MultipleTextItemModel.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},MultipleTextItemModel.prototype.getValue=function(e){return this.data?this.data.getMultipleTextValue(e):null},MultipleTextItemModel.prototype.setValue=function(e,t){this.data&&this.data.setMultipleTextValue(e,t)},MultipleTextItemModel.prototype.getVariable=function(e){},MultipleTextItemModel.prototype.setVariable=function(e,t){},MultipleTextItemModel.prototype.getComment=function(e){return null},MultipleTextItemModel.prototype.setComment=function(e,t){},MultipleTextItemModel.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},MultipleTextItemModel.prototype.getFilteredValues=function(){return this.getAllValues()},MultipleTextItemModel.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},MultipleTextItemModel.prototype.findQuestionByName=function(e){var t=this.getSurvey();return t?t.getQuestionByName(e):null},MultipleTextItemModel.prototype.getEditingSurveyElement=function(){},MultipleTextItemModel.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(MultipleTextItemModel.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),MultipleTextItemModel.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},MultipleTextItemModel.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},MultipleTextItemModel}(ty),rb=function(e){function QuestionMultipleTextModel(t){var o=e.call(this,t)||this;return o.isMultipleItemValueChanging=!1,o.createNewArray("items",function(e){e.setData(o),o.survey&&o.survey.multipleTextItemAdded(o,e)}),o.registerPropertyChangedHandlers(["items","colCount","itemErrorLocation"],function(){o.calcVisibleRows()}),o.registerPropertyChangedHandlers(["itemSize"],function(){o.updateItemsSize()}),o}return ry(QuestionMultipleTextModel,e),QuestionMultipleTextModel.addDefaultItems=function(e){for(var t=oJ.DefaultMutlipleTextItems,o=0;o<t.length;o++)e.addItem(t[o])},QuestionMultipleTextModel.prototype.getType=function(){return"multipletext"},QuestionMultipleTextModel.prototype.setSurveyImpl=function(t,o){e.prototype.setSurveyImpl.call(this,t,o);for(var n=0;n<this.items.length;n++)this.items[n].setData(this)},Object.defineProperty(QuestionMultipleTextModel.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMultipleTextModel.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMultipleTextModel.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMultipleTextModel.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){var t;null===(t=this.items)||void 0===t||t.map(function(t,o){return t.editor.id=e+"_"+o}),this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),QuestionMultipleTextModel.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),e.prototype.onSurveyLoad.call(this)},QuestionMultipleTextModel.prototype.setQuestionValue=function(t,o){void 0===o&&(o=!0),e.prototype.setQuestionValue.call(this,t,o),this.performForEveryEditor(function(e){e.editor.updateValueFromSurvey(e.value)}),this.updateIsAnswered()},QuestionMultipleTextModel.prototype.onSurveyValueChanged=function(t){e.prototype.onSurveyValueChanged.call(this,t),this.performForEveryEditor(function(e){e.editor.onSurveyValueChanged(e.value)})},QuestionMultipleTextModel.prototype.updateItemsSize=function(){this.performForEveryEditor(function(e){e.editor.updateInputSize()})},QuestionMultipleTextModel.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(e){e.editor.onSurveyLoad()})},QuestionMultipleTextModel.prototype.performForEveryEditor=function(e){for(var t=0;t<this.items.length;t++){var o=this.items[t];o.editor&&e(o)}},Object.defineProperty(QuestionMultipleTextModel.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(e){this.setPropertyValue("items",e)},enumerable:!1,configurable:!0}),QuestionMultipleTextModel.prototype.addItem=function(e,t){void 0===t&&(t=null);var o=this.createTextItem(e,t);return this.items.push(o),o},QuestionMultipleTextModel.prototype.getItemByName=function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].name==e)return this.items[t];return null},QuestionMultipleTextModel.prototype.getElementsInDesign=function(t){return void 0===t&&(t=!1),e.prototype.getElementsInDesign.call(this,t).concat(this.items)},QuestionMultipleTextModel.prototype.addConditionObjectsByContext=function(e,t){for(var o=0;o<this.items.length;o++){var n=this.items[o];e.push({name:this.getValueName()+"."+n.name,text:this.processedTitle+"."+n.fullTitle,question:this})}},QuestionMultipleTextModel.prototype.collectNestedQuestionsCore=function(e,t){this.items.forEach(function(o){return o.editor.collectNestedQuestions(e,t)})},QuestionMultipleTextModel.prototype.getConditionJson=function(t,o){if(void 0===t&&(t=null),void 0===o&&(o=null),!o)return e.prototype.getConditionJson.call(this,t);var n=this.getItemByName(o);if(!n)return null;var r=new eK().toJsonObject(n);return r.type="text",r},QuestionMultipleTextModel.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this);for(var t=0;t<this.items.length;t++)this.items[t].locStrsChanged()},QuestionMultipleTextModel.prototype.localeChanged=function(){e.prototype.localeChanged.call(this);for(var t=0;t<this.items.length;t++)this.items[t].localeChanged()},Object.defineProperty(QuestionMultipleTextModel.prototype,"itemErrorLocation",{get:function(){return this.getPropertyValue("itemErrorLocation")},set:function(e){this.setPropertyValue("itemErrorLocation",e)},enumerable:!1,configurable:!0}),QuestionMultipleTextModel.prototype.getQuestionErrorLocation=function(){return"default"!==this.itemErrorLocation?this.itemErrorLocation:this.getErrorLocation()},Object.defineProperty(QuestionMultipleTextModel.prototype,"showItemErrorOnTop",{get:function(){return"top"==this.getQuestionErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMultipleTextModel.prototype,"showItemErrorOnBottom",{get:function(){return"bottom"==this.getQuestionErrorLocation()},enumerable:!1,configurable:!0}),QuestionMultipleTextModel.prototype.getChildErrorLocation=function(e){return this.getQuestionErrorLocation()},QuestionMultipleTextModel.prototype.isNewValueCorrect=function(e){return eQ.isValueObject(e,!0)},QuestionMultipleTextModel.prototype.supportGoNextPageAutomatic=function(){for(var e=0;e<this.items.length;e++)if(this.items[e].isEmpty())return!1;return!0},Object.defineProperty(QuestionMultipleTextModel.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<1||e>5||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMultipleTextModel.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(e){this.setPropertyValue("itemSize",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionMultipleTextModel.prototype,"itemTitleWidth",{get:function(){return this.getPropertyValue("itemTitleWidth")||""},set:function(e){this.setPropertyValue("itemTitleWidth",e)},enumerable:!1,configurable:!0}),QuestionMultipleTextModel.prototype.onRowCreated=function(e){return e},QuestionMultipleTextModel.prototype.calcVisibleRows=function(){for(var e,t,o=this.colCount,n=this.items,r=0,i=[],s=0;s<n.length;s++)0==r&&(e=this.onRowCreated(new rC),t=this.onRowCreated(new rw),this.showItemErrorOnTop?(i.push(t),i.push(e)):(i.push(e),i.push(t))),e.cells.push(new rP(n[s],this)),t.cells.push(new rx(n[s],this)),(++r>=o||s==n.length-1)&&(r=0,t.onAfterCreated());this.rows=i},QuestionMultipleTextModel.prototype.getRows=function(){return eQ.isValueEmpty(this.rows)&&this.calcVisibleRows(),this.rows},QuestionMultipleTextModel.prototype.onValueChanged=function(){e.prototype.onValueChanged.call(this),this.onItemValueChanged()},QuestionMultipleTextModel.prototype.createTextItem=function(e,t){return new rv(e,t)},QuestionMultipleTextModel.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var e=0;e<this.items.length;e++){var t=null;this.value&&this.items[e].name in this.value&&(t=this.value[this.items[e].name]),this.items[e].onValueChanged(t)}},QuestionMultipleTextModel.prototype.runCondition=function(t,o){e.prototype.runCondition.call(this,t,o),this.items.forEach(function(e){return e.editor.runCondition(t,o)})},QuestionMultipleTextModel.prototype.getIsRunningValidators=function(){if(e.prototype.getIsRunningValidators.call(this))return!0;for(var t=0;t<this.items.length;t++)if(this.items[t].editor.isRunningValidators)return!0;return!1},QuestionMultipleTextModel.prototype.hasErrors=function(t,o){var n=this;void 0===t&&(t=!0),void 0===o&&(o=null);for(var r=!1,i=0;i<this.items.length;i++)this.items[i].editor.onCompletedAsyncValidators=function(e){n.raiseOnCompletedAsyncValidators()},o&&!0===o.isOnValueChanged&&this.items[i].editor.isEmpty()||(r=this.items[i].editor.hasErrors(t,o)||r);return e.prototype.hasErrors.call(this,t)||r},QuestionMultipleTextModel.prototype.getAllErrors=function(){for(var t=e.prototype.getAllErrors.call(this),o=0;o<this.items.length;o++){var n=this.items[o].editor.getAllErrors();n&&n.length>0&&(t=t.concat(n))}return t},QuestionMultipleTextModel.prototype.clearErrors=function(){e.prototype.clearErrors.call(this);for(var t=0;t<this.items.length;t++)this.items[t].editor.clearErrors()},QuestionMultipleTextModel.prototype.getContainsErrors=function(){var t=e.prototype.getContainsErrors.call(this);if(t)return t;for(var o=this.items,n=0;n<o.length;n++)if(o[n].editor.containsErrors)return!0;return!1},QuestionMultipleTextModel.prototype.getIsAnswered=function(){if(!e.prototype.getIsAnswered.call(this))return!1;for(var t=0;t<this.items.length;t++){var o=this.items[t].editor;if(o.isVisible&&!o.isAnswered)return!1}return!0},QuestionMultipleTextModel.prototype.getProgressInfo=function(){for(var e=[],t=0;t<this.items.length;t++)e.push(this.items[t].editor);return t$.getProgressInfoByElements(e,this.isRequired)},QuestionMultipleTextModel.prototype.getDisplayValueCore=function(e,t){if(!t)return t;for(var o={},n=0;n<this.items.length;n++){var r=this.items[n],i=t[r.name];if(!eQ.isValueEmpty(i)){var s=r.name;e&&r.title&&(s=r.title),o[s]=r.editor.getDisplayValue(e,i)}}return o},QuestionMultipleTextModel.prototype.allowMobileInDesignMode=function(){return!0},QuestionMultipleTextModel.prototype.getMultipleTextValue=function(e){return this.value?this.value[e]:null},QuestionMultipleTextModel.prototype.setMultipleTextValue=function(e,t){this.isMultipleItemValueChanging=!0,this.isValueEmpty(t)&&(t=void 0);var o=this.value;o||(o={}),o[e]=t,this.setNewValue(o),this.isMultipleItemValueChanging=!1},QuestionMultipleTextModel.prototype.getItemDefaultValue=function(e){return this.defaultValue?this.defaultValue[e]:null},QuestionMultipleTextModel.prototype.getTextProcessor=function(){return this.textProcessor},QuestionMultipleTextModel.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},QuestionMultipleTextModel.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},QuestionMultipleTextModel.prototype.addElement=function(e,t){},QuestionMultipleTextModel.prototype.removeElement=function(e){return!1},QuestionMultipleTextModel.prototype.getQuestionTitleLocation=function(){return"left"},QuestionMultipleTextModel.prototype.getQuestionTitleWidth=function(){},QuestionMultipleTextModel.prototype.getColumsForElement=function(e){return[]},QuestionMultipleTextModel.prototype.updateColumns=function(){},QuestionMultipleTextModel.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},QuestionMultipleTextModel.prototype.getChildrenLayoutType=function(){return"row"},QuestionMultipleTextModel.prototype.elementWidthChanged=function(e){},Object.defineProperty(QuestionMultipleTextModel.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),QuestionMultipleTextModel.prototype.indexOf=function(e){return -1},QuestionMultipleTextModel.prototype.ensureRowsVisibility=function(){},QuestionMultipleTextModel.prototype.validateContainerOnly=function(){},QuestionMultipleTextModel.prototype.onQuestionValueChanged=function(e){},QuestionMultipleTextModel.prototype.getItemLabelCss=function(e){return new tP().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelDisabled,this.isDisabledStyle).append(this.cssClasses.itemLabelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.itemLabelPreview,this.isPreviewStyle).append(this.cssClasses.itemLabelAnswered,e.editor.isAnswered).append(this.cssClasses.itemLabelAllowFocus,!this.isDesignMode).append(this.cssClasses.itemLabelOnError,e.editor.errors.length>0).append(this.cssClasses.itemWithCharacterCounter,!!e.getMaxLength()).toString()},QuestionMultipleTextModel.prototype.getItemCss=function(){return new tP().append(this.cssClasses.item).toString()},QuestionMultipleTextModel.prototype.getItemTitleCss=function(){return new tP().append(this.cssClasses.itemTitle).toString()},question_multipletext_decorate([propertyArray()],QuestionMultipleTextModel.prototype,"rows",void 0),QuestionMultipleTextModel}(ox),rC=function(e){function MutlipleTextRow(){var t=null!==e&&e.apply(this,arguments)||this;return t.isVisible=!0,t.cells=[],t}return ry(MutlipleTextRow,e),question_multipletext_decorate([jsonobject_property()],MutlipleTextRow.prototype,"isVisible",void 0),question_multipletext_decorate([propertyArray()],MutlipleTextRow.prototype,"cells",void 0),MutlipleTextRow}(ty),rw=function(e){function MutlipleTextErrorRow(){return null!==e&&e.apply(this,arguments)||this}return ry(MutlipleTextErrorRow,e),MutlipleTextErrorRow.prototype.onAfterCreated=function(){var e=this,callback=function(){e.isVisible=e.cells.some(function(e){var t,o;return(null===(t=e.item)||void 0===t?void 0:t.editor)&&(null===(o=e.item)||void 0===o?void 0:o.editor.hasVisibleErrors)})};this.cells.forEach(function(e){var t,o;(null===(t=e.item)||void 0===t?void 0:t.editor)&&(null===(o=e.item)||void 0===o||o.editor.registerFunctionOnPropertyValueChanged("hasVisibleErrors",callback))}),callback()},MutlipleTextErrorRow}(rC),rP=function(){function MultipleTextCell(e,t){this.item=e,this.question=t,this.isErrorsCell=!1}return MultipleTextCell.prototype.getClassName=function(){return new tP().append(this.question.cssClasses.cell).toString()},Object.defineProperty(MultipleTextCell.prototype,"className",{get:function(){return this.getClassName()},enumerable:!1,configurable:!0}),MultipleTextCell}(),rx=function(e){function MultipleTextErrorCell(){var t=null!==e&&e.apply(this,arguments)||this;return t.isErrorsCell=!0,t}return ry(MultipleTextErrorCell,e),MultipleTextErrorCell.prototype.getClassName=function(){return new tP().append(e.prototype.getClassName.call(this)).append(this.question.cssClasses.cellError).append(this.question.cssClasses.cellErrorTop,this.question.showItemErrorOnTop).append(this.question.cssClasses.cellErrorBottom,this.question.showItemErrorOnBottom).toString()},MultipleTextErrorCell}(rP);eY.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:t0.questions.inputTypes},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:function(e){return"text"===e.inputType},choices:function(e){return getAvailableMaskTypeChoices()}},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:"inputType",visibleIf:function(e){return"text"===e.inputType},onGetValue:function(e){return e.maskSettings.getData()},onSetValue:function(e,t){e.maskSettings.setData(t)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"defaultValueExpression:expression",visible:!1},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(e){return isMinMaxType(e)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(e){return isMinMaxType(e)}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new rv("")}),eY.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem",isArray:!0},{name:"itemSize:number",minValue:0,visible:!1},{name:"colCount:number",default:1,choices:[1,2,3,4,5]},{name:"itemErrorLocation",default:"default",choices:["default","top","bottom"],visible:!1},{name:"itemTitleWidth",category:"layout"}],function(){return new rb("")},"question"),oJ.Instance.registerQuestion("multipletext",function(e){var t=new rb(e);return rb.addDefaultItems(t),t});var rM=(Y=function(e,t){return(Y=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}Y(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),rV=function(e){function FlowPanelModel(t){void 0===t&&(t="");var o=e.call(this,t)||this;return o.createLocalizableString("content",o,!0),o.registerPropertyChangedHandlers(["content"],function(){o.onContentChanged()}),o}return rM(FlowPanelModel,e),FlowPanelModel.prototype.getType=function(){return"flowpanel"},FlowPanelModel.prototype.getChildrenLayoutType=function(){return"flow"},FlowPanelModel.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(FlowPanelModel.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(e){this.setLocalizableStringText("content",e)},enumerable:!1,configurable:!0}),Object.defineProperty(FlowPanelModel.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(FlowPanelModel.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(e){this.setPropertyValue("html",e)},enumerable:!1,configurable:!0}),FlowPanelModel.prototype.onContentChanged=function(){var e="";e=this.onCustomHtmlProducing?this.onCustomHtmlProducing():this.produceHtml(),this.html=e,this.contentChangedCallback&&this.contentChangedCallback()},FlowPanelModel.prototype.produceHtml=function(){for(var e=[],t=/{(.*?(element:)[^$].*?)}/g,o=this.content,n=0,r=null;null!==(r=t.exec(o));){r.index>n&&(e.push(o.substring(n,r.index)),n=r.index);var i=this.getQuestionFromText(r[0]);i?e.push(this.getHtmlForQuestion(i)):e.push(o.substring(n,r.index+r[0].length)),n=r.index+r[0].length}return n<o.length&&e.push(o.substring(n,o.length)),e.join("").replace(RegExp("<br>","g"),"<br/>")},FlowPanelModel.prototype.getQuestionFromText=function(e){return e=(e=e.substring(1,e.length-1)).replace(FlowPanelModel.contentElementNamePrefix,"").trim(),this.getQuestionByName(e)},FlowPanelModel.prototype.getHtmlForQuestion=function(e){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(e):""},FlowPanelModel.prototype.getQuestionHtmlId=function(e){return this.name+"_"+e.id},FlowPanelModel.prototype.onAddElement=function(t,o){e.prototype.onAddElement.call(this,t,o),this.addElementToContent(t),t.renderWidth=""},FlowPanelModel.prototype.onRemoveElement=function(t){var o=this.getElementContentText(t);this.content=this.content.replace(o,""),e.prototype.onRemoveElement.call(this,t)},FlowPanelModel.prototype.dragDropMoveElement=function(e,t,o){},FlowPanelModel.prototype.addElementToContent=function(e){if(!this.isLoadingFromJson){var t=this.getElementContentText(e);this.insertTextAtCursor(t)||(this.content=this.content+t)}},FlowPanelModel.prototype.insertTextAtCursor=function(e,t){if(void 0===t&&(t=null),!this.isDesignMode||!eE.isAvailable())return!1;var o=eE.getSelection();if(o.getRangeAt&&o.rangeCount){var n=o.getRangeAt(0);n.deleteContents();var r=new Text(e);if(n.insertNode(r),this.getContent){var i=this.getContent(t);this.content=i}return!0}return!1},FlowPanelModel.prototype.getElementContentText=function(e){return"{"+FlowPanelModel.contentElementNamePrefix+e.name+"}"},FlowPanelModel.contentElementNamePrefix="element:",FlowPanelModel}(nN);eY.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new rV},"panel");var rS=function(){function DefaultTitleModel(){}return DefaultTitleModel.getIconCss=function(e,t){return new tP().append(e.icon).append(e.iconExpanded,!t).toString()},DefaultTitleModel}(),r_=(X=function(e,t){return(X=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}X(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),rT=function(e){function QuestionNonValue(t){return e.call(this,t)||this}return r_(QuestionNonValue,e),QuestionNonValue.prototype.getType=function(){return"nonvalue"},Object.defineProperty(QuestionNonValue.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionNonValue.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),QuestionNonValue.prototype.getTitleLocation=function(){return""},Object.defineProperty(QuestionNonValue.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),QuestionNonValue.prototype.hasErrors=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=null),!1},QuestionNonValue.prototype.getAllErrors=function(){return[]},QuestionNonValue.prototype.supportGoNextPageAutomatic=function(){return!1},QuestionNonValue.prototype.addConditionObjectsByContext=function(e,t){},QuestionNonValue.prototype.getConditionJson=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),null},Object.defineProperty(QuestionNonValue.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionNonValue.prototype,"ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),QuestionNonValue}(ox);eY.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new rT("")},"question");var rR=(ee=function(e,t){return(ee=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ee(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),rO=function(e){function QuestionEmptyModel(t){return e.call(this,t)||this}return rR(QuestionEmptyModel,e),QuestionEmptyModel.prototype.getType=function(){return"empty"},QuestionEmptyModel}(ox);eY.addClass("empty",[],function(){return new rO("")},"question");var rI=(et=function(e,t){return(et=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}et(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),rE=function(e){function QuestionCheckboxModel(t){var o=e.call(this,t)||this;return o.invisibleOldValues={},o.isChangingValueOnClearIncorrect=!1,o.selectAllItemValue=new oV(""),o.selectAllItemValue.id="selectall",o.selectAllItemText=o.createLocalizableString("selectAllText",o.selectAllItem,!0,"selectAllItemText"),o.selectAllItem.locOwner=o,o.selectAllItem.setLocText(o.selectAllItemText),o.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){o.onVisibleChoicesChanged()}),o}return rI(QuestionCheckboxModel,e),QuestionCheckboxModel.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},QuestionCheckboxModel.prototype.getType=function(){return"checkbox"},QuestionCheckboxModel.prototype.onCreating=function(){e.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},QuestionCheckboxModel.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(QuestionCheckboxModel.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(e){this.setPropertyValue("valuePropertyName",e)},enumerable:!1,configurable:!0}),QuestionCheckboxModel.prototype.getQuestionFromArray=function(e,t){if(e&&e===this.valuePropertyName){var o=this.value;if(Array.isArray(o)&&t<o.length)return this}return null},Object.defineProperty(QuestionCheckboxModel.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(e){this.setLocalizableStringText("selectAllText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem")},set:function(e){this.setPropertyValue("showSelectAllItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(e){this.showSelectAllItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"isAllSelected",{get:function(){return this.allElementsSelected()},set:function(e){e?this.selectAll():this.clearValue(!0)},enumerable:!1,configurable:!0}),QuestionCheckboxModel.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},QuestionCheckboxModel.prototype.allElementsSelected=function(){for(var e=this.getNoneItems(),t=0;t<e.length;t++)if(this.isItemSelected(e[t]))return!1;var o=this.getVisibleEnableItems();if(0===o.length)return!1;var n=this.value;if(!n||!Array.isArray(n)||0===n.length||n.length<o.length)return!1;for(var r=[],t=0;t<n.length;t++)r.push(this.getRealValue(n[t]));for(var t=0;t<o.length;t++)if(0>r.indexOf(o[t].value))return!1;return!0},QuestionCheckboxModel.prototype.selectAll=function(){for(var e=[],t=this.getVisibleEnableItems(),o=0;o<t.length;o++)e.push(t[o].value);this.renderedValue=e},QuestionCheckboxModel.prototype.clickItemHandler=function(e,t){if(!this.isReadOnlyAttr){if(e===this.selectAllItem)!0===t||!1===t?this.isAllSelected=t:this.toggleSelectAll();else if(this.isNoneItem(e))this.renderedValue=t?[e.value]:[];else{var o=[].concat(this.renderedValue||[]),n=o.indexOf(e.value);t?n<0&&o.push(e.value):n>-1&&o.splice(n,1),this.renderedValue=o}}},QuestionCheckboxModel.prototype.isItemSelectedCore=function(e){if(e===this.selectAllItem)return this.isAllSelected;var t=this.renderedValue;if(!t||!Array.isArray(t))return!1;for(var o=0;o<t.length;o++)if(this.isTwoValueEquals(t[o],e.value))return!0;return!1},QuestionCheckboxModel.prototype.convertFuncValuetoQuestionValue=function(t){var o=this;if(this.valuePropertyName&&Array.isArray(t)&&t.length>0){var n=[];t.forEach(function(e){var t="object"==typeof e,r=t?e:{};t||(r[o.valuePropertyName]=e),n.push(r)}),t=n}return e.prototype.convertDefaultValue.call(this,t)},QuestionCheckboxModel.prototype.getRealValue=function(e){return e&&this.valuePropertyName?e[this.valuePropertyName]:e},Object.defineProperty(QuestionCheckboxModel.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(e){e<0&&(e=0),this.setPropertyValue("maxSelectedChoices",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"minSelectedChoices",{get:function(){return this.getPropertyValue("minSelectedChoices")},set:function(e){e<0&&(e=0),this.setPropertyValue("minSelectedChoices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"selectedChoices",{get:function(){var e=this.renderedValue,t=this.visibleChoices,o=this.selectedItemValues;if(this.isEmpty())return[];var n=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,t):t,r=e.map(function(e){return oV.getItemByValue(n,e)}).filter(function(e){return!!e});return r.length||o||this.updateSelectedItemValues(),this.validateItemValues(r)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"hasFilteredValue",{get:function(){return!!this.valuePropertyName},enumerable:!1,configurable:!0}),QuestionCheckboxModel.prototype.getFilteredName=function(){var t=e.prototype.getFilteredName.call(this);return this.hasFilteredValue&&(t+="-unwrapped"),t},QuestionCheckboxModel.prototype.getFilteredValue=function(){return this.hasFilteredValue?this.renderedValue:e.prototype.getFilteredValue.call(this)},QuestionCheckboxModel.prototype.getMultipleSelectedItems=function(){return this.selectedChoices},QuestionCheckboxModel.prototype.validateItemValues=function(e){var t=this;if(e.length)return e;var o=this.selectedItemValues;return o&&o.length?(this.defaultSelectedItemValues=[].concat(o),o):this.renderedValue.map(function(e){return t.createItemValue(e)})},QuestionCheckboxModel.prototype.getAnswerCorrectIgnoreOrder=function(){return!0},QuestionCheckboxModel.prototype.onCheckForErrors=function(t,o,n){if(e.prototype.onCheckForErrors.call(this,t,o,n),!o&&this.minSelectedChoices>0&&this.checkMinSelectedChoicesUnreached()){var r=new ol(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);t.push(r)}},QuestionCheckboxModel.prototype.onVisibleChoicesChanged=function(){e.prototype.onVisibleChoicesChanged.call(this),this.updateSelectAllItemProps()},QuestionCheckboxModel.prototype.onEnableItemCallBack=function(e){return!this.shouldCheckMaxSelectedChoices()||this.isItemSelected(e)},QuestionCheckboxModel.prototype.onAfterRunItemsEnableCondition=function(){if(this.updateSelectAllItemProps(),this.maxSelectedChoices<1){this.otherItem.setIsEnabled(!0);return}this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)},QuestionCheckboxModel.prototype.updateSelectAllItemProps=function(){this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.getSelectAllEnabled())},QuestionCheckboxModel.prototype.getSelectAllEnabled=function(){if(!this.hasSelectAll)return!0;this.activeChoices;var e=this.getVisibleEnableItems().length,t=this.maxSelectedChoices;return(!(t>0)||!(t<e))&&e>0},QuestionCheckboxModel.prototype.getVisibleEnableItems=function(){for(var e=[],t=this.activeChoices,o=0;o<t.length;o++){var n=t[o];n.isEnabled&&n.isVisible&&e.push(n)}return e},QuestionCheckboxModel.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var e=this.value;return(Array.isArray(e)?e.length:0)>=this.maxSelectedChoices},QuestionCheckboxModel.prototype.checkMinSelectedChoicesUnreached=function(){if(this.minSelectedChoices<1)return!1;var e=this.value;return(Array.isArray(e)?e.length:0)<this.minSelectedChoices},QuestionCheckboxModel.prototype.getItemClassCore=function(t,o){return this.value,o.isSelectAllItem=t===this.selectAllItem,new tP().append(e.prototype.getItemClassCore.call(this,t,o)).append(this.cssClasses.itemSelectAll,o.isSelectAllItem).toString()},QuestionCheckboxModel.prototype.updateValueFromSurvey=function(t,o){e.prototype.updateValueFromSurvey.call(this,t,o),this.invisibleOldValues={}},QuestionCheckboxModel.prototype.setDefaultValue=function(){e.prototype.setDefaultValue.call(this);var t=this.defaultValue;if(Array.isArray(t))for(var o=0;o<t.length;o++){var n=this.getRealValue(t[o]);this.canClearValueAnUnknown(n)&&this.addIntoInvisibleOldValues(n)}},QuestionCheckboxModel.prototype.addIntoInvisibleOldValues=function(e){this.invisibleOldValues[e]=e},QuestionCheckboxModel.prototype.hasValueToClearIncorrectValues=function(){return e.prototype.hasValueToClearIncorrectValues.call(this)||!eQ.isValueEmpty(this.invisibleOldValues)},QuestionCheckboxModel.prototype.setNewValue=function(t){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),t=this.valueFromData(t);var o=this.value;t||(t=[]),o||(o=[]),this.isTwoValueEquals(o,t)||(this.removeNoneItemsValues(o,t),e.prototype.setNewValue.call(this,t))},QuestionCheckboxModel.prototype.getIsMultipleValue=function(){return!0},QuestionCheckboxModel.prototype.getCommentFromValue=function(e){var t=this.getFirstUnknownIndex(e);return t<0?"":e[t]},QuestionCheckboxModel.prototype.setOtherValueIntoValue=function(e){var t=this.getFirstUnknownIndex(e);return t<0||e.splice(t,1,this.otherItem.value),e},QuestionCheckboxModel.prototype.getFirstUnknownIndex=function(e){if(!Array.isArray(e))return -1;for(var t=0;t<e.length;t++)if(this.hasUnknownValueItem(e[t],!1,!1))return t;return -1},QuestionCheckboxModel.prototype.removeNoneItemsValues=function(e,t){var o=[];if(this.showNoneItem&&o.push(this.noneItem.value),this.showRefuseItem&&o.push(this.refuseItem.value),this.showDontKnowItem&&o.push(this.dontKnowItem.value),o.length>0){var n=this.noneIndexInArray(e,o),r=this.noneIndexInArray(t,o);if(n.index>-1){if(n.val===r.val)t.length>0&&t.splice(r.index,1);else{var i=this.noneIndexInArray(t,[n.val]);i.index>-1&&i.index<t.length-1&&t.splice(i.index,1)}}else if(r.index>-1&&t.length>1){var s=this.convertValueToObject([r.val])[0];t.splice(0,t.length,s)}}},QuestionCheckboxModel.prototype.noneIndexInArray=function(e,t){if(!Array.isArray(e))return{index:-1,val:void 0};for(var o=e.length-1;o>=0;o--){var n=t.indexOf(this.getRealValue(e[o]));if(n>-1)return{index:o,val:t[n]}}return{index:-1,val:void 0}},QuestionCheckboxModel.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&e.prototype.canUseFilteredChoices.call(this)},QuestionCheckboxModel.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},QuestionCheckboxModel.prototype.addNonChoicesItems=function(t,o){e.prototype.addNonChoicesItems.call(this,t,o),this.supportSelectAll()&&this.addNonChoiceItem(t,this.selectAllItem,o,this.hasSelectAll,t0.specialChoicesOrder.selectAllItem)},QuestionCheckboxModel.prototype.isBuiltInChoice=function(t){return t===this.selectAllItem||e.prototype.isBuiltInChoice.call(this,t)},QuestionCheckboxModel.prototype.isItemInList=function(t){return t==this.selectAllItem?this.hasSelectAll:e.prototype.isItemInList.call(this,t)},QuestionCheckboxModel.prototype.getDisplayValueEmpty=function(){var e=this;return oV.getTextOrHtmlByValue(this.visibleChoices.filter(function(t){return t!=e.selectAllItemValue}),void 0)},QuestionCheckboxModel.prototype.getDisplayValueCore=function(t,o){if(!Array.isArray(o))return e.prototype.getDisplayValueCore.call(this,t,o);var n=this.valuePropertyName;return this.getDisplayArrayValue(t,o,function(e){var t=o[e];return n&&t[n]&&(t=t[n]),t})},QuestionCheckboxModel.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},QuestionCheckboxModel.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},QuestionCheckboxModel.prototype.clearIncorrectAndDisabledValues=function(e){var t=this.value,o=!1,n=this.restoreValuesFromInvisible();if(t||0!=n.length){if(!Array.isArray(t)||0==t.length){if(this.isChangingValueOnClearIncorrect=!0,e||(this.hasComment?this.value=null:this.clearValue(!0)),this.isChangingValueOnClearIncorrect=!1,0==n.length)return;t=[]}for(var r=[],i=0;i<t.length;i++){var s=this.getRealValue(t[i]),a=this.canClearValueAnUnknown(s);(e||a)&&(!e||this.isValueDisabled(s))?(o=!0,a&&this.addIntoInvisibleOldValues(t[i])):r.push(t[i])}for(var i=0;i<n.length;i++)r.push(n[i]),o=!0;o&&(this.isChangingValueOnClearIncorrect=!0,0==r.length?this.clearValue(!0):this.value=r,this.isChangingValueOnClearIncorrect=!1)}},QuestionCheckboxModel.prototype.restoreValuesFromInvisible=function(){for(var e=[],t=this.visibleChoices,o=0;o<t.length;o++){var n=t[o];if(n!==this.selectAllItem){var r=t[o].value;eQ.isTwoValueEquals(r,this.invisibleOldValues[r])&&(this.isItemSelected(n)||e.push(r),delete this.invisibleOldValues[r])}}return e},QuestionCheckboxModel.prototype.getConditionJson=function(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.prototype.getConditionJson.call(this,t,o);return("contains"==t||"notcontains"==t)&&(n.type="radiogroup"),n.maxSelectedChoices=0,n.minSelectedChoices=0,n},QuestionCheckboxModel.prototype.isAnswerCorrect=function(){return eQ.isArrayContainsEqual(this.value,this.correctAnswer)},QuestionCheckboxModel.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},QuestionCheckboxModel.prototype.getIsItemValue=function(e,t){return!!(e&&Array.isArray(e))&&e.indexOf(t.value)>=0},QuestionCheckboxModel.prototype.valueFromData=function(t){if(!t)return t;if(!Array.isArray(t))return[e.prototype.valueFromData.call(this,t)];for(var o=[],n=0;n<t.length;n++){var r=oV.getItemByValue(this.activeChoices,t[n]);r?o.push(r.value):o.push(t[n])}return o},QuestionCheckboxModel.prototype.rendredValueFromData=function(t){return t=this.convertValueFromObject(t),e.prototype.rendredValueFromData.call(this,t)},QuestionCheckboxModel.prototype.rendredValueToData=function(t){return t=e.prototype.rendredValueToData.call(this,t),this.convertValueToObject(t)},QuestionCheckboxModel.prototype.convertValueFromObject=function(e){return this.valuePropertyName?eQ.convertArrayObjectToValue(e,this.valuePropertyName):e},QuestionCheckboxModel.prototype.convertValueToObject=function(e){if(!this.valuePropertyName)return e;var t=void 0;return this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1&&(t=this.data.getValue(this.getValueName())),eQ.convertArrayValueToObject(e,this.valuePropertyName,t)},QuestionCheckboxModel.prototype.renderedValueFromDataCore=function(e){if(e&&Array.isArray(e)||(e=[]),!this.hasActiveChoices)return e;for(var t=0;t<e.length&&e[t]!=this.otherItem.value;t++)if(this.hasUnknownValueItem(e[t],!0,!1)){this.otherValue=e[t];var o=e.slice();return o[t]=this.otherItem.value,o}return e},QuestionCheckboxModel.prototype.rendredValueToDataCore=function(e){if(!e||!e.length)return e;for(var t=0;t<e.length;t++)if(e[t]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var o=e.slice();return o[t]=this.otherValue,o}return e},QuestionCheckboxModel.prototype.selectOtherValueFromComment=function(e){var t=[],o=this.renderedValue;if(Array.isArray(o))for(var n=0;n<o.length;n++)o[n]!==this.otherItem.value&&t.push(o[n]);e&&t.push(this.otherItem.value),this.value=t},Object.defineProperty(QuestionCheckboxModel.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"a11y_input_ariaRole",{get:function(){return"group"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCheckboxModel.prototype,"a11y_input_ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),QuestionCheckboxModel}(n2);eY.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0,onSettingValue:function(e,t){if(t<=0)return 0;var o=e.minSelectedChoices;return o>0&&t<o?o:t}},{name:"minSelectedChoices:number",default:0,onSettingValue:function(e,t){if(t<=0)return 0;var o=e.maxSelectedChoices;return o>0&&t>o?o:t}},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(e){return e.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new rE("")},"checkboxbase"),oJ.Instance.registerQuestion("checkbox",function(e){var t=new rE(e);return t.choices=oJ.DefaultChoices,t});var rD=(eo=function(e,t){return(eo=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eo(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),multiSelectListModel_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},rQ=function(e){function MultiSelectListModel(t){var o=e.call(this,t)||this;return o.onItemClick=function(e){!o.isItemDisabled(e)&&(o.isExpanded=!1,o.isItemSelected(e)?(o.selectedItems.splice(o.selectedItems.indexOf(e),1)[0],o.onSelectionChanged&&o.onSelectionChanged(e,"removed")):(o.selectedItems.push(e),o.onSelectionChanged&&o.onSelectionChanged(e,"added")))},o.isItemDisabled=function(e){return void 0!==e.enabled&&!e.enabled},o.isItemSelected=function(e){return!!o.allowSelection&&o.selectedItems.filter(function(t){return o.areSameItems(t,e)}).length>0},o.setSelectedItems(t.selectedItems||[]),o}return rD(MultiSelectListModel,e),MultiSelectListModel.prototype.updateItemState=function(){var e=this;this.actions.forEach(function(t){var o=e.isItemSelected(t);t.visible=!e.hideSelectedItems||!o})},MultiSelectListModel.prototype.updateState=function(){var e=this;this.updateItemState(),this.isEmpty=0===this.renderedActions.filter(function(t){return e.isItemVisible(t)}).length},MultiSelectListModel.prototype.setSelectedItems=function(e){this.selectedItems=e,this.updateState()},MultiSelectListModel.prototype.selectFocusedItem=function(){e.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},multiSelectListModel_decorate([jsonobject_property()],MultiSelectListModel.prototype,"hideSelectedItems",void 0),MultiSelectListModel}(tR),rA=(en=function(e,t){return(en=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}en(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),dropdownMultiSelectListModel_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},rL=function(e){function DropdownMultiSelectListModel(t,o){var n=e.call(this,t,o)||this;return n.popupCssClasses="sv-multi-select-list",n.setHideSelectedItems(t.hideSelectedItems),n.syncFilterStringPlaceholder(),n.closeOnSelect=t.closeOnSelect,n}return rA(DropdownMultiSelectListModel,e),DropdownMultiSelectListModel.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.syncFilterStringPlaceholder()},DropdownMultiSelectListModel.prototype.updateListState=function(){this.listModel.updateState(),this.syncFilterStringPlaceholder()},DropdownMultiSelectListModel.prototype.syncFilterStringPlaceholder=function(){this.getSelectedActions().length||this.question.selectedItems.length||this.listModel.focusedItem?this.filterStringPlaceholder=void 0:this.filterStringPlaceholder=this.question.placeholder},DropdownMultiSelectListModel.prototype.getSelectedActions=function(){return this.listModel.actions.filter(function(e){return e.selected})},DropdownMultiSelectListModel.prototype.getFocusFirstInputSelector=function(){return this.listModel.hideSelectedItems&&nc&&!this.isValueEmpty(this.question.value)?this.itemSelector:e.prototype.getFocusFirstInputSelector.call(this)},DropdownMultiSelectListModel.prototype.createListModel=function(){var e=this,t=this.getAvailableItems(),o=this.onSelectionChanged;o||(o=function(t,o){e.resetFilterString(),"selectall"===t.id?e.selectAllItems():"added"===o&&t.value===t0.noneItemValue?e.selectNoneItem():"added"===o?e.selectItem(t.value):"removed"===o&&e.deselectItem(t.value),e.popupRecalculatePosition(!1),e.closeOnSelect&&(e.popupModel.isVisible=!1)});var n={items:t,onSelectionChanged:o,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},r=new rQ(n);return r.actions.forEach(function(e){return e.disableTabStop=!0}),this.setOnTextSearchCallbackForListModel(r),r.forceShowFilter=!0,r},DropdownMultiSelectListModel.prototype.resetFilterString=function(){e.prototype.resetFilterString.call(this),this.inputString=null,this.hintString=""},Object.defineProperty(DropdownMultiSelectListModel.prototype,"shouldResetAfterCancel",{get:function(){return nc&&!this.closeOnSelect},enumerable:!1,configurable:!0}),DropdownMultiSelectListModel.prototype.createPopup=function(){var t=this;e.prototype.createPopup.call(this),this.popupModel.onFooterActionsCreated.add(function(e,o){t.shouldResetAfterCancel&&o.actions.push({id:"sv-dropdown-done-button",title:t.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:function(){t.popupModel.isVisible=!1},enabled:new tf(function(){return!t.isTwoValueEquals(t.question.renderedValue,t.previousValue)})})}),this.popupModel.onVisibilityChanged.add(function(e,o){t.shouldResetAfterCancel&&o.isVisible&&(t.previousValue=[].concat(t.question.renderedValue||[]))}),this.popupModel.onCancel=function(){t.shouldResetAfterCancel&&(t.question.renderedValue=t.previousValue,t.updateListState())}},DropdownMultiSelectListModel.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.question.isAllSelected&&this.question.hideSelectedItems&&this.popupModel.hide(),this.updateListState()},DropdownMultiSelectListModel.prototype.selectNoneItem=function(){this.question.renderedValue=[t0.noneItemValue],this.updateListState()},DropdownMultiSelectListModel.prototype.selectItem=function(e){var t=[].concat(this.question.renderedValue||[]);t.push(e),this.question.renderedValue=t,this.updateListState()},DropdownMultiSelectListModel.prototype.deselectItem=function(e){var t=[].concat(this.question.renderedValue||[]);t.splice(t.indexOf(e),1),this.question.renderedValue=t,this.applyHintString(this.listModel.focusedItem),this.updateListState()},DropdownMultiSelectListModel.prototype.clear=function(){e.prototype.clear.call(this),this.syncFilterStringPlaceholder()},DropdownMultiSelectListModel.prototype.onClear=function(t){e.prototype.onClear.call(this,t),this.updateListState()},DropdownMultiSelectListModel.prototype.setHideSelectedItems=function(e){this.listModel.hideSelectedItems=e,this.updateListState()},DropdownMultiSelectListModel.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},DropdownMultiSelectListModel.prototype.inputKeyHandler=function(e){8!==e.keyCode||this.filterString||(this.removeLastSelectedItem(),e.preventDefault(),e.stopPropagation())},DropdownMultiSelectListModel.prototype.setInputStringFromSelectedItem=function(e){this.question.searchEnabled&&(this.inputString=null)},DropdownMultiSelectListModel.prototype.focusItemOnClickAndPopup=function(){},DropdownMultiSelectListModel.prototype.onEscape=function(){},DropdownMultiSelectListModel.prototype.beforeScrollToFocusedItem=function(e){},DropdownMultiSelectListModel.prototype.afterScrollToFocusedItem=function(){var e;(null===(e=this.listModel.focusedItem)||void 0===e?void 0:e.selected)?this.hintString="":this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.syncFilterStringPlaceholder()},DropdownMultiSelectListModel.prototype.onPropertyChangedHandler=function(t,o){e.prototype.onPropertyChangedHandler.call(this,t,o),("value"===o.name||"renderedValue"===o.name||"placeholder"===o.name)&&this.syncFilterStringPlaceholder()},dropdownMultiSelectListModel_decorate([jsonobject_property({defaultValue:""})],DropdownMultiSelectListModel.prototype,"filterStringPlaceholder",void 0),dropdownMultiSelectListModel_decorate([jsonobject_property({defaultValue:!0})],DropdownMultiSelectListModel.prototype,"closeOnSelect",void 0),dropdownMultiSelectListModel_decorate([jsonobject_property()],DropdownMultiSelectListModel.prototype,"previousValue",void 0),dropdownMultiSelectListModel_decorate([jsonobject_property({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],DropdownMultiSelectListModel.prototype,"doneButtonCaption",void 0),DropdownMultiSelectListModel}(rt),rk=(er=function(e,t){return(er=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}er(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_tagbox_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},rj=function(e){function QuestionTagboxModel(t){var o=e.call(this,t)||this;return o.itemDisplayNameMap={},o.onOpened=o.addEvent(),o.createLocalizableString("placeholder",o,!1,!0),o.createLocalizableString("clearCaption",o,!1,!0),o.createLocalizableString("readOnlyText",o,!0),o.deselectAllItemText=o.createLocalizableString("deselectAllText",o.selectAllItem,!0,"deselectAllItemText"),o.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){o.updateReadOnlyText()}),o.updateReadOnlyText(),o}return rk(QuestionTagboxModel,e),QuestionTagboxModel.prototype.locStrsChanged=function(){var t;e.prototype.locStrsChanged.call(this),this.updateReadOnlyText(),null===(t=this.dropdownListModel)||void 0===t||t.locStrsChanged()},QuestionTagboxModel.prototype.updateReadOnlyText=function(){this.readOnlyText=this.displayValue||this.placeholder},QuestionTagboxModel.prototype.getDefaultItemComponent=function(){return""},QuestionTagboxModel.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.createDropdownListModel()},QuestionTagboxModel.prototype.onSetData=function(){e.prototype.onSetData.call(this),this.createDropdownListModel()},QuestionTagboxModel.prototype.createDropdownListModel=function(){this.dropdownListModel||this.isLoadingFromJson||(this.dropdownListModel=new rL(this))},Object.defineProperty(QuestionTagboxModel.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTagboxModel.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTagboxModel.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTagboxModel.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTagboxModel.prototype,"readOnlyText",{get:function(){return this.getLocalizableStringText("readOnlyText")},set:function(e){this.setLocalizableStringText("readOnlyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTagboxModel.prototype,"locReadOnlyText",{get:function(){return this.getLocalizableString("readOnlyText")},enumerable:!1,configurable:!0}),QuestionTagboxModel.prototype.getType=function(){return"tagbox"},Object.defineProperty(QuestionTagboxModel.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTagboxModel.prototype,"popupModel",{get:function(){var e;return null===(e=this.dropdownListModel)||void 0===e?void 0:e.popupModel},enumerable:!1,configurable:!0}),QuestionTagboxModel.prototype.getControlClass=function(){return new tP().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlEditable,!this.isDisabledStyle&&!this.isReadOnlyStyle&&!this.isPreviewStyle).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()},QuestionTagboxModel.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},QuestionTagboxModel.prototype.hasUnknownValue=function(t,o,n,r){return!this.choicesLazyLoadEnabled&&e.prototype.hasUnknownValue.call(this,t,o,n,r)},QuestionTagboxModel.prototype.needConvertRenderedOtherToDataValue=function(){var t,o=null===(t=this.otherValue)||void 0===t?void 0:t.trim();return!!o&&e.prototype.hasUnknownValue.call(this,o,!0,!1)},QuestionTagboxModel.prototype.onVisibleChoicesChanged=function(){e.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},QuestionTagboxModel.prototype.getItemIfChoicesNotContainThisValue=function(t,o){return this.choicesLazyLoadEnabled?this.createItemValue(t,o):e.prototype.getItemIfChoicesNotContainThisValue.call(this,t,o)},QuestionTagboxModel.prototype.validateItemValues=function(e){var t=this;this.updateItemDisplayNameMap();var o=this.renderedValue;if(e.length&&e.length===o.length)return e;var n=this.selectedItemValues;if(!e.length&&n&&n.length)return this.defaultSelectedItemValues=[].concat(n),n;var r=e.map(function(e){return e.value});return o.filter(function(e){return -1===r.indexOf(e)}).forEach(function(o){var n=t.getItemIfChoicesNotContainThisValue(o,t.itemDisplayNameMap[o]);n&&e.push(n)}),e.sort(function(e,t){return o.indexOf(e.value)-o.indexOf(t.value)}),e},QuestionTagboxModel.prototype.updateItemDisplayNameMap=function(){var e=this,func=function(t){e.itemDisplayNameMap[t.value]=t.text};(this.defaultSelectedItemValues||[]).forEach(func),(this.selectedItemValues||[]).forEach(func),this.visibleChoices.forEach(func)},QuestionTagboxModel.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},QuestionTagboxModel.prototype.getInputId=function(){return this.inputId+"_0"},QuestionTagboxModel.prototype.supportEmptyValidation=function(){return!0},QuestionTagboxModel.prototype.onBlurCore=function(t){var o;null===(o=this.dropdownListModel)||void 0===o||o.onBlur(t),e.prototype.onBlurCore.call(this,t)},QuestionTagboxModel.prototype.onFocusCore=function(t){var o;null===(o=this.dropdownListModel)||void 0===o||o.onFocus(t),e.prototype.onFocusCore.call(this,t)},QuestionTagboxModel.prototype.allElementsSelected=function(){var t=e.prototype.allElementsSelected.call(this);return this.updateSelectAllItemText(t),t},QuestionTagboxModel.prototype.updateSelectAllItemText=function(e){this.selectAllItem.setLocText(e?this.deselectAllItemText:this.selectAllItemText)},QuestionTagboxModel.prototype.dispose=function(){e.prototype.dispose.call(this),this.dropdownListModel&&this.dropdownListModel.dispose()},QuestionTagboxModel.prototype.clearValue=function(t){var o;e.prototype.clearValue.call(this,t),null===(o=this.dropdownListModel)||void 0===o||o.clear()},Object.defineProperty(QuestionTagboxModel.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||t0.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionTagboxModel.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),question_tagbox_decorate([jsonobject_property()],QuestionTagboxModel.prototype,"searchMode",void 0),question_tagbox_decorate([jsonobject_property()],QuestionTagboxModel.prototype,"allowClear",void 0),question_tagbox_decorate([jsonobject_property({onSet:function(e,t){t.dropdownListModel&&t.dropdownListModel.setSearchEnabled(e)}})],QuestionTagboxModel.prototype,"searchEnabled",void 0),question_tagbox_decorate([jsonobject_property({onSet:function(e,t){t.dropdownListModel&&t.dropdownListModel.setHideSelectedItems(e)}})],QuestionTagboxModel.prototype,"hideSelectedItems",void 0),question_tagbox_decorate([jsonobject_property({onSet:function(e,t){t.dropdownListModel&&t.dropdownListModel.setChoicesLazyLoadEnabled(e)}})],QuestionTagboxModel.prototype,"choicesLazyLoadEnabled",void 0),question_tagbox_decorate([jsonobject_property()],QuestionTagboxModel.prototype,"choicesLazyLoadPageSize",void 0),question_tagbox_decorate([jsonobject_property({getDefaultValue:function(){return t0.tagboxCloseOnSelect}})],QuestionTagboxModel.prototype,"closeOnSelect",void 0),question_tagbox_decorate([jsonobject_property()],QuestionTagboxModel.prototype,"textWrapEnabled",void 0),QuestionTagboxModel}(rE);eY.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"textWrapEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""},{name:"searchMode",default:"contains",choices:["contains","startsWith"]}],function(){return new rj("")},"checkbox"),oJ.Instance.registerQuestion("tagbox",function(e){var t=new rj(e);return t.choices=oJ.DefaultChoices,t});var rB=(ei=function(e,t){return(ei=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ei(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),rF=function(e){function DragDropChoices(){var t=null!==e&&e.apply(this,arguments)||this;return t.doDragOver=function(){"imagepicker"!==t.parentElement.getType()&&(t.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="grabbing")},t.doBanDropHere=function(){"imagepicker"!==t.parentElement.getType()&&(t.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="not-allowed")},t}return rB(DragDropChoices,e),Object.defineProperty(DragDropChoices.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),DragDropChoices.prototype.createDraggedElementShortcut=function(e,t,o){if("imagepicker"===this.parentElement.getType())return this.createImagePickerShortcut(this.draggedElement,e,t,o);var n=eD.createElement("div");if(n){n.className="sv-drag-drop-choices-shortcut";var r=t.closest("[data-sv-drop-target-item-value]").cloneNode(!0);r.classList.add("sv-drag-drop-choices-shortcut__content"),r.querySelector(".svc-item-value-controls__drag-icon").style.visibility="visible",r.querySelector(".svc-item-value-controls__remove").style.backgroundColor="transparent",r.classList.remove("svc-item-value--moveup"),r.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,n.appendChild(r);var i=t.getBoundingClientRect();return n.shortcutXOffset=o.clientX-i.x,n.shortcutYOffset=o.clientY-i.y,this.isBottom=null,"function"==typeof this.onShortcutCreated&&this.onShortcutCreated(n),n}},DragDropChoices.prototype.createImagePickerShortcut=function(e,t,o,n){var r=eD.createElement("div");if(r){r.style.cssText=" \n      cursor: grabbing;\n      position: absolute;\n      z-index: 10000;\n      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));\n      background-color: var(--sjs-general-backcolor, var(--background, #fff));\n      padding: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n      border-radius: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n    ";var i=o.closest("[data-sv-drop-target-item-value]");this.imagepickerControlsNode=i.querySelector(".svc-image-item-value-controls");var s=i.querySelector(".sd-imagepicker__image-container"),a=i.querySelector(e.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="none"),s.style.width=a.width+"px",s.style.height=a.height+"px",a.style.objectFit="cover",a.style.borderRadius="4px",r.appendChild(a),r}},DragDropChoices.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.choices.filter(function(t){return""+t.value==e})[0]},DragDropChoices.prototype.getVisibleChoices=function(){var e=this.parentElement;return"ranking"!==e.getType()||e.selectToRankEnabled?e.visibleChoices:e.rankingChoices},DragDropChoices.prototype.isDropTargetValid=function(e,t){var o=this.getVisibleChoices();if("imagepicker"!==this.parentElement.getType()){var n=o.indexOf(this.dropTarget),r=o.indexOf(this.draggedElement);if(r>n&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(r<n&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return -1!==o.indexOf(e)},DragDropChoices.prototype.isDropTargetDoesntChanged=function(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom},DragDropChoices.prototype.calculateIsBottom=function(e,t){var o=t.getBoundingClientRect();return e>=o.y+o.height/2},DragDropChoices.prototype.afterDragOver=function(t){var o=this.getVisibleChoices(),n=o.indexOf(this.dropTarget),r=o.indexOf(this.draggedElement);if(r<n&&!0===this.isBottom)o.splice(r,1),o.splice(n,0,this.draggedElement);else{if(!(r>n)||!1!==this.isBottom)return;o.splice(n,1),o.splice(r,0,this.dropTarget)}"imagepicker"!==this.parentElement.getType()&&(r!==n&&(t.classList.remove("svc-item-value--moveup"),t.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),r>n&&(this.dropTarget.isDragDropMoveDown=!0),r<n&&(this.dropTarget.isDragDropMoveUp=!0),e.prototype.ghostPositionChanged.call(this))},DragDropChoices.prototype.doDrop=function(){var e=this.parentElement.choices,t=this.getVisibleChoices().filter(function(t){return -1!==e.indexOf(t)}),o=e.indexOf(this.draggedElement),n=t.indexOf(this.draggedElement);return e.splice(o,1),e.splice(n,0,this.draggedElement),this.parentElement},DragDropChoices.prototype.clear=function(){this.parentElement&&this.updateVisibleChoices(this.parentElement),this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="flex",this.imagepickerControlsNode=null),e.prototype.clear.call(this)},DragDropChoices.prototype.updateVisibleChoices=function(e){"ranking"===e.getType()?e.updateRankingChoices():e.updateVisibleChoices()},DragDropChoices}(nd),rN=(es=function(e,t){return(es=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}es(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),rq=function(e){function DragDropRankingChoices(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDragOverRootNode=!1,t.doDragOver=function(){t.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="grabbing"},t.reorderRankedItem=function(e,o,n){if(o!=n){var r=e.rankingChoices,i=r[o];e.isValueSetByUser=!0,r.splice(o,1),r.splice(n,0,i),t.updateDraggedElementShortcut(n+1)}},t.doBanDropHere=function(){if(t.isDragOverRootNode){t.allowDropHere=!0;return}t.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="not-allowed"},t}return rN(DragDropRankingChoices,e),Object.defineProperty(DragDropRankingChoices.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),DragDropRankingChoices.prototype.createDraggedElementShortcut=function(e,t,o){var n=eD.createElement("div");if(n){n.className=this.shortcutClass+" sv-ranking-shortcut";var r=t.cloneNode(!0);n.appendChild(r);var i=t.getBoundingClientRect();n.style.left=i.x,n.style.top=i.y,this.domAdapter.rootElement.append(n);var s=n.offsetHeight,a=o.clientY;return a>i.y+s&&(a=i.y+s-10),n.shortcutXOffset=o.clientX-i.x,n.shortcutYOffset=a-i.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px"),n}},Object.defineProperty(DragDropRankingChoices.prototype,"shortcutClass",{get:function(){return new tP().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,na).toString()},enumerable:!1,configurable:!0}),DragDropRankingChoices.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.rankingChoices[e]},DragDropRankingChoices.prototype.findDropTargetNodeByDragOverNode=function(t){return this.isDragOverRootNode=this.getIsDragOverRootNode(t),e.prototype.findDropTargetNodeByDragOverNode.call(this,t)},DragDropRankingChoices.prototype.getIsDragOverRootNode=function(e){return"string"==typeof e.className&&-1!==e.className.indexOf("sv-ranking")},DragDropRankingChoices.prototype.isDropTargetValid=function(e,t){return -1!==this.parentElement.rankingChoices.indexOf(e)},DragDropRankingChoices.prototype.calculateIsBottom=function(t,o){return this.dropTarget instanceof oV&&this.draggedElement!==this.dropTarget&&e.prototype.calculateIsBottom.call(this,t,o)},DragDropRankingChoices.prototype.getIndices=function(e,t,o){var n=t.indexOf(this.draggedElement),r=o.indexOf(this.dropTarget);return n<0&&this.draggedElement&&(this.draggedElement=oV.getItemByValue(t,this.draggedElement.value)||this.draggedElement,n=t.indexOf(this.draggedElement)),-1===r?r=e.value.length:t==o?(!this.isBottom&&n<r&&r--,this.isBottom&&n>r&&r++):t!=o&&this.isBottom&&r++,{fromIndex:n,toIndex:r}},DragDropRankingChoices.prototype.afterDragOver=function(e){var t=this.getIndices(this.parentElement,this.parentElement.rankingChoices,this.parentElement.rankingChoices),o=t.fromIndex,n=t.toIndex;this.reorderRankedItem(this.parentElement,o,n)},DragDropRankingChoices.prototype.updateDraggedElementShortcut=function(e){var t;(null===(t=this.domAdapter)||void 0===t?void 0:t.draggedElementShortcut)&&(this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index").innerText=null!==e?e+"":"")},DragDropRankingChoices.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,e.prototype.ghostPositionChanged.call(this)},DragDropRankingChoices.prototype.doDrop=function(){return this.parentElement.setValue(),this.parentElement},DragDropRankingChoices.prototype.clear=function(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),e.prototype.clear.call(this)},DragDropRankingChoices}(rF),rH=(ea=function(e,t){return(ea=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ea(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),rz=function(e){function DragDropRankingSelectToRank(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectToRank=function(e,o,n){var r=[].concat(e.rankingChoices),i=e.unRankingChoices[o];r.splice(n,0,i),t.updateChoices(e,r)},t.unselectFromRank=function(e,o,n){var r=[].concat(e.rankingChoices);r.splice(o,1),t.updateChoices(e,r)},t}return rH(DragDropRankingSelectToRank,e),DragDropRankingSelectToRank.prototype.findDropTargetNodeByDragOverNode=function(t){if("from-container"===t.dataset.ranking||"to-container"===t.dataset.ranking)return t;var o=t.closest("[data-ranking='to-container']"),n=t.closest("[data-ranking='from-container']");return 0===this.parentElement.unRankingChoices.length&&n?n:0===this.parentElement.rankingChoices.length&&o?o:e.prototype.findDropTargetNodeByDragOverNode.call(this,t)},DragDropRankingSelectToRank.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.rankingChoices[e]||this.parentElement.unRankingChoices[e]},DragDropRankingSelectToRank.prototype.getDropTargetByNode=function(t,o){return"to-container"===t.dataset.ranking?"to-container":"from-container"===t.dataset.ranking||t.closest("[data-ranking='from-container']")?"from-container":e.prototype.getDropTargetByNode.call(this,t,o)},DragDropRankingSelectToRank.prototype.isDropTargetValid=function(t,o){return"to-container"===t||"from-container"===t||e.prototype.isDropTargetValid.call(this,t,o)},DragDropRankingSelectToRank.prototype.afterDragOver=function(e){var t=this.parentElement,o=t.rankingChoices,n=t.unRankingChoices;if(this.isDraggedElementUnranked&&this.isDropTargetRanked){this.doRankBetween(e,n,o,this.selectToRank);return}if(this.isDraggedElementRanked&&this.isDropTargetRanked){this.doRankBetween(e,o,o,this.reorderRankedItem);return}if(this.isDraggedElementRanked&&!this.isDropTargetRanked){this.doRankBetween(e,o,n,this.unselectFromRank);return}},DragDropRankingSelectToRank.prototype.doRankBetween=function(e,t,o,n){var r=this.parentElement,i=this.getIndices(r,t,o);n(r,i.fromIndex,i.toIndex,e)},Object.defineProperty(DragDropRankingSelectToRank.prototype,"isDraggedElementRanked",{get:function(){return -1!==this.parentElement.rankingChoices.indexOf(this.draggedElement)},enumerable:!1,configurable:!0}),Object.defineProperty(DragDropRankingSelectToRank.prototype,"isDropTargetRanked",{get:function(){return"to-container"===this.dropTarget||-1!==this.parentElement.rankingChoices.indexOf(this.dropTarget)},enumerable:!1,configurable:!0}),Object.defineProperty(DragDropRankingSelectToRank.prototype,"isDraggedElementUnranked",{get:function(){return!this.isDraggedElementRanked},enumerable:!1,configurable:!0}),DragDropRankingSelectToRank.prototype.updateChoices=function(e,t){e.isValueSetByUser=!0,e.rankingChoices=t,e.updateUnRankingChoices(t)},DragDropRankingSelectToRank}(rq),rU=(el=function(e,t){return(el=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}el(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_ranking_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},rW=function(e){function QuestionRankingModel(t){var o=e.call(this,t)||this;return o.domNode=null,o.onVisibleChoicesChanged=function(){if(e.prototype.onVisibleChoicesChanged.call(o),!o.carryForwardStartUnranked||o.isValueSetByUser||o.selectToRankEnabled||o.defaultValue||(o.value=[]),1===o.visibleChoices.length&&!o.selectToRankEnabled){o.value=[],o.value.push(o.visibleChoices[0].value),o.updateRankingChoices();return}if(o.isEmpty()||o.selectToRankEnabled){o.updateRankingChoices();return}o.visibleChoices.length>o.value.length&&o.addToValueByVisibleChoices(),o.visibleChoices.length<o.value.length&&o.removeFromValueByVisibleChoices(),o.updateRankingChoices()},o.localeChanged=function(){e.prototype.localeChanged.call(o),o.updateRankingChoicesSync()},o._rankingChoicesAnimation=new tz(o.getChoicesAnimationOptions(!0),function(e){o._renderedRankingChoices=e},function(){return o.renderedRankingChoices}),o._unRankingChoicesAnimation=new tz(o.getChoicesAnimationOptions(!1),function(e){o._renderedUnRankingChoices=e},function(){return o.renderedUnRankingChoices}),o.rankingChoices=[],o.unRankingChoices=[],o._renderedRankingChoices=[],o._renderedUnRankingChoices=[],o.handlePointerDown=function(e,t,n){var r=e.target;o.isDragStartNodeValid(r)&&o.isAllowStartDrag(r,t)&&(o.draggedChoiceValue=t.value,o.draggedTargetNode=n,o.dragOrClickHelper.onPointerDown(e))},o.startDrag=function(e){var t=oV.getItemByValue(o.activeChoices,o.draggedChoiceValue);o.dragDropRankingChoices.startDrag(e,t,o,o.draggedTargetNode)},o.handlePointerUp=function(e,t,n){if(o.selectToRankEnabled){var r=e.target;o.isAllowStartDrag(r,t)&&o.handleKeydownSelectToRank(e,t," ",!1)}},o.handleKeydown=function(e,t){if(!o.isReadOnlyAttr&&!o.isDesignMode){var n=e.key,r=o.rankingChoices.indexOf(t);if(o.selectToRankEnabled){o.handleKeydownSelectToRank(e,t);return}if("ArrowUp"===n&&r||"ArrowDown"===n&&r!==o.rankingChoices.length-1){var i="ArrowUp"==n?r-1:r+1;o.dragDropRankingChoices.reorderRankedItem(o,r,i),o.setValueAfterKeydown(i,"",!0,e)}}},o.focusItem=function(e,t){if(o.domNode){if(o.selectToRankEnabled&&t){var n=o.domNode.querySelectorAll("[data-ranking='"+t+"'] ."+o.cssClasses.item);n[e].focus()}else{var n=o.domNode.querySelectorAll("."+o.cssClasses.item);n[e].focus()}}},o.isValueSetByUser=!1,o.setValue=function(){var e=[];o.rankingChoices.forEach(function(t){e.push(t.value)}),o.value=e,o.isValueSetByUser=!0},o.registerFunctionOnPropertyValueChanged("selectToRankEnabled",function(){o.clearValue(!0),o.setDragDropRankingChoices(),o.updateRankingChoicesSync()}),o.dragOrClickHelper=new nf(o.startDrag),o}return rU(QuestionRankingModel,e),QuestionRankingModel.prototype.getType=function(){return"ranking"},QuestionRankingModel.prototype.getItemTabIndex=function(e){if(!this.isDesignMode&&!e.disabled)return 0},QuestionRankingModel.prototype.supportContainerQueries=function(){return this.selectToRankEnabled},Object.defineProperty(QuestionRankingModel.prototype,"rootClass",{get:function(){return new tP().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,this.isMobileMode()).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.hasCssError()).append(this.cssClasses.rootDragHandleAreaIcon,"icon"===t0.rankingDragHandleArea).append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankEmptyValueMod,this.isEmpty()).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&"horizontal"===this.renderedSelectToRankAreasLayout).append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&"vertical"===this.renderedSelectToRankAreasLayout).append(this.cssClasses.rootSelectToRankSwapAreas,this.selectToRankEnabled&&"horizontal"===this.renderedSelectToRankAreasLayout&&this.selectToRankSwapAreas).toString()},enumerable:!1,configurable:!0}),QuestionRankingModel.prototype.isItemSelectedCore=function(t){return!this.selectToRankEnabled||e.prototype.isItemSelectedCore.call(this,t)},QuestionRankingModel.prototype.getItemClassCore=function(t,o){return new tP().append(e.prototype.getItemClassCore.call(this,t,o)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===t).toString()},QuestionRankingModel.prototype.getContainerClasses=function(e){var t=!1,o="to"===e,n="from"===e;return o?t=0===this.renderedRankingChoices.length:n&&(t=0===this.renderedUnRankingChoices.length),new tP().append(this.cssClasses.container).append(this.cssClasses.containerToMode,o).append(this.cssClasses.containerFromMode,n).append(this.cssClasses.containerEmptyMode,t).toString()},QuestionRankingModel.prototype.isItemCurrentDropTarget=function(e){return this.dragDropRankingChoices.dropTarget===e},Object.defineProperty(QuestionRankingModel.prototype,"ghostPositionCssClass",{get:function(){return"top"===this.ghostPosition?this.cssClasses.dragDropGhostPositionTop:"bottom"===this.ghostPosition?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),QuestionRankingModel.prototype.getItemIndexClasses=function(e){var t;return t=this.selectToRankEnabled?-1!==this.unRankingChoices.indexOf(e):this.isEmpty(),new tP().append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,t).toString()},QuestionRankingModel.prototype.getNumberByIndex=function(e){return this.isEmpty()?"":e+1+""},QuestionRankingModel.prototype.updateRankingChoicesSync=function(){this.blockAnimations(),this.updateRankingChoices(),this.releaseAnimations()},QuestionRankingModel.prototype.setSurveyImpl=function(t,o){e.prototype.setSurveyImpl.call(this,t,o),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()},QuestionRankingModel.prototype.isAnswerCorrect=function(){return eQ.isArraysEqual(this.value,this.correctAnswer,!1)},Object.defineProperty(QuestionRankingModel.prototype,"requireStrictCompare",{get:function(){return!0},enumerable:!1,configurable:!0}),QuestionRankingModel.prototype.onSurveyValueChanged=function(t){e.prototype.onSurveyValueChanged.call(this,t),this.isLoadingFromJson||this.updateRankingChoices()},QuestionRankingModel.prototype.onSurveyLoad=function(){this.blockAnimations(),e.prototype.onSurveyLoad.call(this),this.updateRankingChoices(),this.releaseAnimations()},QuestionRankingModel.prototype.updateValueFromSurvey=function(t,o){e.prototype.updateValueFromSurvey.call(this,t,o),t&&(this.isValueSetByUser=!0)},QuestionRankingModel.prototype.addToValueByVisibleChoices=function(){var e=this.value.slice();this.visibleChoices.forEach(function(t){-1===e.indexOf(t.value)&&e.push(t.value)}),this.value=e},QuestionRankingModel.prototype.removeFromValueByVisibleChoices=function(){for(var e=this.value.slice(),t=this.visibleChoices,o=this.value.length-1;o>=0;o--)oV.getItemByValue(t,this.value[o])||e.splice(o,1);this.value=e},QuestionRankingModel.prototype.getChoicesAnimationOptions=function(e){var t=this;return{getKey:function(e){return e.value},getRerenderEvent:function(){return t.onElementRerendered},isAnimationEnabled:function(){return t.animationAllowed&&!t.isDesignMode&&t.isVisible&&!!t.domNode},getReorderOptions:function(e,o){var n="";return e!==t.currentDropTarget&&(n=o?"sv-dragdrop-movedown":"sv-dragdrop-moveup"),{cssClass:n}},getLeaveOptions:function(o){var n=e?t.renderedRankingChoices:t.renderedUnRankingChoices;return"vertical"==t.renderedSelectToRankAreasLayout&&1==n.length&&n.indexOf(o)>=0?{cssClass:"sv-ranking-item--animate-item-removing-empty"}:{cssClass:"sv-ranking-item--animate-item-removing",onBeforeRunAnimation:function(e){e.style.setProperty("--animation-height",e.offsetHeight+"px")}}},getEnterOptions:function(o){var n=e?t.renderedRankingChoices:t.renderedUnRankingChoices;return"vertical"==t.renderedSelectToRankAreasLayout&&1==n.length&&n.indexOf(o)>=0?{cssClass:"sv-ranking-item--animate-item-adding-empty"}:{cssClass:"sv-ranking-item--animate-item-adding",onBeforeRunAnimation:function(e){e.style.setProperty("--animation-height",e.offsetHeight+"px")}}},getAnimatedElement:function(o){var n,r=t.cssClasses,i="";t.selectToRankEnabled&&(!e&&r.containerFromMode?i=classesToSelector(r.containerFromMode):e&&r.containerToMode&&(i=classesToSelector(r.containerToMode)));var s=e?t.renderedRankingChoices.indexOf(o):t.renderedUnRankingChoices.indexOf(o);return null===(n=t.domNode)||void 0===n?void 0:n.querySelector(i+" [data-sv-drop-target-ranking-item='"+s+"']")},allowSyncRemovalAddition:!0}},Object.defineProperty(QuestionRankingModel.prototype,"rankingChoicesAnimation",{get:function(){return this._rankingChoicesAnimation},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"unRankingChoicesAnimation",{get:function(){return this._unRankingChoicesAnimation},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"renderedRankingChoices",{get:function(){return this._renderedRankingChoices},set:function(e){this.rankingChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"renderedUnRankingChoices",{get:function(){return this._renderedUnRankingChoices},set:function(e){this.unRankingChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),QuestionRankingModel.prototype.updateRenderedRankingChoices=function(){this.renderedRankingChoices=this.rankingChoices},QuestionRankingModel.prototype.updateRenderedUnRankingChoices=function(){this.renderedUnRankingChoices=this.unRankingChoices},QuestionRankingModel.prototype.updateRankingChoices=function(e){var t=this;if(void 0===e&&(e=!1),this.selectToRankEnabled){this.updateRankingChoicesSelectToRankMode(e);return}var o=[];if(e&&(this.rankingChoices=[]),this.isEmpty()){this.rankingChoices=this.visibleChoices;return}this.value.forEach(function(e){t.visibleChoices.forEach(function(t){t.value===e&&o.push(t)})}),this.rankingChoices=o},QuestionRankingModel.prototype.updateUnRankingChoices=function(e){var t=[];this.visibleChoices.forEach(function(e){t.push(e)}),e.forEach(function(e){t.forEach(function(o,n){o.value===e.value&&t.splice(n,1)})}),this.unRankingChoices=t},QuestionRankingModel.prototype.updateRankingChoicesSelectToRankMode=function(e){var t=this,o=[];this.isEmpty()||this.value.forEach(function(e){t.visibleChoices.forEach(function(t){t.value===e&&o.push(t)})}),this.updateUnRankingChoices(o),this.rankingChoices=o},QuestionRankingModel.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.setDragDropRankingChoices()},QuestionRankingModel.prototype.setDragDropRankingChoices=function(){this.dragDropRankingChoices=this.createDragDropRankingChoices()},QuestionRankingModel.prototype.createDragDropRankingChoices=function(){return this.selectToRankEnabled?new rz(this.survey,null,this.longTap):new rq(this.survey,null,this.longTap)},QuestionRankingModel.prototype.isDragStartNodeValid=function(e){return"icon"!==t0.rankingDragHandleArea||e.classList.contains(this.cssClasses.itemIconHoverMod)},QuestionRankingModel.prototype.isAllowStartDrag=function(e,t){return!this.isReadOnly&&!this.isDesignMode&&this.canStartDragDueMaxSelectedChoices(e)&&this.canStartDragDueItemEnabled(t)},QuestionRankingModel.prototype.canStartDragDueMaxSelectedChoices=function(e){return!this.selectToRankEnabled||!e.closest("[data-ranking='from-container']")||this.checkMaxSelectedChoicesUnreached()},QuestionRankingModel.prototype.canStartDragDueItemEnabled=function(e){return e.enabled},QuestionRankingModel.prototype.checkMaxSelectedChoicesUnreached=function(){if(this.maxSelectedChoices<1)return!0;var e=this.value;return(Array.isArray(e)?e.length:0)<this.maxSelectedChoices},QuestionRankingModel.prototype.afterRenderQuestionElement=function(t){this.domNode=t,e.prototype.afterRenderQuestionElement.call(this,t)},QuestionRankingModel.prototype.beforeDestroyQuestionElement=function(t){this.domNode=void 0,e.prototype.beforeDestroyQuestionElement.call(this,t)},QuestionRankingModel.prototype.supportSelectAll=function(){return!1},QuestionRankingModel.prototype.supportOther=function(){return!1},QuestionRankingModel.prototype.supportNone=function(){return!1},QuestionRankingModel.prototype.supportRefuse=function(){return!1},QuestionRankingModel.prototype.supportDontKnow=function(){return!1},QuestionRankingModel.prototype.handleKeydownSelectToRank=function(e,t,o,n){if(void 0===n&&(n=!0),!this.isDesignMode){var r,i=e.key;if(o&&(i=o)," "===i||"ArrowUp"===i||"ArrowDown"===i){var s=this.dragDropRankingChoices,a=this.rankingChoices,l=-1!==a.indexOf(t),u=(l?a:this.unRankingChoices).indexOf(t);if(!(u<0)){if(" "===i&&!l){if(!this.checkMaxSelectedChoicesUnreached()||!this.canStartDragDueItemEnabled(t))return;r=this.value.length,s.selectToRank(this,u,r),this.setValueAfterKeydown(r,"to-container",n,e);return}if(l){if(" "===i){s.unselectFromRank(this,u),r=this.unRankingChoices.indexOf(t),this.setValueAfterKeydown(r,"from-container",n,e);return}var c="ArrowUp"===i?-1:"ArrowDown"===i?1:0;0!==c&&((r=u+c)<0||r>=a.length||(s.reorderRankedItem(this,u,r),this.setValueAfterKeydown(r,"to-container",n,e)))}}}}},QuestionRankingModel.prototype.setValueAfterKeydown=function(e,t,o,n){var r=this;void 0===o&&(o=!0),this.setValue(),o&&setTimeout(function(){r.focusItem(e,t)},1),n&&n.preventDefault()},QuestionRankingModel.prototype.getIconHoverCss=function(){return new tP().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},QuestionRankingModel.prototype.getIconFocusCss=function(){return new tP().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(QuestionRankingModel.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(e){this.setPropertyValue("longTap",e)},enumerable:!1,configurable:!0}),QuestionRankingModel.prototype.getDefaultItemComponent=function(){return"sv-ranking-item"},Object.defineProperty(QuestionRankingModel.prototype,"selectToRankEnabled",{get:function(){return this.getPropertyValue("selectToRankEnabled",!1)},set:function(e){this.setPropertyValue("selectToRankEnabled",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"selectToRankSwapAreas",{get:function(){return this.getPropertyValue("selectToRankSwapAreas",!1)},set:function(e){this.setPropertyValue("selectToRankSwapAreas",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"selectToRankAreasLayout",{get:function(){return this.getPropertyValue("selectToRankAreasLayout")},set:function(e){this.setPropertyValue("selectToRankAreasLayout",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"renderedSelectToRankAreasLayout",{get:function(){return this.isMobileMode()?"vertical":this.selectToRankAreasLayout},enumerable:!1,configurable:!0}),QuestionRankingModel.prototype.isMobileMode=function(){return na},Object.defineProperty(QuestionRankingModel.prototype,"useFullItemSizeForShortcut",{get:function(){return this.getPropertyValue("useFullItemSizeForShortcut")},set:function(e){this.setPropertyValue("useFullItemSizeForShortcut",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"dragDropSvgIcon",{get:function(){return this.cssClasses.dragDropSvgIconId||"#icon-drag-24x24"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"arrowsSvgIcon",{get:function(){return this.cssClasses.arrowsSvgIconId||"#icon-reorder-24x24"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"dashSvgIcon",{get:function(){return this.cssClasses.dashSvgIconId||"#icon-rankingundefined-16x16"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRankingModel.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),question_ranking_decorate([propertyArray({onSet:function(e,t){return t.updateRenderedRankingChoices()},onRemove:function(e,t,o){return o.updateRenderedRankingChoices()},onPush:function(e,t,o){return o.updateRenderedRankingChoices()}})],QuestionRankingModel.prototype,"rankingChoices",void 0),question_ranking_decorate([propertyArray({onSet:function(e,t){return t.updateRenderedUnRankingChoices()},onRemove:function(e,t,o){return o.updateRenderedUnRankingChoices()},onPush:function(e,t,o){return o.updateRenderedUnRankingChoices()}})],QuestionRankingModel.prototype,"unRankingChoices",void 0),question_ranking_decorate([propertyArray()],QuestionRankingModel.prototype,"_renderedRankingChoices",void 0),question_ranking_decorate([propertyArray()],QuestionRankingModel.prototype,"_renderedUnRankingChoices",void 0),question_ranking_decorate([jsonobject_property({defaultValue:null})],QuestionRankingModel.prototype,"currentDropTarget",void 0),question_ranking_decorate([jsonobject_property({defaultValue:!0})],QuestionRankingModel.prototype,"carryForwardStartUnranked",void 0),question_ranking_decorate([jsonobject_property({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],QuestionRankingModel.prototype,"selectToRankEmptyRankedAreaText",void 0),question_ranking_decorate([jsonobject_property({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],QuestionRankingModel.prototype,"selectToRankEmptyUnrankedAreaText",void 0),QuestionRankingModel}(rE);eY.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"showRefuseItem",visible:!1,isSerializable:!1},{name:"showDontKnowItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled:switch",default:!1,visible:!0,isSerializable:!0},{name:"selectToRankSwapAreas:switch",default:!1,visible:!1,isSerializable:!0,dependsOn:"selectToRankEnabled"},{name:"selectToRankAreasLayout",default:"horizontal",choices:["horizontal","vertical"],dependsOn:"selectToRankEnabled",visibleIf:function(e){return!!e.selectToRankEnabled},visible:!0,isSerializable:!0},{name:"selectToRankEmptyRankedAreaText:text",serializationProperty:"locSelectToRankEmptyRankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(e){return!!e.selectToRankEnabled}},{name:"selectToRankEmptyUnrankedAreaText:text",serializationProperty:"locSelectToRankEmptyUnrankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(e){return!!e.selectToRankEnabled}},{name:"maxSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(e){return!!e.selectToRankEnabled},isSerializable:!0},{name:"minSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(e){return!!e.selectToRankEnabled},isSerializable:!0},{name:"itemComponent",visible:!1,default:"sv-ranking-item"}],function(){return new rW("")},"checkbox"),oJ.Instance.registerQuestion("ranking",function(e){var t=new rW(e);return t.choices=oJ.DefaultChoices,t});var rJ=(eu=function(e,t){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eu(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),r$=function(e){function QuestionCommentModel(t){var o=e.call(this,t)||this;return o.textAreaModel=new ow(o.getTextAreaOptions()),o}return rJ(QuestionCommentModel,e),QuestionCommentModel.prototype.getTextAreaOptions=function(){var e=this,t=this,updateQuestionValue=function(e){eQ.isTwoValueEquals(t.value,e,!1,!0,!1)||(t.value=e)};return{question:this,id:function(){return e.inputId},propertyName:"value",className:function(){return e.className},placeholder:function(){return e.renderedPlaceholder},isDisabledAttr:function(){return e.isDisabledAttr},isReadOnlyAttr:function(){return e.isReadOnlyAttr},autoGrow:function(){return e.renderedAutoGrow},maxLength:function(){return e.getMaxLength()},rows:function(){return e.rows},cols:function(){return e.cols},ariaRequired:function(){return e.a11y_input_ariaRequired},ariaLabel:function(){return e.a11y_input_ariaLabel},ariaLabelledBy:function(){return e.a11y_input_ariaLabelledBy},ariaDescribedBy:function(){return e.a11y_input_ariaDescribedBy},ariaInvalid:function(){return e.a11y_input_ariaInvalid},ariaErrormessage:function(){return e.a11y_input_ariaErrormessage},getTextValue:function(){return e.value},onTextAreaChange:function(e){updateQuestionValue(e.target.value)},onTextAreaInput:function(t){e.onInput(t)},onTextAreaKeyDown:function(t){e.onKeyDown(t)},onTextAreaFocus:function(t){e.onFocus(t)},onTextAreaBlur:function(t){e.onBlur(t)}}},Object.defineProperty(QuestionCommentModel.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){this.setPropertyValue("rows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCommentModel.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(e){this.setPropertyValue("cols",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCommentModel.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(e){this.setPropertyValue("acceptCarriageReturn",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCommentModel.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")},set:function(e){this.setPropertyValue("autoGrow",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCommentModel.prototype,"renderedAutoGrow",{get:function(){var e=this.autoGrow;return void 0===e&&this.survey?this.survey.autoGrowComment:!!e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCommentModel.prototype,"allowResize",{get:function(){return this.getPropertyValue("allowResize")},set:function(e){this.setPropertyValue("allowResize",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCommentModel.prototype,"renderedAllowResize",{get:function(){var e=this.allowResize;return void 0===e&&this.survey?this.survey.allowResizeComment:!!e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionCommentModel.prototype,"resizeStyle",{get:function(){return this.renderedAllowResize?"both":"none"},enumerable:!1,configurable:!0}),QuestionCommentModel.prototype.getType=function(){return"comment"},QuestionCommentModel.prototype.afterRenderQuestionElement=function(t){var o=t0.environment.root;this.element=o.getElementById(this.inputId)||t,e.prototype.afterRenderQuestionElement.call(this,t)},QuestionCommentModel.prototype.beforeDestroyQuestionElement=function(t){e.prototype.beforeDestroyQuestionElement.call(this,t),this.element=void 0},QuestionCommentModel.prototype.onInput=function(e){this.isInputTextUpdate&&(this.value=e.target.value),this.updateRemainingCharacterCounter(e.target.value)},QuestionCommentModel.prototype.onBlurCore=function(t){e.prototype.onBlurCore.call(this,t)},QuestionCommentModel.prototype.onKeyDown=function(e){this.onKeyDownPreprocess&&this.onKeyDownPreprocess(e),this.acceptCarriageReturn||"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation())},QuestionCommentModel.prototype.setNewValue=function(t){!this.acceptCarriageReturn&&t&&(t=t.replace(RegExp("(\r\n|\n|\r)","gm"),"")),e.prototype.setNewValue.call(this,t)},QuestionCommentModel.prototype.getValueSeparator=function(){return"\n"},Object.defineProperty(QuestionCommentModel.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),QuestionCommentModel}(rc);eY.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean",defaultFunc:function(){}},{name:"allowResize:boolean",defaultFunc:function(){}},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new r$("")},"textbase"),oJ.Instance.registerQuestion("comment",function(e){return new r$(e)});var rG="environment",rZ="user",rK=function(){function Camera(){this.canFlipValue=void 0}return Camera.clear=function(){Camera.cameraList=void 0,Camera.cameraIndex=-1},Camera.setCameraList=function(e){var getDeviceType=function(e){var t=e.label.toLocaleLowerCase();return t.indexOf(rZ)>-1?rZ:t.indexOf(rG)>-1?rG:t.indexOf("front")>-1?rZ:t.indexOf("back")>-1?rG:""};Camera.clear(),Array.isArray(e)&&e.length>0&&(Camera.cameraIndex=-1,e.sort(function(t,o){if(t===o)return 0;if(t.label!==o.label){var n=getDeviceType(t),r=getDeviceType(o);if(n!==r){if(n===rZ)return -1;if(r===rZ)return 1;if(n===rG)return -1;if(r===rG)return 1}}return e.indexOf(t)<e.indexOf(o)?-1:1})),Camera.cameraList=e},Camera.prototype.hasCamera=function(e){var t=this;if(void 0!==Camera.cameraList){this.hasCameraCallback(e);return}if(Camera.mediaDevicesCallback){Camera.mediaDevicesCallback(function(o){t.setVideoInputs(o),t.hasCameraCallback(e)});return}"undefined"!=typeof navigator&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(o){t.setVideoInputs(o),t.hasCameraCallback(e),t.updateCanFlipValue()}).catch(function(o){Camera.cameraList=null,t.hasCameraCallback(e)}):(Camera.cameraList=null,this.hasCameraCallback(e))},Camera.prototype.getMediaConstraints=function(e){var t=Camera.cameraList;if(Array.isArray(t)&&!(t.length<1)){Camera.cameraIndex<0&&(Camera.cameraIndex=0);var o=t[Camera.cameraIndex],n={};return o&&o.deviceId?n.deviceId={exact:o.deviceId}:n.facingMode=Camera.cameraFacingMode,e&&((null==e?void 0:e.height)&&(n.height={ideal:e.height}),(null==e?void 0:e.width)&&(n.width={ideal:e.width})),{video:n,audio:!1}}},Camera.prototype.startVideo=function(e,t,o,n){var r=this;if(!e){t(void 0);return}e.style.width="100%",e.style.height="auto",e.style.height="100%",e.style.objectFit="contain";var i=this.getMediaConstraints({width:o,height:n});navigator.mediaDevices.getUserMedia(i).then(function(o){var n;e.srcObject=o,(null===(n=Camera.cameraList[Camera.cameraIndex])||void 0===n?void 0:n.deviceId)||!o.getTracks()[0].getCapabilities().facingMode||(Camera.canSwitchFacingMode=!0,r.updateCanFlipValue()),e.play(),t(o)}).catch(function(e){t(void 0)})},Camera.prototype.getImageSize=function(e){return{width:e.videoWidth,height:e.videoHeight}},Camera.prototype.snap=function(e,t){if(!e||!eD.isAvailable())return!1;var o=eD.getDocument().createElement("canvas"),n=this.getImageSize(e);o.height=n.height,o.width=n.width;var r=o.getContext("2d");return r.clearRect(0,0,o.width,o.height),r.drawImage(e,0,0,o.width,o.height),o.toBlob(t,"image/png"),!0},Camera.prototype.updateCanFlipValue=function(){var e=Camera.cameraList;this.canFlipValue=Array.isArray(e)&&e.length>1||Camera.canSwitchFacingMode,this.onCanFlipChangedCallback&&this.onCanFlipChangedCallback(this.canFlipValue)},Camera.prototype.canFlip=function(e){return void 0===this.canFlipValue&&this.updateCanFlipValue(),e&&(this.onCanFlipChangedCallback=e),this.canFlipValue},Camera.prototype.flip=function(){this.canFlip()&&(Camera.canSwitchFacingMode?Camera.cameraFacingMode=Camera.cameraFacingMode===rZ?"environment":rZ:Camera.cameraIndex>=Camera.cameraList.length-1?Camera.cameraIndex=0:Camera.cameraIndex++)},Camera.prototype.hasCameraCallback=function(e){e(Array.isArray(Camera.cameraList))},Camera.prototype.setVideoInputs=function(e){var t=[];e.forEach(function(e){"videoinput"===e.kind&&t.push(e)}),Camera.setCameraList(t.length>0?t:null)},Camera.cameraIndex=-1,Camera.cameraFacingMode=rZ,Camera.canSwitchFacingMode=!1,Camera}(),rY=(ec=function(e,t){return(ec=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ec(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_file_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},rX=function(e){function QuestionFileModelBase(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUploading=!1,t.onUploadStateChanged=t.addEvent(),t.onStateChanged=t.addEvent(),t}return rY(QuestionFileModelBase,e),QuestionFileModelBase.prototype.stateChanged=function(e){this.currentState!=e&&("loading"===e&&(this.isUploading=!0),"loaded"===e&&(this.isUploading=!1),"error"===e&&(this.isUploading=!1),this.currentState=e,this.onStateChanged.fire(this,{state:e}),this.onUploadStateChanged.fire(this,{state:e}))},Object.defineProperty(QuestionFileModelBase.prototype,"showLoadingIndicator",{get:function(){return this.isUploading&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModelBase.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(e){this.setPropertyValue("storeDataAsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModelBase.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(e){this.setPropertyValue("waitForUpload",e)},enumerable:!1,configurable:!0}),QuestionFileModelBase.prototype.clearValue=function(t){this.clearOnDeletingContainer(),e.prototype.clearValue.call(this,t)},QuestionFileModelBase.prototype.clearOnDeletingContainer=function(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,function(){})},QuestionFileModelBase.prototype.onCheckForErrors=function(t,o,n){e.prototype.onCheckForErrors.call(this,t,o,n),this.isUploading&&this.waitForUpload&&t.push(new on(this.getLocalizationString("uploadingFile"),this))},QuestionFileModelBase.prototype.uploadFiles=function(e){var t=this;this.survey&&(this.stateChanged("loading"),this.survey.uploadFiles(this,this.name,e,function(e,o){Array.isArray(e)&&(t.setValueFromResult(e),Array.isArray(o)&&(o.forEach(function(e){return t.errors.push(new on(e,t))}),t.stateChanged("error"))),"success"===e&&Array.isArray(o)&&t.setValueFromResult(o),"error"===e&&("string"==typeof o&&t.errors.push(new on(o,t)),Array.isArray(o)&&o.length>0&&o.forEach(function(e){return t.errors.push(new on(e,t))}),t.stateChanged("error")),t.stateChanged("loaded")}))},QuestionFileModelBase.prototype.loadPreview=function(e){},QuestionFileModelBase.prototype.onChangeQuestionValue=function(t){e.prototype.onChangeQuestionValue.call(this,t),this.stateChanged(this.isEmpty()?"empty":"loaded")},QuestionFileModelBase.prototype.getIsQuestionReady=function(){return e.prototype.getIsQuestionReady.call(this)&&!this.isFileLoading},Object.defineProperty(QuestionFileModelBase.prototype,"isFileLoading",{get:function(){return this.isFileLoadingValue},set:function(e){this.isFileLoadingValue=e,this.updateIsReady()},enumerable:!1,configurable:!0}),question_file_decorate([jsonobject_property()],QuestionFileModelBase.prototype,"isUploading",void 0),question_file_decorate([jsonobject_property({defaultValue:"empty"})],QuestionFileModelBase.prototype,"currentState",void 0),QuestionFileModelBase}(ox),r1=function(e){function QuestionFilePage(t,o){var n=e.call(this)||this;return n.question=t,n.index=o,n.id=QuestionFilePage.getId(),n}return rY(QuestionFilePage,e),QuestionFilePage.getId=function(){return"sv_sfp_"+QuestionFilePage.pageCounter++},Object.defineProperty(QuestionFilePage.prototype,"css",{get:function(){return this.question.cssClasses.page},enumerable:!1,configurable:!0}),QuestionFilePage.pageCounter=0,question_file_decorate([propertyArray({})],QuestionFilePage.prototype,"items",void 0),QuestionFilePage}(ty),r0=function(e){function QuestionFileModel(t){var o=e.call(this,t)||this;return o.isDragging=!1,o.fileNavigator=new tV,o.canFlipCameraValue=void 0,o.prevPreviewLength=0,o._renderedPages=[],o.pagesAnimation=new tU(o.getPagesAnimationOptions(),function(e){o._renderedPages=e},function(){return o.renderedPages}),o.calcAvailableItemsCount=function(e,t,o){var n=Math.floor(e/(t+o));return(n+1)*(t+o)-o<=e&&n++,n},o.dragCounter=0,o.onDragEnter=function(e){o.canDragDrop()&&(e.preventDefault(),o.isDragging=!0,o.dragCounter++)},o.onDragOver=function(e){if(!o.canDragDrop())return e.returnValue=!1,!1;e.dataTransfer.dropEffect="copy",e.preventDefault()},o.onDrop=function(e){if(o.canDragDrop()){o.isDragging=!1,o.dragCounter=0,e.preventDefault();var t=e.dataTransfer;o.onChange(t)}},o.onDragLeave=function(e){o.canDragDrop()&&(o.dragCounter--,0===o.dragCounter&&(o.isDragging=!1))},o.doChange=function(e){var t=e.target||e.srcElement;o.onChange(t)},o.doClean=function(){if(o.needConfirmRemoveFile){confirmActionAsync(o.confirmRemoveAllMessage,function(){o.clearFilesCore()},void 0,o.getLocale(),o.survey.rootElement);return}o.clearFilesCore()},o.doDownloadFileFromContainer=function(e){e.stopPropagation();var t=e.currentTarget;if(t&&t.getElementsByTagName){var o=t.getElementsByTagName("a")[0];null==o||o.click()}},o.doDownloadFile=function(e,t){e.stopPropagation(),detectIEOrEdge()&&(e.preventDefault(),loadFileFromBase64(t.content,t.name))},o.createLocalizableString("takePhotoCaption",o,!1,!0),o.createLocalizableString("clearCaption",o,!1,!0),o.actionsContainer=new tV,o.actionsContainer.locOwner=o,o.fileIndexAction=new tQ({id:"fileIndex",title:o.getFileIndexCaption(),enabled:!1}),o.prevFileAction=new tQ({id:"prevPage",iconSize:16,action:function(){o.navigationDirection="left",o.indexToShow=o.previewValue.length&&(o.indexToShow-1+o.pagesCount)%o.pagesCount||0,o.fileIndexAction.title=o.getFileIndexCaption()}}),o.nextFileAction=new tQ({id:"nextPage",iconSize:16,action:function(){o.navigationDirection="right",o.indexToShow=o.previewValue.length&&(o.indexToShow+1)%o.pagesCount||0,o.fileIndexAction.title=o.getFileIndexCaption()}}),o.takePictureAction=new tQ({iconName:"icon-takepicture",id:"sv-file-take-picture",iconSize:"auto",innerCss:new tf(function(){return new tP().append(o.cssClasses.contextButton).append(o.cssClasses.takePictureButton).toString()}),locTitle:o.locTakePhotoCaption,showTitle:!1,action:function(){o.snapPicture()}}),o.closeCameraAction=new tQ({iconName:"icon-closecamera",id:"sv-file-close-camera",iconSize:"auto",innerCss:new tf(function(){return new tP().append(o.cssClasses.contextButton).append(o.cssClasses.closeCameraButton).toString()}),action:function(){o.stopVideo()}}),o.changeCameraAction=new tQ({iconName:"icon-changecamera",id:"sv-file-change-camera",iconSize:"auto",innerCss:new tf(function(){return new tP().append(o.cssClasses.contextButton).append(o.cssClasses.changeCameraButton).toString()}),visible:new tf(function(){return o.canFlipCamera()}),action:function(){o.flipCamera()}}),o.chooseFileAction=new tQ({iconName:"icon-choosefile",id:"sv-file-choose-file",iconSize:"auto",data:{question:o},enabledIf:function(){return!o.isInputReadOnly},component:"sv-file-choose-btn"}),o.startCameraAction=new tQ({iconName:"icon-takepicture_24x24",id:"sv-file-start-camera",iconSize:"auto",locTitle:o.locTakePhotoCaption,showTitle:new tf(function(){return!o.isAnswered}),enabledIf:function(){return!o.isInputReadOnly},action:function(){o.startVideo()}}),o.cleanAction=new tQ({iconName:"icon-clear",id:"sv-file-clean",iconSize:"auto",locTitle:o.locClearButtonCaption,showTitle:!1,enabledIf:function(){return!o.isInputReadOnly},innerCss:new tf(function(){return o.cssClasses.removeButton}),action:function(){o.doClean()}}),[o.closeCameraAction,o.changeCameraAction,o.takePictureAction].forEach(function(e){e.cssClasses={}}),o.registerFunctionOnPropertiesValueChanged(["sourceType","currentMode","isAnswered"],function(){o.updateActionsVisibility()}),o.actionsContainer.actions=[o.chooseFileAction,o.startCameraAction,o.cleanAction],o.fileNavigator.actions=[o.prevFileAction,o.fileIndexAction,o.nextFileAction],o}return rY(QuestionFileModel,e),Object.defineProperty(QuestionFileModel.prototype,"supportFileNavigator",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"fileNavigatorVisible",{get:function(){var e=this.isUploading,t=this.isPlayingVideo,o=this.containsMultiplyFiles,n=this.pageSize<this.previewValue.length;return!e&&!t&&o&&n&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"pagesCount",{get:function(){return Math.ceil(this.previewValue.length/this.pageSize)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"actionsContainerVisible",{get:function(){var e=this.isUploading,t=this.isPlayingVideo,o=this.isDefaultV2Theme;return!e&&!t&&o},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"videoId",{get:function(){return this.id+"_video"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"hasVideoUI",{get:function(){return"file"!==this.currentMode},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"hasFileUI",{get:function(){return"camera"!==this.currentMode},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.startVideo=function(){var e=this;"file"===this.currentMode||this.isDesignMode||this.isPlayingVideo||(this.setIsPlayingVideo(!0),setTimeout(function(){e.startVideoInCamera()},0))},Object.defineProperty(QuestionFileModel.prototype,"videoHtmlElement",{get:function(){var e;return null===(e=this.rootElement)||void 0===e?void 0:e.querySelector("#"+this.videoId)},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.startVideoInCamera=function(){var e=this;this.camera.startVideo(this.videoHtmlElement,function(t){e.videoStream=t,t||e.stopVideo()},getRenderedSize(this.imageWidth),getRenderedSize(this.imageHeight))},QuestionFileModel.prototype.stopVideo=function(){this.setIsPlayingVideo(!1),this.closeVideoStream()},QuestionFileModel.prototype.snapPicture=function(){var e=this;this.isPlayingVideo&&(this.camera.snap(this.videoHtmlElement,function(t){if(t){var o=new File([t],"snap_picture.png",{type:"image/png"});e.loadFiles([o])}}),this.stopVideo())},QuestionFileModel.prototype.canFlipCamera=function(){var e=this;return void 0===this.canFlipCameraValue&&(this.canFlipCameraValue=this.camera.canFlip(function(t){e.canFlipCameraValue=t})),this.canFlipCameraValue},QuestionFileModel.prototype.flipCamera=function(){this.canFlipCamera()&&(this.closeVideoStream(),this.camera.flip(),this.startVideoInCamera())},QuestionFileModel.prototype.closeVideoStream=function(){this.videoStream&&(this.videoStream.getTracks().forEach(function(e){e.stop()}),this.videoStream=void 0)},QuestionFileModel.prototype.onHidingContent=function(){e.prototype.onHidingContent.call(this),this.stopVideo()},QuestionFileModel.prototype.updateElementCssCore=function(t){e.prototype.updateElementCssCore.call(this,t),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId,this.updateCurrentMode()},QuestionFileModel.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.pagesCount)},QuestionFileModel.prototype.updateFileNavigator=function(){this.updatePages(),this.navigationDirection=void 0,this.indexToShow=this.previewValue.length&&(this.indexToShow+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()},QuestionFileModel.prototype.updateRenderedPages=function(){this.pages&&this.pages[this.indexToShow]&&(this.renderedPages=[this.pages[this.indexToShow]])},QuestionFileModel.prototype.updatePages=function(){var e,t=this;this.blockAnimations(),this.pages=[],this.renderedPages=[],this.previewValue.forEach(function(o,n){n%t.pageSize==0&&(e=new r1(t,t.pages.length),t.pages.push(e)),e.items.push(o)}),this.releaseAnimations(),this.updateRenderedPages()},QuestionFileModel.prototype.previewValueChanged=function(){var e=this;this.navigationDirection=void 0,this.previewValue.length!==this.prevPreviewLength&&(this.previewValue.length>0?this.prevPreviewLength>this.previewValue.length?this.indexToShow>=this.pagesCount&&this.indexToShow>0&&(this.indexToShow=this.pagesCount-1,this.navigationDirection="left-delete"):this.indexToShow=Math.floor(this.prevPreviewLength/this.pageSize):this.indexToShow=0),this.updatePages(),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1,!(this.previewValue.length>0)||this.calculatedGapBetweenItems||this.calculatedItemWidth||setTimeout(function(){e.processResponsiveness(0,e._width)}),this.prevPreviewLength=this.previewValue.length},QuestionFileModel.prototype.getType=function(){return"file"},QuestionFileModel.prototype.onChangeQuestionValue=function(t){e.prototype.onChangeQuestionValue.call(this,t),this.isLoadingFromJson||this.loadPreview(t)},Object.defineProperty(QuestionFileModel.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(e){this.setPropertyValue("showPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple")},set:function(e){this.setPropertyValue("allowMultiple",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(e){this.setPropertyValue("acceptedTypes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(e){this.setPropertyValue("allowImagesPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(e){this.setPropertyValue("maxSize",e)},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.chooseFile=function(e){var t=this;if(this.rootElement){var o=this.rootElement.querySelector("#"+this.inputId);o&&(e.preventDefault(),e.stopImmediatePropagation(),o&&(this.survey?this.survey.chooseFiles(o,function(e){return t.loadFiles(e)},{element:this,elementType:this.getType(),propertyName:this.name}):o.click()))}},Object.defineProperty(QuestionFileModel.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(e){this.setPropertyValue("needConfirmRemoveFile",e)},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.getConfirmRemoveMessage=function(e){return this.confirmRemoveMessage.format(e)},Object.defineProperty(QuestionFileModel.prototype,"takePhotoCaption",{get:function(){return this.getLocalizableStringText("takePhotoCaption")},set:function(e){this.setLocalizableStringText("takePhotoCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"locTakePhotoCaption",{get:function(){return this.getLocalizableString("takePhotoCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"clearButtonCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"locClearButtonCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"locRenderedPlaceholder",{get:function(){var e=this;return void 0===this.locRenderedPlaceholderValue&&(this.locRenderedPlaceholderValue=new tf(function(){var t=e.isReadOnly,o=!e.isDesignMode&&e.hasFileUI||e.isDesignMode&&"camera"!=e.sourceType,n=!e.isDesignMode&&e.hasVideoUI||e.isDesignMode&&"file"!=e.sourceType;return t?e.locNoFileChosenCaption:o&&n?e.locFileOrPhotoPlaceholder:o?e.locFilePlaceholder:e.locPhotoPlaceholder})),this.locRenderedPlaceholderValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"currentMode",{get:function(){return this.getPropertyValue("currentMode",this.sourceType)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"isPlayingVideo",{get:function(){return this.getPropertyValue("isPlayingVideo",!1)},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.setIsPlayingVideo=function(e){this.setPropertyValue("isPlayingVideo",e)},QuestionFileModel.prototype.updateCurrentMode=function(){var e=this;this.isDesignMode||("file"!==this.sourceType?this.camera.hasCamera(function(t){e.setPropertyValue("currentMode",t&&e.isDefaultV2Theme?e.sourceType:"file")}):this.setPropertyValue("currentMode",this.sourceType))},QuestionFileModel.prototype.updateActionsVisibility=function(){var e=this.isDesignMode;this.chooseFileAction.visible=!e&&this.hasFileUI||e&&"camera"!==this.sourceType,this.startCameraAction.visible=!e&&this.hasVideoUI||e&&"file"!==this.sourceType,this.cleanAction.visible=!!this.isAnswered},Object.defineProperty(QuestionFileModel.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"chooseButtonText",{get:function(){return this.isEmpty()||this.allowMultiple?this.chooseButtonCaption:this.replaceButtonCaption},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.clear=function(e){var t=this;this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(o,n){"success"===o&&(t.value=void 0,t.errors=[],e&&e(),t.indexToShow=0,t.fileIndexAction.title=t.getFileIndexCaption())}))},Object.defineProperty(QuestionFileModel.prototype,"renderCapture",{get:function(){return this.allowCameraAccess?"user":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"showChooseButton",{get:function(){return!this.isReadOnly&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"showFileDecorator",{get:function(){var e=this.isPlayingVideo,t=this.showLoadingIndicator;return!e&&!t},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"allowShowPreview",{get:function(){var e=this.showLoadingIndicator,t=this.isPlayingVideo;return!e&&!t},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"showPreviewContainer",{get:function(){return this.previewValue&&this.previewValue.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"showRemoveButtonCore",{get:function(){var e=this.showLoadingIndicator,t=this.isReadOnly,o=this.isEmpty();return!t&&!o&&!e&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"showRemoveButton",{get:function(){return this.showRemoveButtonCore&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionFileModel.prototype,"showRemoveButtonBottom",{get:function(){var e=new tP().append(this.cssClasses.removeButtonBottom).append(this.cssClasses.contextButton).toString();return this.showRemoveButtonCore&&e},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.defaultImage=function(e){return!this.canPreviewImage(e)&&!!this.cssClasses.defaultImage},QuestionFileModel.prototype.removeFile=function(e){this.removeFileByContent(this.value.filter(function(t){return t.name===e})[0])},QuestionFileModel.prototype.removeFileByContent=function(e){var t=this;this.survey&&this.survey.clearFiles(this,this.name,this.value,e.name,function(o,n){if("success"===o){var r=t.value;Array.isArray(r)?t.value=r.filter(function(t){return!eQ.isTwoValueEquals(t,e,!0,!1,!1)}):t.value=void 0}})},QuestionFileModel.prototype.setValueFromResult=function(e){this.value=(this.value||[]).concat(e.map(function(e){return{name:e.file.name,type:e.file.type,content:e.content}}))},QuestionFileModel.prototype.loadFiles=function(e){var t=this;if(this.survey&&(this.errors=[],this.allFilesOk(e))){var loadFilesProc=function(){t.stateChanged("loading");var o=[];t.storeDataAsText?e.forEach(function(n){var r=new FileReader;r.onload=function(i){(o=o.concat([{name:n.name,type:n.type,content:r.result}])).length===e.length&&(t.value=(t.value||[]).concat(o))},r.readAsDataURL(n)}):t.uploadFiles(e)};this.allowMultiple?loadFilesProc():this.clear(loadFilesProc)}},Object.defineProperty(QuestionFileModel.prototype,"camera",{get:function(){return this.cameraValue||(this.cameraValue=new rK),this.cameraValue},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.canPreviewImage=function(e){return this.allowImagesPreview&&!!e&&this.isFileImage(e)},QuestionFileModel.prototype.loadPreview=function(e){var t=this;if(this.previewValue.splice(0,this.previewValue.length),this.showPreview&&e){var o=Array.isArray(e)?e:e?[e]:[];this.storeDataAsText?(o.forEach(function(e){var o=e.content||e;t.previewValue.push({name:e.name,type:e.type,content:o})}),this.previewValueChanged()):(this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new r2(this,function(e,o){"error"!==e&&(o.forEach(function(e){t.previewValue.push(e)}),t.previewValueChanged()),t.isFileLoading=!1,t._previewLoader.dispose(),t._previewLoader=void 0}),this._previewLoader.load(o))}},QuestionFileModel.prototype.allFilesOk=function(e){var t=this,o=this.errors?this.errors.length:0;return(e||[]).forEach(function(e){t.maxSize>0&&e.size>t.maxSize&&t.errors.push(new t8(t.maxSize,t))}),o===this.errors.length},QuestionFileModel.prototype.isFileImage=function(e){if(!e||!e.content||!e.content.substring)return!1;var t="data:image",o=e.content&&e.content.substring(0,t.length);return(o=o&&o.toLowerCase())===t||!!e.type&&0===e.type.toLowerCase().indexOf("image/")},QuestionFileModel.prototype.getPlainData=function(t){void 0===t&&(t={includeEmpty:!0});var o=e.prototype.getPlainData.call(this,t);if(o&&!this.isEmpty()){o.isNode=!1;var n=Array.isArray(this.value)?this.value:[this.value];o.data=n.map(function(e,t){return{name:t,title:"File",value:e.content&&e.content||e,displayValue:e.name&&e.name||e,getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!1}})}return o},QuestionFileModel.prototype.getImageWrapperCss=function(e){return new tP().append(this.cssClasses.imageWrapper).append(this.cssClasses.imageWrapperDefaultImage,this.defaultImage(e)).toString()},QuestionFileModel.prototype.getActionsContainerCss=function(e){return new tP().append(e.actionsContainer).append(e.actionsContainerAnswered,this.isAnswered).toString()},QuestionFileModel.prototype.getRemoveButtonCss=function(){return new tP().append(this.cssClasses.removeFileButton).append(this.cssClasses.contextButton).toString()},QuestionFileModel.prototype.getChooseFileCss=function(){var e=this.isAnswered;return new tP().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!e).append(this.cssClasses.chooseFileAsTextDisabled,!e&&this.isInputReadOnly).append(this.cssClasses.contextButton,e).append(this.cssClasses.chooseFileAsIcon,e).toString()},QuestionFileModel.prototype.getReadOnlyFileCss=function(){return new tP().append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(QuestionFileModel.prototype,"fileRootCss",{get:function(){return new tP().append(this.cssClasses.root).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDragging,this.isDragging).append(this.cssClasses.rootAnswered,this.isAnswered).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.getFileDecoratorCss=function(){return new tP().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},QuestionFileModel.prototype.onChange=function(e){if(eE.isFileReaderAvailable()&&e&&e.files&&!(e.files.length<1)){for(var t=[],o=this.allowMultiple?e.files.length:1,n=0;n<o;n++)t.push(e.files[n]);e.value="",this.loadFiles(t)}},QuestionFileModel.prototype.calcCssClasses=function(t){var o=e.prototype.calcCssClasses.call(this,t);return this.actionsContainer.cssClasses=t.actionBar,this.actionsContainer.cssClasses.itemWithTitle=this.actionsContainer.cssClasses.item,this.actionsContainer.cssClasses.item="",this.actionsContainer.cssClasses.itemAsIcon=o.contextButton,this.actionsContainer.containerCss=o.actionsContainer,o},QuestionFileModel.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.updateCurrentMode(),this.updateActionsVisibility(),this.loadPreview(this.value)},QuestionFileModel.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},QuestionFileModel.prototype.supportResponsiveness=function(){return!0},QuestionFileModel.prototype.getObservedElementSelector=function(){return classesToSelector(this.cssClasses.dragArea)},QuestionFileModel.prototype.getFileListSelector=function(){return classesToSelector(this.cssClasses.fileList)},Object.defineProperty(QuestionFileModel.prototype,"renderedPages",{get:function(){return this._renderedPages},set:function(e){this.pagesAnimation.sync(e)},enumerable:!1,configurable:!0}),QuestionFileModel.prototype.getPagesAnimationOptions=function(){var e=this;return{getEnterOptions:function(t){var o=e.cssClasses.page;return{cssClass:o?new tP().append(o+"--enter-from-left","left"==e.navigationDirection||"left-delete"==e.navigationDirection).append(o+"--enter-from-right","right"==e.navigationDirection).toString():""}},getLeaveOptions:function(t){var o=e.cssClasses.page;return{cssClass:o?new tP().append(o+"--leave-to-left","right"==e.navigationDirection).append(o+"--leave-to-right","left"==e.navigationDirection).toString():""}},getAnimatedElement:function(t){var o;return null===(o=e.rootElement)||void 0===o?void 0:o.querySelector("#"+t.id)},isAnimationEnabled:function(){return e.animationAllowed&&!!e.rootElement},getRerenderEvent:function(){return e.onElementRerendered}}},QuestionFileModel.prototype.triggerResponsiveness=function(t){t&&(this.calculatedGapBetweenItems=void 0,this.calculatedItemWidth=void 0),e.prototype.triggerResponsiveness.call(this)},QuestionFileModel.prototype.processResponsiveness=function(e,t){if(this._width=t,this.rootElement&&(!this.calculatedGapBetweenItems||!this.calculatedItemWidth)&&this.allowMultiple){var o=this.getFileListSelector()?this.rootElement.querySelector(this.getFileListSelector()):void 0;if(o){var n=o.querySelector(classesToSelector(this.cssClasses.page));if(n){var r=n.querySelector(classesToSelector(this.cssClasses.previewItem));this.calculatedGapBetweenItems=Math.ceil(Number.parseFloat(eD.getComputedStyle(n).gap)),r&&(this.calculatedItemWidth=Math.ceil(Number.parseFloat(eD.getComputedStyle(r).width)))}}}return!!this.calculatedGapBetweenItems&&!!this.calculatedItemWidth&&(this.pageSize=this.calcAvailableItemsCount(t,this.calculatedItemWidth,this.calculatedGapBetweenItems),!0)},QuestionFileModel.prototype.canDragDrop=function(){return!this.isInputReadOnly&&"camera"!==this.currentMode&&!this.isPlayingVideo},QuestionFileModel.prototype.afterRenderQuestionElement=function(e){this.rootElement=e},QuestionFileModel.prototype.beforeDestroyQuestionElement=function(e){this.rootElement=void 0},QuestionFileModel.prototype.clearFilesCore=function(){if(this.rootElement){var e=this.rootElement.querySelectorAll("input")[0];e&&(e.value="")}this.clear()},QuestionFileModel.prototype.doRemoveFile=function(e,t){var o=this;if(t.stopPropagation(),this.needConfirmRemoveFile){confirmActionAsync(this.getConfirmRemoveMessage(e.name),function(){o.removeFileCore(e)},void 0,this.getLocale(),this.survey.rootElement);return}this.removeFileCore(e)},QuestionFileModel.prototype.removeFileCore=function(e){var t=this.previewValue.indexOf(e);this.removeFileByContent(-1===t?e:this.value[t])},QuestionFileModel.prototype.dispose=function(){this.cameraValue=void 0,this.closeVideoStream(),e.prototype.dispose.call(this)},question_file_decorate([jsonobject_property()],QuestionFileModel.prototype,"isDragging",void 0),question_file_decorate([propertyArray({})],QuestionFileModel.prototype,"previewValue",void 0),question_file_decorate([propertyArray({})],QuestionFileModel.prototype,"pages",void 0),question_file_decorate([jsonobject_property({defaultValue:0,onSet:function(e,t){t.updateRenderedPages()}})],QuestionFileModel.prototype,"indexToShow",void 0),question_file_decorate([jsonobject_property({defaultValue:1,onSet:function(e,t){t.updateFileNavigator()}})],QuestionFileModel.prototype,"pageSize",void 0),question_file_decorate([jsonobject_property({defaultValue:!1})],QuestionFileModel.prototype,"containsMultiplyFiles",void 0),question_file_decorate([jsonobject_property()],QuestionFileModel.prototype,"allowCameraAccess",void 0),question_file_decorate([jsonobject_property({onSet:function(e,t){t.isLoadingFromJson||t.updateCurrentMode()}})],QuestionFileModel.prototype,"sourceType",void 0),question_file_decorate([jsonobject_property()],QuestionFileModel.prototype,"canFlipCameraValue",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"confirmRemoveFile"}})],QuestionFileModel.prototype,"confirmRemoveMessage",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"confirmRemoveAllFiles"}})],QuestionFileModel.prototype,"confirmRemoveAllMessage",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"noFileChosen"}})],QuestionFileModel.prototype,"noFileChosenCaption",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"chooseFileCaption"}})],QuestionFileModel.prototype,"chooseButtonCaption",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"replaceFileCaption"}})],QuestionFileModel.prototype,"replaceButtonCaption",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"removeFileCaption"}})],QuestionFileModel.prototype,"removeFileCaption",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"loadingFile"}})],QuestionFileModel.prototype,"loadingFileTitle",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"chooseFile"}})],QuestionFileModel.prototype,"chooseFileTitle",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"fileOrPhotoPlaceholder"}})],QuestionFileModel.prototype,"fileOrPhotoPlaceholder",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"photoPlaceholder"}})],QuestionFileModel.prototype,"photoPlaceholder",void 0),question_file_decorate([jsonobject_property({localizable:{defaultStr:"filePlaceholder"}})],QuestionFileModel.prototype,"filePlaceholder",void 0),question_file_decorate([jsonobject_property()],QuestionFileModel.prototype,"locRenderedPlaceholderValue",void 0),question_file_decorate([propertyArray()],QuestionFileModel.prototype,"_renderedPages",void 0),QuestionFileModel}(rX);eY.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0,visible:!1},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0,dependsOn:"showPreview",visibleIf:function(e){return!!e.showPreview}},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"sourceType",choices:["file","camera","file-camera"],default:"file",category:"general",visible:!0,visibleIf:function(){return t0.supportCreatorV2}},{name:"fileOrPhotoPlaceholder:text",serializationProperty:"locFileOrPhotoPlaceholder",category:"general",visibleIf:function(){return t0.supportCreatorV2}},{name:"photoPlaceholder:text",serializationProperty:"locPhotoPlaceholder",category:"general",visibleIf:function(){return t0.supportCreatorV2}},{name:"filePlaceholder:text",serializationProperty:"locFilePlaceholder",category:"general",visibleIf:function(){return t0.supportCreatorV2}},{name:"allowCameraAccess:switch",category:"general",visible:!1}],function(){return new r0("")},"question"),oJ.Instance.registerQuestion("file",function(e){return new r0(e)});var r2=function(){function FileLoader(e,t){this.fileQuestion=e,this.callback=t,this.loaded=[]}return FileLoader.prototype.load=function(e){var t=this,o=0;this.loaded=Array(e.length),e.forEach(function(n,r){t.fileQuestion.survey&&t.fileQuestion.survey.downloadFile(t.fileQuestion,t.fileQuestion.name,n,function(i,s){t.fileQuestion&&t.callback&&("error"!==i?(t.loaded[r]={content:s,name:n.name,type:n.type},++o===e.length&&t.callback(i,t.loaded)):t.callback("error",t.loaded))})})},FileLoader.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},FileLoader}(),r5=(ep=function(e,t){return(ep=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ep(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),r7=function(e){function QuestionHtmlModel(t){var o=e.call(this,t)||this;return o.createLocalizableString("html",o).onGetTextCallback=function(e){return o.survey&&!o.ignoreHtmlProgressing?o.processHtml(e):e},o}return r5(QuestionHtmlModel,e),QuestionHtmlModel.prototype.getType=function(){return"html"},Object.defineProperty(QuestionHtmlModel.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),QuestionHtmlModel.prototype.getProcessedText=function(t){return this.ignoreHtmlProgressing?t:e.prototype.getProcessedText.call(this,t)},Object.defineProperty(QuestionHtmlModel.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionHtmlModel.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionHtmlModel.prototype,"processedHtml",{get:function(){return this.processHtml(this.html)},enumerable:!1,configurable:!0}),QuestionHtmlModel.prototype.processHtml=function(e){return this.survey?this.survey.processHtml(e,"html-question"):this.html},Object.defineProperty(QuestionHtmlModel.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionHtmlModel.prototype,"renderCssRoot",{get:function(){return new tP().append(this.cssClasses.root).append(this.cssClasses.nested,this.getIsNested()).toString()||void 0},enumerable:!1,configurable:!0}),QuestionHtmlModel}(rT);eY.addClass("html",[{name:"html:html",serializationProperty:"locHtml"},{name:"hideNumber",visible:!1},{name:"state",visible:!1},{name:"titleLocation",visible:!1},{name:"descriptionLocation",visible:!1},{name:"errorLocation",visible:!1},{name:"indent",visible:!1},{name:"width",visible:!1}],function(){return new r7("")},"nonvalue"),oJ.Instance.registerQuestion("html",function(e){return new r7(e)});var r4=(ed=function(e,t){return(ed=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ed(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),r9=function(e){function QuestionRadiogroupModel(t){return e.call(this,t)||this}return r4(QuestionRadiogroupModel,e),QuestionRadiogroupModel.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},QuestionRadiogroupModel.prototype.getType=function(){return"radiogroup"},QuestionRadiogroupModel.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(QuestionRadiogroupModel.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRadiogroupModel.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(e){this.setPropertyValue("showClearButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRadiogroupModel.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRadiogroupModel.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),QuestionRadiogroupModel.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown&&!this.isOtherSelected},QuestionRadiogroupModel.prototype.getConditionJson=function(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n=e.prototype.getConditionJson.call(this,t,o);return delete n.showClearButton,n},QuestionRadiogroupModel.prototype.setNewComment=function(t){this.isMouseDown=!0,e.prototype.setNewComment.call(this,t),this.isMouseDown=!1},Object.defineProperty(QuestionRadiogroupModel.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),QuestionRadiogroupModel.prototype.clickItemHandler=function(e){this.isReadOnlyAttr||(this.renderedValue=e.value)},QuestionRadiogroupModel.prototype.getDefaultTitleActions=function(){var e=this,t=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var o=new tQ({title:this.clearButtonCaption,id:"sv-clr-btn-"+this.id,action:function(){e.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new tf(function(){return e.canShowClearButton})});t.push(o)}return t},Object.defineProperty(QuestionRadiogroupModel.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRadiogroupModel.prototype,"a11y_input_ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),QuestionRadiogroupModel}(n2);eY.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new r9("")},"checkboxbase"),oJ.Instance.registerQuestion("radiogroup",function(e){var t=new r9(e);return t.choices=oJ.DefaultChoices,t});var r3=(eh=function(e,t){return(eh=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eh(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_rating_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r6=function(e){function RenderedRatingItem(t,o){void 0===o&&(o=null);var n=e.call(this)||this;return n.itemValue=t,n.locString=o,n.locText.onStringChanged.add(n.onStringChangedCallback.bind(n)),n.onStringChangedCallback(),n}return r3(RenderedRatingItem,e),RenderedRatingItem.prototype.onStringChangedCallback=function(){this.text=this.itemValue.text},Object.defineProperty(RenderedRatingItem.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(RenderedRatingItem.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),question_rating_decorate([jsonobject_property({defaultValue:""})],RenderedRatingItem.prototype,"highlight",void 0),question_rating_decorate([jsonobject_property({defaultValue:""})],RenderedRatingItem.prototype,"text",void 0),question_rating_decorate([jsonobject_property()],RenderedRatingItem.prototype,"style",void 0),RenderedRatingItem}(ty),r8=function(e){function RatingItemValue(t,o,n){var r=e.call(this,t,o)||this;return r.description=n,r}return r3(RatingItemValue,e),RatingItemValue}(oV),ie=function(e){function QuestionRatingModel(t){var o=e.call(this,t)||this;return o._syncPropertiesChanging=!1,o.createItemValues("rateValues"),o.createRenderedRateItems(),o.createLocalizableString("ratingOptionsCaption",o,!1,!0),o.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return o.createRenderedRateItems()}),o.registerFunctionOnPropertiesValueChanged(["rateType"],function(){o.setIconsToRateValues(),o.createRenderedRateItems(),o.updateRateCount()}),o.registerFunctionOnPropertiesValueChanged(["rateValues"],function(){o.setIconsToRateValues(),o.createRenderedRateItems()}),o.registerSychProperties(["rateValues"],function(){o.autoGenerate=0==o.rateValues.length,o.setIconsToRateValues(),o.createRenderedRateItems()}),o.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],function(){o.updateColors(o.survey.themeVariables)}),o.registerFunctionOnPropertiesValueChanged(["displayMode"],function(){o.updateRenderAsBasedOnDisplayMode(!0)}),o.registerSychProperties(["autoGenerate"],function(){o.autoGenerate||0!==o.rateValues.length||o.setPropertyValue("rateValues",o.visibleRateValues),o.autoGenerate&&(o.rateValues.splice(0,o.rateValues.length),o.updateRateMax()),o.createRenderedRateItems()}),o.createLocalizableString("minRateDescription",o,!0).onStringChanged.add(function(e,t){o.hasMinRateDescription=!e.isEmpty}),o.createLocalizableString("maxRateDescription",o,!0).onStringChanged.add(function(e,t){o.hasMaxRateDescription=!e.isEmpty}),o.initPropertyDependencies(),o}return r3(QuestionRatingModel,e),QuestionRatingModel.prototype.setIconsToRateValues=function(){var e=this;"smileys"==this.rateType&&this.rateValues.map(function(t){return t.icon=e.getItemSmiley(t)})},QuestionRatingModel.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),void 0!==this.jsonObj.rateMin&&void 0!==this.jsonObj.rateCount&&void 0===this.jsonObj.rateMax&&this.updateRateMax(),void 0!==this.jsonObj.rateMax&&void 0!==this.jsonObj.rateCount&&void 0===this.jsonObj.rateMin&&this.updateRateMin(),void 0===this.jsonObj.autoGenerate&&void 0!==this.jsonObj.rateValues&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues(),this.createRenderedRateItems()},QuestionRatingModel.prototype.registerSychProperties=function(e,t){var o=this;this.registerFunctionOnPropertiesValueChanged(e,function(){o._syncPropertiesChanging||(o._syncPropertiesChanging=!0,t(),o._syncPropertiesChanging=!1)})},QuestionRatingModel.prototype.useRateValues=function(){return!!this.rateValues.length&&!this.autoGenerate},QuestionRatingModel.prototype.updateRateMax=function(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)},QuestionRatingModel.prototype.updateRateMin=function(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)},QuestionRatingModel.prototype.updateRateCount=function(){var e=0;(e=this.useRateValues()?this.rateValues.length:Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1)>10&&"smileys"==this.rateDisplayMode&&(e=10),this.rateCount=e,this.rateValues.length>e&&this.rateValues.splice(e,this.rateValues.length-e)},QuestionRatingModel.prototype.initPropertyDependencies=function(){var e=this;this.registerSychProperties(["rateCount"],function(){if(e.useRateValues()){if(e.rateCount<e.rateValues.length)e.rateCount>=10&&"smileys"==e.rateDisplayMode||e.rateValues.splice(e.rateCount,e.rateValues.length-e.rateCount);else for(var t=e.rateValues.length;t<e.rateCount;t++)e.rateValues.push(new oV(getLocaleString("choices_Item")+(t+1)))}else e.rateMax=e.rateMin+e.rateStep*(e.rateCount-1)}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],function(){e.updateRateCount()})},Object.defineProperty(QuestionRatingModel.prototype,"showSelectedItemLocText",{get:function(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"selectedItemLocText",{get:function(){var e,t=this;return!this.readOnly&&(null===(e=this.visibleRateValues.filter(function(e){return e.value==t.value})[0])||void 0===e?void 0:e.locText)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(e){this.setPropertyValue("rateValues",e),this.createRenderedRateItems()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(e){this.setPropertyValue("rateMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(e){this.setPropertyValue("rateMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(e){this.setPropertyValue("rateStep",e)},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.updateColors=function(e){function getColorFromProperty(e){var t=getComputedStyle(eD.getDocumentElement());return t.getPropertyValue&&t.getPropertyValue(e)}function getRGBColor(t,o){var n=!!e&&e[t];if(n||(n=getColorFromProperty(o)),!n)return null;var r=eD.createElement("canvas");if(!r)return null;var i=r.getContext("2d");i.fillStyle=n,"#000000"==i.fillStyle&&(i.fillStyle=getColorFromProperty(o));var s=i.fillStyle;if(s.startsWith("rgba"))return s.substring(5,s.length-1).split(",").map(function(e){return+e.trim()});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return a?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),1]:null}"monochrome"!==this.colorMode&&eD.isAvailable()&&(QuestionRatingModel.colorsCalculated||(QuestionRatingModel.badColor=getRGBColor("--sjs-special-red","--sd-rating-bad-color"),QuestionRatingModel.normalColor=getRGBColor("--sjs-special-yellow","--sd-rating-normal-color"),QuestionRatingModel.goodColor=getRGBColor("--sjs-special-green","--sd-rating-good-color"),QuestionRatingModel.badColorLight=getRGBColor("--sjs-special-red-light","--sd-rating-bad-color-light"),QuestionRatingModel.normalColorLight=getRGBColor("--sjs-special-yellow-light","--sd-rating-normal-color-light"),QuestionRatingModel.goodColorLight=getRGBColor("--sjs-special-green-light","--sd-rating-good-color-light"),this.colorsCalculated=!0))},QuestionRatingModel.prototype.getDisplayValueCore=function(t,o){return this.useRateValues?oV.getTextOrHtmlByValue(this.visibleRateValues,o)||o:e.prototype.getDisplayValueCore.call(this,t,o)},Object.defineProperty(QuestionRatingModel.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(e){return e.itemValue})},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.supportEmptyValidation=function(){return"dropdown"===this.renderAs},QuestionRatingModel.prototype.itemValuePropertyChanged=function(t,o,n,r){this.useRateValues()||void 0===r||(this.autoGenerate=!1),e.prototype.itemValuePropertyChanged.call(this,t,o,n,r)},QuestionRatingModel.prototype.createRenderedRateItems=function(){var e=this,t=[];t=this.useRateValues()?this.rateValues:this.createRateValues(),this.autoGenerate&&(this.rateMax=t[t.length-1].value),"smileys"==this.rateType&&t.length>10&&(t=t.slice(0,10)),this.visibleChoicesValue=t.map(function(t,o){return e.getRatingItemValue(t,o)}),this.renderedRateItems=t.map(function(o,n){var r=null;return e.displayRateDescriptionsAsExtremeItems&&(0==n&&(r=new r6(o,e.minRateDescription&&e.locMinRateDescription||o.locText)),n==t.length-1&&(r=new r6(o,e.maxRateDescription&&e.locMaxRateDescription||o.locText))),r||(r=new r6(o)),r})},QuestionRatingModel.prototype.createRateValues=function(){for(var e=[],t=this.rateMin,o=this.rateStep;t<=this.rateMax&&e.length<t0.ratingMaximumRateValueCount;){var n=new oV(t);n.locOwner=this,n.ownerPropertyName="rateValues",e.push(n),t=this.correctValue(t+o,o)}return e},QuestionRatingModel.prototype.getRatingItemValue=function(e,t){if(!e)return null;var o,n=e.value;n===this.rateMin&&(o=this.minRateDescription&&this.locMinRateDescription),(n===this.rateMax||t===t0.ratingMaximumRateValueCount)&&(o=this.maxRateDescription&&this.locMaxRateDescription);var r=new r8(n,e.text,o);return r.locOwner=e.locOwner,r.ownerPropertyName=e.ownerPropertyName,r},QuestionRatingModel.prototype.correctValue=function(e,t){if(!e||Math.round(e)==e)return e;for(var o=0;Math.round(t)!=t;)t*=10,o++;return parseFloat(e.toFixed(o))},QuestionRatingModel.prototype.getType=function(){return"rating"},QuestionRatingModel.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},QuestionRatingModel.prototype.getInputId=function(e){return this.inputId+"_"+e},Object.defineProperty(QuestionRatingModel.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown||"dropdown"===this.renderAs},QuestionRatingModel.prototype.supportOther=function(){return!1},QuestionRatingModel.prototype.getPlainDataCalculatedValue=function(t){var o=e.prototype.getPlainDataCalculatedValue.call(this,t);if(void 0!==o||!this.useRateValues||this.isEmpty())return o;var n=oV.getItemByValue(this.visibleRateValues,this.value);return n?n[t]:void 0},Object.defineProperty(QuestionRatingModel.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(e){this.setLocalizableStringText("minRateDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(e){this.setLocalizableStringText("maxRateDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.updateRenderAsBasedOnDisplayMode=function(e){this.isDesignMode?(e||"dropdown"===this.renderAs)&&(this.renderAs="default"):(e||"auto"!==this.displayMode)&&(this.renderAs="dropdown"===this.displayMode?"dropdown":"default")},QuestionRatingModel.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),"dropdown"===this.renderAs&&"auto"===this.displayMode?this.displayMode=this.renderAs:this.updateRenderAsBasedOnDisplayMode()},Object.defineProperty(QuestionRatingModel.prototype,"rateDisplayMode",{get:function(){return this.rateType},set:function(e){this.rateType=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"isStar",{get:function(){return"stars"==this.rateType},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"isSmiley",{get:function(){return"smileys"==this.rateType},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.getDefaultItemComponent=function(){return"dropdown"==this.renderAs?"sv-rating-dropdown-item":this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"},Object.defineProperty(QuestionRatingModel.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(e){this.setPropertyValue("itemComponent",e)},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.valueToData=function(e){if(this.useRateValues()){var t=oV.getItemByValue(this.rateValues,e);return t?t.value:e}return isNaN(e)?e:parseFloat(e)},QuestionRatingModel.prototype.setValueFromClick=function(e){if(!this.isReadOnlyAttr){this.value===("string"==typeof this.value?e:parseFloat(e))?this.clearValue(!0):this.value=e;for(var t=0;t<this.renderedRateItems.length;t++)this.renderedRateItems[t].highlight="none"}},QuestionRatingModel.prototype.onItemMouseIn=function(e){if(!nc&&!this.isReadOnly&&e.itemValue.isEnabled&&!this.isDesignMode){var t=!0,o=null!=this.value;if("stars"!==this.rateType){e.highlight="highlighted";return}for(var n=0;n<this.renderedRateItems.length;n++)this.renderedRateItems[n].highlight=t&&!o&&"highlighted"||!t&&o&&"unhighlighted"||"none",this.renderedRateItems[n]==e&&(t=!1),this.renderedRateItems[n].itemValue.value==this.value&&(o=!1)}},QuestionRatingModel.prototype.onItemMouseOut=function(e){nc||this.renderedRateItems.forEach(function(e){return e.highlight="none"})},Object.defineProperty(QuestionRatingModel.prototype,"itemSmallMode",{get:function(){return this.inMatrixMode&&"small"==t0.matrix.rateSize},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"ratingRootCss",{get:function(){var e=("buttons"==this.displayMode||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:"",t="";return(this.hasMaxLabel||this.hasMinLabel)&&("top"==this.rateDescriptionLocation&&(t=this.cssClasses.rootLabelsTop),"bottom"==this.rateDescriptionLocation&&(t=this.cssClasses.rootLabelsBottom),"topBottom"==this.rateDescriptionLocation&&(t=this.cssClasses.rootLabelsDiagonal)),new tP().append(this.cssClasses.root).append(e).append(t).append(this.cssClasses.itemSmall,this.itemSmallMode&&"labels"!=this.rateType).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"itemStarIcon",{get:function(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"itemStarIconAlt",{get:function(){return this.itemStarIcon+"-2"},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.getItemSmiley=function(e){var t=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"].slice(0,this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1),o=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"].filter(function(e){return -1!=t.indexOf(e)});return this.useRateValues()?o[this.rateValues.indexOf(e)]:o[e.value-this.rateMin]},QuestionRatingModel.prototype.getItemSmileyIconName=function(e){return"icon-"+this.getItemSmiley(e)},QuestionRatingModel.prototype.getItemClassByText=function(e,t){return this.getItemClass(e)},QuestionRatingModel.prototype.getRenderedItemColor=function(e,t){var o=t?QuestionRatingModel.badColorLight:QuestionRatingModel.badColor,n=t?QuestionRatingModel.goodColorLight:QuestionRatingModel.goodColor,r=(this.rateCount-1)/2,i=t?QuestionRatingModel.normalColorLight:QuestionRatingModel.normalColor;if(e<r?n=i:(o=i,e-=r),!o||!n)return null;for(var s=[0,0,0,0],a=0;a<4;a++)s[a]=o[a]+(n[a]-o[a])*e/r,a<3&&(s[a]=Math.trunc(s[a]));return"rgba("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+")"},QuestionRatingModel.prototype.getItemStyle=function(e,t){if(void 0===t&&(t="none"),"monochrome"===this.scaleColorMode&&"default"==this.rateColorMode||this.isPreviewStyle||this.isReadOnlyStyle)return{};var o=this.visibleRateValues.indexOf(e),n=this.getRenderedItemColor(o,!1),r="highlighted"==t&&"colored"===this.scaleColorMode&&this.getRenderedItemColor(o,!0);return r?{"--sd-rating-item-color":n,"--sd-rating-item-color-light":r}:{"--sd-rating-item-color":n}},QuestionRatingModel.prototype.getItemClass=function(e,t){var o=this;void 0===t&&(t="none");var n=this.value==e.value;this.isStar&&(n=this.useRateValues()?this.rateValues.indexOf(this.rateValues.filter(function(e){return e.value==o.value})[0])>=this.rateValues.indexOf(e):this.value>=e.value);var r=!(this.isReadOnly||!e.isEnabled)&&this.value!=e.value&&!(this.survey&&this.survey.isDesignMode),i=this.renderedRateItems.filter(function(t){return t.itemValue==e})[0],s=this.isStar&&(null==i?void 0:i.highlight)=="highlighted",a=this.isStar&&(null==i?void 0:i.highlight)=="unhighlighted",l=this.cssClasses.item,u=this.cssClasses.selected,c=this.cssClasses.itemDisabled,p=this.cssClasses.itemReadOnly,d=this.cssClasses.itemPreview,h=this.cssClasses.itemHover,g=this.cssClasses.itemOnError,f=null,y=null,m=null,v=null,b=null;this.isStar&&(l=this.cssClasses.itemStar,u=this.cssClasses.itemStarSelected,c=this.cssClasses.itemStarDisabled,p=this.cssClasses.itemStarReadOnly,d=this.cssClasses.itemStarPreview,h=this.cssClasses.itemStarHover,g=this.cssClasses.itemStarOnError,f=this.cssClasses.itemStarHighlighted,y=this.cssClasses.itemStarUnhighlighted,b=this.cssClasses.itemStarSmall),this.isSmiley&&(l=this.cssClasses.itemSmiley,u=this.cssClasses.itemSmileySelected,c=this.cssClasses.itemSmileyDisabled,p=this.cssClasses.itemSmileyReadOnly,d=this.cssClasses.itemSmileyPreview,h=this.cssClasses.itemSmileyHover,g=this.cssClasses.itemSmileyOnError,f=this.cssClasses.itemSmileyHighlighted,m=this.cssClasses.itemSmileyScaleColored,v=this.cssClasses.itemSmileyRateColored,b=this.cssClasses.itemSmileySmall);var C=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&e!=this.rateValues[0]&&e!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&e.value!=this.rateMin&&e.value!=this.rateMax)&&e.locText.calculatedText.length<=2&&Number.isInteger(Number(e.locText.calculatedText));return new tP().append(l).append(u,n).append(c,this.isDisabledStyle).append(p,this.isReadOnlyStyle).append(d,this.isPreviewStyle).append(h,r).append(f,s).append(m,"colored"==this.scaleColorMode).append(v,"scale"==this.rateColorMode&&n).append(y,a).append(g,this.hasCssError()).append(b,this.itemSmallMode).append(this.cssClasses.itemFixedSize,C).toString()},QuestionRatingModel.prototype.getControlClass=function(){return this.isEmpty(),new tP().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()},Object.defineProperty(QuestionRatingModel.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(e){this.setLocalizableStringText("ratingOptionsCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"renderedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.isItemSelected=function(e){return e.value==this.value},Object.defineProperty(QuestionRatingModel.prototype,"visibleChoices",{get:function(){return this.visibleChoicesValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionRatingModel.prototype,"readOnlyText",{get:function(){return this.readOnly?this.displayValue||this.placeholder:this.isEmpty()?this.placeholder:""},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.needResponsiveWidth=function(){this.getPropertyValue("rateValues");var e=this.getPropertyValue("rateStep"),t=this.getPropertyValue("rateMax"),o=this.getPropertyValue("rateMin");return"dropdown"!=this.displayMode&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||e&&(t-o)/e>9)},QuestionRatingModel.prototype.supportResponsiveness=function(){return!0},QuestionRatingModel.prototype.onBeforeSetCompactRenderer=function(){this.dropdownListModelValue||(this.dropdownListModel=new rt(this))},QuestionRatingModel.prototype.getCompactRenderAs=function(){return"buttons"==this.displayMode?"default":"dropdown"},QuestionRatingModel.prototype.getDesktopRenderAs=function(){return"dropdown"==this.displayMode?"dropdown":"default"},Object.defineProperty(QuestionRatingModel.prototype,"dropdownListModel",{get:function(){return"dropdown"===this.renderAs&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e,this.updateElementCss()},enumerable:!1,configurable:!0}),QuestionRatingModel.prototype.onBlurCore=function(t){var o;null===(o=this.dropdownListModel)||void 0===o||o.onBlur(t),e.prototype.onBlurCore.call(this,t)},QuestionRatingModel.prototype.updateCssClasses=function(t,o){if(e.prototype.updateCssClasses.call(this,t,o),this.dropdownListModel){var n={};mergeValues(o.list,n),mergeValues(t.list,n),t.list=n}},QuestionRatingModel.prototype.calcCssClasses=function(t){var o=e.prototype.calcCssClasses.call(this,t);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(o.popup,o.list),o},QuestionRatingModel.prototype.themeChanged=function(e){this.colorsCalculated=!1,this.updateColors(e.cssVariables),this.createRenderedRateItems()},QuestionRatingModel.prototype.setSurveyImpl=function(t,o){e.prototype.setSurveyImpl.call(this,t,o),this.survey&&(this.updateColors(this.survey.themeVariables),this.updateRenderAsBasedOnDisplayMode())},QuestionRatingModel.prototype.dispose=function(){e.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},QuestionRatingModel.colorsCalculated=!1,question_rating_decorate([jsonobject_property({defaultValue:!1})],QuestionRatingModel.prototype,"inputHasValue",void 0),question_rating_decorate([jsonobject_property()],QuestionRatingModel.prototype,"autoGenerate",void 0),question_rating_decorate([jsonobject_property()],QuestionRatingModel.prototype,"rateCount",void 0),question_rating_decorate([propertyArray()],QuestionRatingModel.prototype,"renderedRateItems",void 0),question_rating_decorate([jsonobject_property({defaultValue:!1})],QuestionRatingModel.prototype,"hasMinRateDescription",void 0),question_rating_decorate([jsonobject_property({defaultValue:!1})],QuestionRatingModel.prototype,"hasMaxRateDescription",void 0),question_rating_decorate([jsonobject_property()],QuestionRatingModel.prototype,"displayRateDescriptionsAsExtremeItems",void 0),question_rating_decorate([jsonobject_property()],QuestionRatingModel.prototype,"displayMode",void 0),question_rating_decorate([jsonobject_property()],QuestionRatingModel.prototype,"rateDescriptionLocation",void 0),question_rating_decorate([jsonobject_property()],QuestionRatingModel.prototype,"rateType",void 0),question_rating_decorate([jsonobject_property()],QuestionRatingModel.prototype,"scaleColorMode",void 0),question_rating_decorate([jsonobject_property()],QuestionRatingModel.prototype,"rateColorMode",void 0),QuestionRatingModel}(ox);eY.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:1},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(e){return"smileys"==e.rateDisplayMode},visibleIndex:2},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(e){return"smileys"==e.rateDisplayMode&&"monochrome"==e.scaleColorMode},visibleIndex:3},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:5},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:4,onSettingValue:function(e,t){return t<2?2:t>t0.ratingMaximumRateValueCount&&t>e.rateValues.length?t0.ratingMaximumRateValueCount:t>10&&"smileys"==e.rateDisplayMode?10:t}},{name:"rateValues:itemvalue[]",baseValue:function(){return getLocaleString("choices_Item")},category:"rateValues",visibleIf:function(e){return!e.autoGenerate},visibleIndex:6},{name:"rateMin:number",default:1,onSettingValue:function(e,t){return t>e.rateMax-e.rateStep?e.rateMax-e.rateStep:t},visibleIf:function(e){return!!e.autoGenerate},visibleIndex:7},{name:"rateMax:number",default:5,onSettingValue:function(e,t){return t<e.rateMin+e.rateStep?e.rateMin+e.rateStep:t},visibleIf:function(e){return!!e.autoGenerate},visibleIndex:8},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(e,t){return t<=0&&(t=1),t>e.rateMax-e.rateMin&&(t=e.rateMax-e.rateMin),t},visibleIf:function(e){return!!e.autoGenerate},visibleIndex:9},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:18},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:19},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:21,visibleIf:function(e){return"labels"==e.rateType}},{name:"rateDescriptionLocation",default:"leftRight",choices:["leftRight","top","bottom","topBottom"],visibleIndex:20},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:0},{name:"itemComponent",visible:!1,defaultFunc:function(e){return e?(e.getOriginalObj&&(e=e.getOriginalObj()),e.getDefaultItemComponent()):"sv-rating-item"}}],function(){return new ie("")},"question"),oJ.Instance.registerQuestion("rating",function(e){return new ie(e)});var it=(eg=function(e,t){return(eg=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eg(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_boolean_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},io=function(e){function QuestionBooleanModel(t){var o=e.call(this,t)||this;return o.createLocalizableString("labelFalse",o,!0,"booleanUncheckedLabel"),o.createLocalizableString("labelTrue",o,!0,"booleanCheckedLabel"),o}return it(QuestionBooleanModel,e),QuestionBooleanModel.prototype.getType=function(){return"boolean"},QuestionBooleanModel.prototype.isLayoutTypeSupported=function(e){return!0},QuestionBooleanModel.prototype.supportGoNextPageAutomatic=function(){return"checkbox"!==this.renderAs},Object.defineProperty(QuestionBooleanModel.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(e){this.isReadOnly||this.isDesignMode||this.setBooleanValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(e){this.booleanValue=e},enumerable:!1,configurable:!0}),QuestionBooleanModel.prototype.setBooleanValue=function(e){this.isValueEmpty(e)?(this.value=void 0,this.booleanValueRendered=void 0):(this.value=!0==e?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=e)},Object.defineProperty(QuestionBooleanModel.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){!0===e&&(e="true"),!1===e&&(e="false"),this.setPropertyValue("defaultValue",e),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),QuestionBooleanModel.prototype.getDefaultValue=function(){var e=this.defaultValue;if("indeterminate"!==e&&null!=e)return"true"==e?this.getValueTrue():this.getValueFalse()},Object.defineProperty(QuestionBooleanModel.prototype,"locTitle",{get:function(){var e=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(e.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),QuestionBooleanModel.prototype.beforeDestroyQuestionElement=function(t){e.prototype.beforeDestroyQuestionElement.call(this,t),this.leftAnswerElement=void 0},Object.defineProperty(QuestionBooleanModel.prototype,"isLabelRendered",{get:function(){return"hidden"===this.titleLocation},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(e){this.setLocalizableStringText("labelTrue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"isDeterminated",{get:function(){return null!==this.booleanValue&&void 0!==this.booleanValue},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"locLabelLeft",{get:function(){return this.swapOrder?this.getLocalizableString("labelTrue"):this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"locLabelRight",{get:function(){return this.swapOrder?this.getLocalizableString("labelFalse"):this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(e){this.setLocalizableStringText("labelFalse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),QuestionBooleanModel.prototype.getValueTrue=function(){return void 0===this.valueTrue||this.valueTrue},QuestionBooleanModel.prototype.getValueFalse=function(){return void 0!==this.valueFalse&&this.valueFalse},QuestionBooleanModel.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1);var e=this.defaultValue;("indeterminate"===e||null==e)&&this.setBooleanValue(void 0)},QuestionBooleanModel.prototype.isDefaultValueSet=function(e,t){return this.defaultValue==e||void 0!==t&&this.defaultValue===t},QuestionBooleanModel.prototype.getDisplayValueCore=function(e,t){return t==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},QuestionBooleanModel.prototype.getItemCssValue=function(e){return new tP().append(e.item).append(e.itemOnError,this.hasCssError()).append(e.itemDisabled,this.isDisabledStyle).append(e.itemReadOnly,this.isReadOnlyStyle).append(e.itemPreview,this.isPreviewStyle).append(e.itemHover,!this.isDesignMode).append(e.itemChecked,!!this.booleanValue).append(e.itemExchanged,!!this.swapOrder).append(e.itemIndeterminate,!this.isDeterminated).toString()},QuestionBooleanModel.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},QuestionBooleanModel.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemDisable:this.cssClasses.checkboxItemDisabled,itemReadOnly:this.cssClasses.checkboxItemReadOnly,itemPreview:this.cssClasses.checkboxItemPreview,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},QuestionBooleanModel.prototype.getLabelCss=function(e){return new tP().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,!e===this.booleanValue||this.isDisabledStyle).append(this.cssClasses.labelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.labelPreview,this.isPreviewStyle).append(this.cssClasses.labelTrue,!this.isIndeterminate&&!this.swapOrder===e).append(this.cssClasses.labelFalse,!this.isIndeterminate&&e===this.swapOrder).toString()},QuestionBooleanModel.prototype.updateValueFromSurvey=function(t,o){void 0===o&&(o=!1),e.prototype.updateValueFromSurvey.call(this,t,o)},QuestionBooleanModel.prototype.onValueChanged=function(){e.prototype.onValueChanged.call(this)},Object.defineProperty(QuestionBooleanModel.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:!this.isDeterminated&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),QuestionBooleanModel.prototype.getCheckedLabel=function(){return!0===this.booleanValue?this.locLabelTrue:!1===this.booleanValue?this.locLabelFalse:void 0},QuestionBooleanModel.prototype.setQuestionValue=function(t,o){void 0===o&&(o=!0),"true"===t&&"true"!==this.valueTrue&&(t=!0),"false"===t&&"false"!==this.valueFalse&&(t=!1),("indeterminate"===t||null===t)&&(t=void 0),e.prototype.setQuestionValue.call(this,t,o)},QuestionBooleanModel.prototype.onLabelClick=function(e,t){return this.allowClick&&(preventDefaults(e),this.booleanValue=t),!0},QuestionBooleanModel.prototype.calculateBooleanValueByEvent=function(e,t){var o=!1;eD.isAvailable()&&(o="rtl"==eD.getComputedStyle(e.target).direction),this.booleanValue=o?!t:t},QuestionBooleanModel.prototype.onSwitchClickModel=function(e){if(this.allowClick){preventDefaults(e);var t=e.offsetX/e.target.offsetWidth>.5;this.calculateBooleanValueByEvent(e,t);return}return!0},QuestionBooleanModel.prototype.onKeyDownCore=function(e){return("ArrowLeft"===e.key||"ArrowRight"===e.key)&&(e.stopPropagation(),this.calculateBooleanValueByEvent(e,"ArrowRight"===e.key)),!0},QuestionBooleanModel.prototype.getRadioItemClass=function(e,t){var o=void 0;return e.radioItem&&(o=e.radioItem),e.radioItemChecked&&t===this.booleanValue&&(o=(o?o+" ":"")+e.radioItemChecked),this.isDisabledStyle&&(o+=" "+e.radioItemDisabled),this.isReadOnlyStyle&&(o+=" "+e.radioItemReadOnly),this.isPreviewStyle&&(o+=" "+e.radioItemPreview),o},QuestionBooleanModel.prototype.supportResponsiveness=function(){return!0},QuestionBooleanModel.prototype.getCompactRenderAs=function(){return"radio"},QuestionBooleanModel.prototype.createActionContainer=function(t){return e.prototype.createActionContainer.call(this,"checkbox"!==this.renderAs)},Object.defineProperty(QuestionBooleanModel.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionBooleanModel.prototype,"a11y_input_ariaRole",{get:function(){return"switch"},enumerable:!1,configurable:!0}),question_boolean_decorate([jsonobject_property()],QuestionBooleanModel.prototype,"booleanValueRendered",void 0),question_boolean_decorate([jsonobject_property()],QuestionBooleanModel.prototype,"showTitle",void 0),question_boolean_decorate([jsonobject_property({localizable:!0})],QuestionBooleanModel.prototype,"label",void 0),question_boolean_decorate([jsonobject_property({defaultValue:!1})],QuestionBooleanModel.prototype,"swapOrder",void 0),question_boolean_decorate([jsonobject_property()],QuestionBooleanModel.prototype,"valueTrue",void 0),question_boolean_decorate([jsonobject_property()],QuestionBooleanModel.prototype,"valueFalse",void 0),QuestionBooleanModel}(ox);eY.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"swapOrder:boolean",category:"general"},{name:"renderAs",default:"default",visible:!1}],function(){return new io("")},"question"),oJ.Instance.registerQuestion("boolean",function(e){return new io(e)});var ir=(ef=function(e,t){return(ef=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ef(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_imagepicker_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},ii=function(e){function ImageItemValue(t,o,n){void 0===o&&(o=null),void 0===n&&(n="imageitemvalue");var r=e.call(this,t,o,n)||this;return r.typeName=n,r.createLocalizableString("imageLink",r,!1),r}return ir(ImageItemValue,e),ImageItemValue.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(ImageItemValue.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e),this.imageNotLoaded=!1,this.videoNotLoaded=!1},enumerable:!1,configurable:!0}),Object.defineProperty(ImageItemValue.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),ImageItemValue.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},ImageItemValue.prototype.getMarkdownHtml=function(e,t){return this.locOwner?this.locOwner.getMarkdownHtml(e,t):void 0},ImageItemValue.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},ImageItemValue.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},ImageItemValue.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},ImageItemValue.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},Object.defineProperty(ImageItemValue.prototype,"contentNotLoaded",{get:function(){return this.locOwner instanceof is&&"video"==this.locOwner.contentMode?this.videoNotLoaded:this.imageNotLoaded},set:function(e){this.locOwner instanceof is&&"video"==this.locOwner.contentMode?this.videoNotLoaded=e:this.imageNotLoaded=e},enumerable:!1,configurable:!0}),question_imagepicker_decorate([jsonobject_property({defaultValue:!1})],ImageItemValue.prototype,"videoNotLoaded",void 0),question_imagepicker_decorate([jsonobject_property({defaultValue:!1})],ImageItemValue.prototype,"imageNotLoaded",void 0),ImageItemValue}(oV),is=function(e){function QuestionImagePickerModel(t){var o=e.call(this,t)||this;return o.isResponsiveValue=!1,o.onContentLoaded=function(e,t){e.contentNotLoaded=!1;var n=t.target;"video"==o.contentMode?e.aspectRatio=n.videoWidth/n.videoHeight:e.aspectRatio=n.naturalWidth/n.naturalHeight,o._width&&o.processResponsiveness(0,o._width)},o.colCount=0,o.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){o._width&&o.processResponsiveness(0,o._width)}),o.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){o.calcIsResponsive()}),o.calcIsResponsive(),o}return ir(QuestionImagePickerModel,e),QuestionImagePickerModel.prototype.getType=function(){return"imagepicker"},QuestionImagePickerModel.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(QuestionImagePickerModel.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),QuestionImagePickerModel.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(QuestionImagePickerModel.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),QuestionImagePickerModel.prototype.supportOther=function(){return!1},QuestionImagePickerModel.prototype.supportNone=function(){return!1},QuestionImagePickerModel.prototype.supportRefuse=function(){return!1},QuestionImagePickerModel.prototype.supportDontKnow=function(){return!1},QuestionImagePickerModel.prototype.isAnswerCorrect=function(){return this.multiSelect?eQ.isArrayContainsEqual(this.value,this.correctAnswer):e.prototype.isAnswerCorrect.call(this)},Object.defineProperty(QuestionImagePickerModel.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(e){this.setPropertyValue("multiSelect",e)},enumerable:!1,configurable:!0}),QuestionImagePickerModel.prototype.isItemSelected=function(e){var t=this.value;if(this.isValueEmpty(t)||!e.imageLink||e.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(t,e.value);if(!Array.isArray(t))return!1;for(var o=0;o<t.length;o++)if(this.isTwoValueEquals(t[o],e.value))return!0;return!1},QuestionImagePickerModel.prototype.getItemEnabled=function(t){return!!t.imageLink&&!t.contentNotLoaded&&e.prototype.getItemEnabled.call(this,t)},QuestionImagePickerModel.prototype.clearIncorrectValues=function(){if(this.multiSelect){var t=this.value;if(t){if(!Array.isArray(t)||0==t.length){this.clearValue(!0);return}for(var o=[],n=0;n<t.length;n++)this.hasUnknownValue(t[n],!0)||o.push(t[n]);o.length!=t.length&&(0==o.length?this.clearValue(!0):this.value=o)}}else e.prototype.clearIncorrectValues.call(this)},QuestionImagePickerModel.prototype.getDisplayValueCore=function(t,o){return this.multiSelect||Array.isArray(o)?this.getDisplayArrayValue(t,o):e.prototype.getDisplayValueCore.call(this,t,o)},Object.defineProperty(QuestionImagePickerModel.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(e){this.setPropertyValue("showLabel",e)},enumerable:!1,configurable:!0}),QuestionImagePickerModel.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},QuestionImagePickerModel.prototype.getValueCore=function(){var t=e.prototype.getValueCore.call(this);return void 0!==t?t:this.multiSelect?[]:t},QuestionImagePickerModel.prototype.convertValToArrayForMultSelect=function(e){return!this.multiSelect||this.isValueEmpty(e)||Array.isArray(e)?e:[e]},QuestionImagePickerModel.prototype.renderedValueFromDataCore=function(e){return this.convertValToArrayForMultSelect(e)},QuestionImagePickerModel.prototype.rendredValueToDataCore=function(e){return this.convertValToArrayForMultSelect(e)},Object.defineProperty(QuestionImagePickerModel.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImagePickerModel.prototype,"renderedImageHeight",{get:function(){return(this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight)||150},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImagePickerModel.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImagePickerModel.prototype,"renderedImageWidth",{get:function(){return(this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth)||200},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImagePickerModel.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImagePickerModel.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),"video"===e&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),QuestionImagePickerModel.prototype.convertDefaultValue=function(e){return e},Object.defineProperty(QuestionImagePickerModel.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),QuestionImagePickerModel.prototype.isBuiltInChoice=function(e){return!1},QuestionImagePickerModel.prototype.addToVisibleChoices=function(e,t){this.addNewItemToVisibleChoices(e,t)},QuestionImagePickerModel.prototype.getSelectBaseRootCss=function(){return new tP().append(e.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,1==this.getCurrentColCount()).toString()},Object.defineProperty(QuestionImagePickerModel.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImagePickerModel.prototype,"exactSizesAreEmpty",{get:function(){var e=this;return!["imageHeight","imageWidth"].some(function(t){return void 0!==e[t]&&null!==e[t]})},enumerable:!1,configurable:!0}),QuestionImagePickerModel.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},QuestionImagePickerModel.prototype.getObservedElementSelector=function(){return classesToSelector(this.cssClasses.root)},QuestionImagePickerModel.prototype.supportResponsiveness=function(){return!0},QuestionImagePickerModel.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},QuestionImagePickerModel.prototype.needResponsiveWidth=function(){return this.colCount>2},QuestionImagePickerModel.prototype.getCurrentColCount=function(){return void 0===this.responsiveColCount||0===this.colCount?this.colCount:this.responsiveColCount},QuestionImagePickerModel.prototype.processResponsiveness=function(e,t){this._width=t=Math.floor(t);var calcAvailableColumnsCount=function(e,t,o){var n=Math.floor(e/(t+o));return(n+1)*(t+o)-o<=e&&n++,n};if(this.isResponsive){var o,n=this.choices.length+(this.isDesignMode?1:0),r=this.gapBetweenItems||0,i=this.minImageWidth,s=this.maxImageWidth,a=this.maxImageHeight,l=this.minImageHeight,u=this.colCount;if(0===u){if((r+i)*n-r>t){var c=calcAvailableColumnsCount(t,i,r);o=Math.floor((t-r*(c-1))/c)}else o=Math.floor((t-r*(n-1))/n)}else{var p=calcAvailableColumnsCount(t,i,r);p<u?(this.responsiveColCount=p>=1?p:1,u=this.responsiveColCount):this.responsiveColCount=u,o=Math.floor((t-r*(u-1))/u)}o=Math.max(i,Math.min(o,s));var d=Number.MIN_VALUE;this.choices.forEach(function(e){var t=o/e.aspectRatio;d=t>d?t:d}),d>a?d=a:d<l&&(d=l);var h=this.responsiveImageWidth,g=this.responsiveImageHeight;return this.responsiveImageWidth=o,this.responsiveImageHeight=d,h!==this.responsiveImageWidth||g!==this.responsiveImageHeight}return!1},QuestionImagePickerModel.prototype.triggerResponsiveness=function(t){void 0===t&&(t=!0),t&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),e.prototype.triggerResponsiveness.call(this,t)},QuestionImagePickerModel.prototype.afterRender=function(t){var o=this;e.prototype.afterRender.call(this,t);var n=this.getObservedElementSelector(),r=t&&n?t.querySelector(n):void 0;r&&(this.reCalcGapBetweenItemsCallback=function(){o.gapBetweenItems=Math.ceil(Number.parseFloat(eD.getComputedStyle(r).gap))||16},this.reCalcGapBetweenItemsCallback())},question_imagepicker_decorate([jsonobject_property({})],QuestionImagePickerModel.prototype,"responsiveImageHeight",void 0),question_imagepicker_decorate([jsonobject_property({})],QuestionImagePickerModel.prototype,"responsiveImageWidth",void 0),question_imagepicker_decorate([jsonobject_property({})],QuestionImagePickerModel.prototype,"isResponsiveValue",void 0),question_imagepicker_decorate([jsonobject_property({})],QuestionImagePickerModel.prototype,"maxImageWidth",void 0),question_imagepicker_decorate([jsonobject_property({})],QuestionImagePickerModel.prototype,"minImageWidth",void 0),question_imagepicker_decorate([jsonobject_property({})],QuestionImagePickerModel.prototype,"maxImageHeight",void 0),question_imagepicker_decorate([jsonobject_property({})],QuestionImagePickerModel.prototype,"minImageHeight",void 0),question_imagepicker_decorate([jsonobject_property({})],QuestionImagePickerModel.prototype,"responsiveColCount",void 0),QuestionImagePickerModel}(n2);eY.addClass("imageitemvalue",[{name:"imageLink:file",serializationProperty:"locImageLink"}],function(e){return new ii(e)},"itemvalue"),eY.addClass("responsiveImageSize",[],void 0,"number"),eY.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"showRefuseItem",visible:!1},{name:"showDontKnowItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return t0.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return t0.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return t0.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return t0.supportCreatorV2}}],function(){return new is("")},"checkboxbase"),eY.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),eY.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),eY.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),eY.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),oJ.Instance.registerQuestion("imagepicker",function(e){return new is(e)});var ia=(ey=function(e,t){return(ey=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ey(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_image_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},il=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],iu="embed",ic=function(e){function QuestionImageModel(t){var o=e.call(this,t)||this;return o.createLocalizableString("imageLink",o,!1).onGetTextCallback=function(e){return function(e,t){if(!e||!eQ.isUrlYoutubeVideo(e))return t?"":e;if(e.toLocaleLowerCase().indexOf(iu)>-1)return e;for(var o="",n=e.length-1;n>=0&&"="!==e[n]&&"/"!==e[n];n--)o=e[n]+o;return"https://www.youtube.com/"+iu+"/"+o}(e,"youtube"==o.contentMode)},o.createLocalizableString("altText",o,!1),o.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return o.calculateRenderedMode()}),o}return ia(QuestionImageModel,e),QuestionImageModel.prototype.getType=function(){return"image"},Object.defineProperty(QuestionImageModel.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),QuestionImageModel.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(QuestionImageModel.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(e){this.setLocalizableStringText("altText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"renderedStyleHeight",{get:function(){return this.imageHeight?getRenderedStyleSize(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"renderedHeight",{get:function(){return this.imageHeight?getRenderedSize(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"renderedStyleWidth",{get:function(){return this.imageWidth?getRenderedStyleSize(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"renderedWidth",{get:function(){return this.imageWidth?getRenderedSize(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),"video"===e&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionImageModel.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),QuestionImageModel.prototype.getImageCss=function(){var e=this.getPropertyByName("imageHeight"),t=this.getPropertyByName("imageWidth"),o=e.isDefaultValue(this.imageHeight)&&t.isDefaultValue(this.imageWidth);return new tP().append(this.cssClasses.image).append(this.cssClasses.adaptive,o).toString()},QuestionImageModel.prototype.onLoadHandler=function(){this.contentNotLoaded=!1},QuestionImageModel.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},QuestionImageModel.prototype.setRenderedMode=function(e){this.setPropertyValue("renderedMode",e)},QuestionImageModel.prototype.calculateRenderedMode=function(){"auto"!==this.contentMode?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},QuestionImageModel.prototype.isYoutubeVideo=function(){return eQ.isUrlYoutubeVideo(this.imageLink)},QuestionImageModel.prototype.isVideo=function(){var e=this.imageLink;if(!e)return!1;e=e.toLowerCase();for(var t=0;t<il.length;t++)if(e.endsWith(il[t]))return!0;return!1},question_image_decorate([jsonobject_property({defaultValue:!1})],QuestionImageModel.prototype,"contentNotLoaded",void 0),QuestionImageModel}(rT);eY.addClass("image",[{name:"imageLink:file",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new ic("")},"nonvalue"),oJ.Instance.registerQuestion("image",function(e){return new ic(e)});/*!
 * Signature Pad v4.2.0 | https://github.com/szimek/signature_pad
 * (c) 2024 Szymon Nowak | Released under the MIT license
 */let Point=class Point{constructor(e,t,o,n){if(isNaN(e)||isNaN(t))throw Error(`Point is invalid: (${e}, ${t})`);this.x=+e,this.y=+t,this.pressure=o||0,this.time=n||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}};let Bezier=class Bezier{static fromPoints(e,t){let o=this.calculateControlPoints(e[0],e[1],e[2]).c2,n=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new Bezier(e[1],o,n,e[2],t.start,t.end)}static calculateControlPoints(e,t,o){let n=e.x-t.x,r=e.y-t.y,i=t.x-o.x,s=t.y-o.y,a={x:(e.x+t.x)/2,y:(e.y+t.y)/2},l={x:(t.x+o.x)/2,y:(t.y+o.y)/2},u=Math.sqrt(n*n+r*r),c=Math.sqrt(i*i+s*s),p=a.x-l.x,d=a.y-l.y,h=c/(u+c),g={x:l.x+p*h,y:l.y+d*h},f=t.x-g.x,y=t.y-g.y;return{c1:new Point(a.x+f,a.y+y),c2:new Point(l.x+f,l.y+y)}}constructor(e,t,o,n,r,i){this.startPoint=e,this.control2=t,this.control1=o,this.endPoint=n,this.startWidth=r,this.endWidth=i}length(){let e,t;let o=0;for(let n=0;n<=10;n+=1){let r=n/10,i=this.point(r,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this.point(r,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){let n=i-e,r=s-t;o+=Math.sqrt(n*n+r*r)}e=i,t=s}return o}point(e,t,o,n,r){return t*(1-e)*(1-e)*(1-e)+3*o*(1-e)*(1-e)*e+3*n*(1-e)*e*e+r*e*e*e}};let SignatureEventTarget=class SignatureEventTarget{constructor(){try{this._et=new EventTarget}catch(e){this._et=document}}addEventListener(e,t,o){this._et.addEventListener(e,t,o)}dispatchEvent(e){return this._et.dispatchEvent(e)}removeEventListener(e,t,o){this._et.removeEventListener(e,t,o)}};let SignaturePad=class SignaturePad extends SignatureEventTarget{constructor(e,t={}){super(),this.canvas=e,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=e=>{1===e.buttons&&this._strokeBegin(e)},this._handleMouseMove=e=>{this._strokeMoveUpdate(e)},this._handleMouseUp=e=>{1===e.buttons&&this._strokeEnd(e)},this._handleTouchStart=e=>{if(e.cancelable&&e.preventDefault(),1===e.targetTouches.length){let t=e.changedTouches[0];this._strokeBegin(t)}},this._handleTouchMove=e=>{e.cancelable&&e.preventDefault();let t=e.targetTouches[0];this._strokeMoveUpdate(t)},this._handleTouchEnd=e=>{let t=e.target===this.canvas;if(t){e.cancelable&&e.preventDefault();let t=e.changedTouches[0];this._strokeEnd(t)}},this._handlePointerStart=e=>{e.preventDefault(),this._strokeBegin(e)},this._handlePointerMove=e=>{this._strokeMoveUpdate(e)},this._handlePointerEnd=e=>{this._drawingStroke&&(e.preventDefault(),this._strokeEnd(e))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||0,this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=t.compositeOperation||"source-over",this.canvasContextOptions="canvasContextOptions"in t?t.canvasContextOptions:{},this._strokeMoveUpdate=this.throttle?function(e,t=250){let o,n,r,i=0,s=null,later=()=>{i=Date.now(),s=null,o=e.apply(n,r),s||(n=null,r=[])};return function(...a){let l=Date.now(),u=t-(l-i);return n=this,r=a,u<=0||u>t?(s&&(clearTimeout(s),s=null),i=l,o=e.apply(n,r),s||(n=null,r=[])):s||(s=window.setTimeout(later,u)),o}}(SignaturePad.prototype._strokeUpdate,this.throttle):SignaturePad.prototype._strokeUpdate,this._ctx=e.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){let{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(e,t={}){return new Promise((o,n)=>{let r=new Image,i=t.ratio||window.devicePixelRatio||1,s=t.width||this.canvas.width/i,a=t.height||this.canvas.height/i,l=t.xOffset||0,u=t.yOffset||0;this._reset(this._getPointGroupOptions()),r.onload=()=>{this._ctx.drawImage(r,l,u,s,a),o()},r.onerror=e=>{n(e)},r.crossOrigin="anonymous",r.src=e,this._isEmpty=!1})}toDataURL(e="image/png",t){return"image/svg+xml"===e?("object"!=typeof t&&(t=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(t))}`):("number"!=typeof t&&(t=void 0),this.canvas.toDataURL(e,t))}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";let e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e,{clear:t=!0}={}){t&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_getPointGroupOptions(e){return{penColor:e&&"penColor"in e?e.penColor:this.penColor,dotSize:e&&"dotSize"in e?e.dotSize:this.dotSize,minWidth:e&&"minWidth"in e?e.minWidth:this.minWidth,maxWidth:e&&"maxWidth"in e?e.maxWidth:this.maxWidth,velocityFilterWeight:e&&"velocityFilterWeight"in e?e.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:e&&"compositeOperation"in e?e.compositeOperation:this.compositeOperation}}_strokeBegin(e){let t=!this.dispatchEvent(new CustomEvent("beginStroke",{detail:e,cancelable:!0}));if(t)return;this._drawingStroke=!0;let o=this._getPointGroupOptions(),n=Object.assign(Object.assign({},o),{points:[]});this._data.push(n),this._reset(o),this._strokeUpdate(e)}_strokeUpdate(e){if(!this._drawingStroke)return;if(0===this._data.length){this._strokeBegin(e);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));let t=e.clientX,o=e.clientY,n=void 0!==e.pressure?e.pressure:void 0!==e.force?e.force:0,r=this._createPoint(t,o,n),i=this._data[this._data.length-1],s=i.points,a=s.length>0&&s[s.length-1],l=!!a&&r.distanceTo(a)<=this.minDistance,u=this._getPointGroupOptions(i);if(!a||!(a&&l)){let e=this._addPoint(r,u);a?e&&this._drawCurve(e,u):this._drawDot(r,u),s.push({time:r.time,x:r.x,y:r.y,pressure:r.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e){this._drawingStroke&&(this._strokeUpdate(e),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:e})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(e){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(e.minWidth+e.maxWidth)/2,this._ctx.fillStyle=e.penColor,this._ctx.globalCompositeOperation=e.compositeOperation}_createPoint(e,t,o){let n=this.canvas.getBoundingClientRect();return new Point(e-n.left,t-n.top,o,new Date().getTime())}_addPoint(e,t){let{_lastPoints:o}=this;if(o.push(e),o.length>2){3===o.length&&o.unshift(o[0]);let e=this._calculateCurveWidths(o[1],o[2],t),n=Bezier.fromPoints(o,e);return o.shift(),n}return null}_calculateCurveWidths(e,t,o){let n=o.velocityFilterWeight*t.velocityFrom(e)+(1-o.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(n,o),i={end:r,start:this._lastWidth};return this._lastVelocity=n,this._lastWidth=r,i}_strokeWidth(e,t){return Math.max(t.maxWidth/(e+1),t.minWidth)}_drawCurveSegment(e,t,o){let n=this._ctx;n.moveTo(e,t),n.arc(e,t,o,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,t){let o=this._ctx,n=e.endWidth-e.startWidth,r=2*Math.ceil(e.length());o.beginPath(),o.fillStyle=t.penColor;for(let o=0;o<r;o+=1){let i=o/r,s=i*i,a=s*i,l=1-i,u=l*l,c=u*l,p=c*e.startPoint.x;p+=3*u*i*e.control1.x+3*l*s*e.control2.x+a*e.endPoint.x;let d=c*e.startPoint.y;d+=3*u*i*e.control1.y+3*l*s*e.control2.y+a*e.endPoint.y;let h=Math.min(e.startWidth+a*n,t.maxWidth);this._drawCurveSegment(p,d,h)}o.closePath(),o.fill()}_drawDot(e,t){let o=this._ctx,n=t.dotSize>0?t.dotSize:(t.minWidth+t.maxWidth)/2;o.beginPath(),this._drawCurveSegment(e.x,e.y,n),o.closePath(),o.fillStyle=t.penColor,o.fill()}_fromData(e,t,o){for(let n of e){let{points:e}=n,r=this._getPointGroupOptions(n);if(e.length>1)for(let o=0;o<e.length;o+=1){let n=e[o],i=new Point(n.x,n.y,n.pressure,n.time);0===o&&this._reset(r);let s=this._addPoint(i,r);s&&t(s,r)}else this._reset(r),o(e[0],r)}}toSVG({includeBackgroundColor:e=!1}={}){let t=this._data,o=Math.max(window.devicePixelRatio||1,1),n=this.canvas.width/o,r=this.canvas.height/o,i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("viewBox",`0 0 ${n} ${r}`),i.setAttribute("width",n.toString()),i.setAttribute("height",r.toString()),e&&this.backgroundColor){let e=document.createElement("rect");e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("fill",this.backgroundColor),i.appendChild(e)}return this._fromData(t,(e,{penColor:t})=>{let o=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){let n=`M ${e.startPoint.x.toFixed(3)},${e.startPoint.y.toFixed(3)} C ${e.control1.x.toFixed(3)},${e.control1.y.toFixed(3)} ${e.control2.x.toFixed(3)},${e.control2.y.toFixed(3)} ${e.endPoint.x.toFixed(3)},${e.endPoint.y.toFixed(3)}`;o.setAttribute("d",n),o.setAttribute("stroke-width",(2.25*e.endWidth).toFixed(3)),o.setAttribute("stroke",t),o.setAttribute("fill","none"),o.setAttribute("stroke-linecap","round"),i.appendChild(o)}},(e,{penColor:t,dotSize:o,minWidth:n,maxWidth:r})=>{let s=document.createElement("circle");s.setAttribute("r",(o>0?o:(n+r)/2).toString()),s.setAttribute("cx",e.x.toString()),s.setAttribute("cy",e.y.toString()),s.setAttribute("fill",t),i.appendChild(s)}),i.outerHTML}};var ip=(em=function(e,t){return(em=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}em(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_signaturepad_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},id=function(e){function QuestionSignaturePadModel(t){var o=e.call(this,t)||this;return o.valueIsUpdatingInternally=!1,o._loadedData=void 0,o.updateValueHandler=function(){o._loadedData=void 0,o.scaleCanvas(!1,!0),o.loadPreview(o.value)},o}return ip(QuestionSignaturePadModel,e),QuestionSignaturePadModel.prototype.getPenColorFromTheme=function(){var e=this.survey;return!!e&&!!e.themeVariables&&e.themeVariables["--sjs-primary-backcolor"]},QuestionSignaturePadModel.prototype.updateColors=function(e){var t=this.getPenColorFromTheme(),o=this.getPropertyByName("penColor");e.penColor=this.penColor||t||o.defaultValue||"#1ab394";var n=this.getPropertyByName("backgroundColor"),r=t?"transparent":void 0,i=this.backgroundImage?"transparent":this.backgroundColor;e.backgroundColor=i||r||n.defaultValue||"#ffffff"},QuestionSignaturePadModel.prototype.getCssRoot=function(t){return new tP().append(e.prototype.getCssRoot.call(this,t)).append(t.small,"300"===this.signatureWidth.toString()).toString()},QuestionSignaturePadModel.prototype.getFormat=function(){return"jpeg"===this.dataFormat?"image/jpeg":"svg"===this.dataFormat?"image/svg+xml":""},QuestionSignaturePadModel.prototype.updateValue=function(){if(this.signaturePad){var e=this.signaturePad.toDataURL(this.getFormat());this.valueIsUpdatingInternally=!0,this.value=e,this.valueIsUpdatingInternally=!1}},QuestionSignaturePadModel.prototype.getType=function(){return"signaturepad"},QuestionSignaturePadModel.prototype.afterRenderQuestionElement=function(t){t&&(this.isDesignMode||this.initSignaturePad(t),this.element=t),e.prototype.afterRenderQuestionElement.call(this,t)},QuestionSignaturePadModel.prototype.beforeDestroyQuestionElement=function(e){e&&this.destroySignaturePad(e)},QuestionSignaturePadModel.prototype.themeChanged=function(e){this.signaturePad&&this.updateColors(this.signaturePad)},QuestionSignaturePadModel.prototype.resizeCanvas=function(){this.canvas.width=this.containerWidth,this.canvas.height=this.containerHeight},QuestionSignaturePadModel.prototype.scaleCanvas=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);var o=this.canvas,n=o.offsetWidth/this.containerWidth;(this.scale!=n||t)&&(this.scale=n,o.style.width=this.renderedCanvasWidth,this.resizeCanvas(),this.signaturePad.minWidth=this.penMinWidth*n,this.signaturePad.maxWidth=this.penMaxWidth*n,o.getContext("2d").scale(1/n,1/n),e&&this.loadPreview(this.value))},QuestionSignaturePadModel.prototype.fromUrl=function(e){var t=this;if(this.isFileLoading=!0,"string"==typeof e?/^data:((?:\w+\/(?:(?!;).)+)?)((?:;[^;]+?)*),(.+)$/.test(e):null)this.fromDataUrl(e),this.isFileLoading=!1;else{var o=new Image;o.crossOrigin="anonymous",o.src=e,o.onload=function(){if(t.canvas){var e=eD.createElement("canvas");e.width=t.containerWidth,e.height=t.containerHeight,e.getContext("2d").drawImage(o,0,0);var n=e.toDataURL(t.getFormat());t.fromDataUrl(n)}t.isFileLoading=!1},o.onerror=function(){t.isFileLoading=!1}}},QuestionSignaturePadModel.prototype.fromDataUrl=function(e){this._loadedData=e,this.signaturePad&&this.signaturePad.fromDataURL(e,{width:this.canvas.width*this.scale,height:this.canvas.height*this.scale})},Object.defineProperty(QuestionSignaturePadModel.prototype,"loadedData",{get:function(){return this._loadedData},enumerable:!1,configurable:!0}),QuestionSignaturePadModel.prototype.loadPreview=function(e){var t=this;if(!e){this.signaturePad&&this.canvas&&(this.canvas.getContext("2d").clearRect(0,0,this.canvas.width*this.scale,this.canvas.height*this.scale),this.signaturePad.clear()),this.valueWasChangedFromLastUpload=!1;return}if(this.storeDataAsText)this.fromDataUrl(e);else if(this.loadedData)this.fromDataUrl(this.loadedData);else{var o=e?[e]:[];this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new r2(this,function(o,n){"success"===o&&n&&n.length>0&&n[0].content?(t.fromDataUrl(n[0].content),t.isFileLoading=!1):"skipped"===o&&t.fromUrl(e),t._previewLoader.dispose(),t._previewLoader=void 0}),this._previewLoader.load(o)}},QuestionSignaturePadModel.prototype.onChangeQuestionValue=function(t){e.prototype.onChangeQuestionValue.call(this,t),this.isLoadingFromJson||(this._loadedData=void 0,this.loadPreview(t))},QuestionSignaturePadModel.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.loadPreview(this.value)},QuestionSignaturePadModel.prototype.initSignaturePad=function(e){var t=this,o=e.getElementsByTagName("canvas")[0];this.canvas=o,this.resizeCanvas();var n=new SignaturePad(o,{backgroundColor:"#ffffff"});this.signaturePad=n,this.isInputReadOnly&&n.off(),this.readOnlyChangedCallback=function(){t.isInputReadOnly?n.off():n.on()},this.updateColors(n),n.addEventListener("beginStroke",function(){t.scaleCanvas(),t.isDrawingValue=!0,o.focus()},{once:!1}),n.addEventListener("endStroke",function(){t.isDrawingValue=!1,t.storeDataAsText?t.updateValue():t.valueWasChangedFromLastUpload=!0},{once:!1}),this.updateValueHandler(),this.readOnlyChangedCallback();var propertyChangedHandler=function(e,o){"signatureWidth"!==o.name&&"signatureHeight"!==o.name||t.valueIsUpdatingInternally||t.updateValueHandler()};this.onPropertyChanged.add(propertyChangedHandler),this.signaturePad.propertyChangedHandler=propertyChangedHandler},QuestionSignaturePadModel.prototype.destroySignaturePad=function(e){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(QuestionSignaturePadModel.prototype,"dataFormat",{get:function(){return this.getPropertyValue("dataFormat")},set:function(e){this.setPropertyValue("dataFormat",correctFormatData(e))},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(e){this.setPropertyValue("signatureWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(e){this.setPropertyValue("signatureHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"containerHeight",{get:function(){return this.signatureHeight||200},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"containerWidth",{get:function(){return this.signatureWidth||300},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"renderedCanvasWidth",{get:function(){return this.signatureAutoScaleEnabled?"100%":this.containerWidth+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){this.setPropertyValue("height",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(e){this.setPropertyValue("allowClear",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"canShowClearButton",{get:function(){var e=!this.nothingIsDrawn(),t=this.isUploading;return!this.isInputReadOnly&&this.allowClear&&e&&!t},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(e){this.setPropertyValue("penColor",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(e){this.setPropertyValue("backgroundColor",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"backgroundImage",{get:function(){return this.getPropertyValue("backgroundImage")},set:function(e){this.setPropertyValue("backgroundImage",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionSignaturePadModel.prototype,"locRenderedPlaceholder",{get:function(){return this.isReadOnly?this.locPlaceholderReadOnly:this.locPlaceholder},enumerable:!1,configurable:!0}),QuestionSignaturePadModel.prototype.nothingIsDrawn=function(){var e=this.isDrawingValue,t=this.isEmpty(),o=this.isUploading,n=this.valueWasChangedFromLastUpload;return!e&&t&&!o&&!n},QuestionSignaturePadModel.prototype.needShowPlaceholder=function(){return this.showPlaceholder&&this.nothingIsDrawn()},QuestionSignaturePadModel.prototype.onBlurCore=function(t){if(e.prototype.onBlurCore.call(this,t),!this.storeDataAsText&&!this.element.contains(t.relatedTarget)){var o,n,r,i,s;this.valueWasChangedFromLastUpload&&(this.uploadFiles([(o=this.signaturePad.toDataURL(this.getFormat()),n=this.name+"."+correctFormatData(this.dataFormat),r=this.getFormat(),i=atob(o.split(",")[1]),s=new Uint8Array(i.split("").map(function(e){return e.charCodeAt(0)})).buffer,new File([s],n,{type:r}))]),this.valueWasChangedFromLastUpload=!1)}},QuestionSignaturePadModel.prototype.uploadResultItemToValue=function(e){return e.content},QuestionSignaturePadModel.prototype.setValueFromResult=function(e){this.valueIsUpdatingInternally=!0,this.value=(null==e?void 0:e.length)?e.map(function(e){return e.content})[0]:void 0,this.valueIsUpdatingInternally=!1},QuestionSignaturePadModel.prototype.clearValue=function(t){this.valueWasChangedFromLastUpload=!1,e.prototype.clearValue.call(this,t),this._loadedData=void 0,this.loadPreview(this.value)},QuestionSignaturePadModel.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),300===this.signatureWidth&&this.width&&"number"==typeof this.width&&this.width&&(e0.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),200===this.signatureHeight&&this.height&&(e0.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},question_signaturepad_decorate([jsonobject_property({defaultValue:!1})],QuestionSignaturePadModel.prototype,"isDrawingValue",void 0),question_signaturepad_decorate([jsonobject_property({defaultValue:!1})],QuestionSignaturePadModel.prototype,"isReadyForUpload",void 0),question_signaturepad_decorate([jsonobject_property({defaultValue:!1})],QuestionSignaturePadModel.prototype,"valueWasChangedFromLastUpload",void 0),question_signaturepad_decorate([jsonobject_property()],QuestionSignaturePadModel.prototype,"signatureAutoScaleEnabled",void 0),question_signaturepad_decorate([jsonobject_property()],QuestionSignaturePadModel.prototype,"penMinWidth",void 0),question_signaturepad_decorate([jsonobject_property()],QuestionSignaturePadModel.prototype,"penMaxWidth",void 0),question_signaturepad_decorate([jsonobject_property({})],QuestionSignaturePadModel.prototype,"showPlaceholder",void 0),question_signaturepad_decorate([jsonobject_property({localizable:{defaultStr:"signaturePlaceHolder"}})],QuestionSignaturePadModel.prototype,"placeholder",void 0),question_signaturepad_decorate([jsonobject_property({localizable:{defaultStr:"signaturePlaceHolderReadOnly"}})],QuestionSignaturePadModel.prototype,"placeholderReadOnly",void 0),QuestionSignaturePadModel}(rX);function correctFormatData(e){return e||(e="png"),"jpeg"!==(e=e.replace("image/","").replace("+xml",""))&&"svg"!==e&&(e="png"),e}eY.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"signatureAutoScaleEnabled:boolean",category:"general",default:!1},{name:"penMinWidth:number",category:"general",default:.5},{name:"penMaxWidth:number",category:"general",default:2.5},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"showPlaceholder:boolean",category:"general",default:!0},{name:"placeholder:text",serializationProperty:"locPlaceholder",category:"general",dependsOn:"showPlaceholder",visibleIf:function(e){return e.showPlaceholder}},{name:"placeholderReadOnly:text",serializationProperty:"locPlaceholderReadOnly",category:"general",dependsOn:"showPlaceholder",visibleIf:function(e){return e.showPlaceholder}},{name:"backgroundImage:file",category:"general"},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}],onSettingValue:function(e,t){return correctFormatData(t)}},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1}],function(){return new id("")},"question"),oJ.Instance.registerQuestion("signaturepad",function(e){return new id(e)});var ih=(ev=function(e,t){return(ev=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ev(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_paneldynamic_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},question_paneldynamic_spreadArray=function(e,t){for(var o=0,n=t.length,r=e.length;o<n;o++,r++)e[r]=t[o];return e},ig=function(e){function QuestionPanelDynamicItemTextProcessor(t,o,n){var r=e.call(this,n)||this;return r.data=t,r.panelItem=o,r.variableName=n,r.sharedQuestions={},r}return ih(QuestionPanelDynamicItemTextProcessor,e),Object.defineProperty(QuestionPanelDynamicItemTextProcessor.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicItemTextProcessor.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicItemTextProcessor.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicItemTextProcessor.prototype,"visiblePanelIndex",{get:function(){return this.data?this.data.getVisibleItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),QuestionPanelDynamicItemTextProcessor.prototype.getValues=function(){return this.panelItem.getAllValues()},QuestionPanelDynamicItemTextProcessor.prototype.getQuestionByName=function(t){var o=e.prototype.getQuestionByName.call(this,t);if(o)return o;var n=this.panelIndex,r=(o=n>-1?this.data.getSharedQuestionFromArray(t,n):void 0)?o.name:t;return this.sharedQuestions[r]=t,o},QuestionPanelDynamicItemTextProcessor.prototype.getQuestionDisplayText=function(t){var o=this.sharedQuestions[t.name];if(!o)return e.prototype.getQuestionDisplayText.call(this,t);var n=this.panelItem.getValue(o);return t.getDisplayValue(!0,n)},QuestionPanelDynamicItemTextProcessor.prototype.onCustomProcessText=function(e){if(e.name==iy.IndexVariableName){var t=this.panelIndex;if(t>-1)return e.isExists=!0,e.value=t+1,!0}if(e.name==iy.VisibleIndexVariableName){var t=this.visiblePanelIndex;if(t>-1)return e.isExists=!0,e.value=t+1,!0}if(0==e.name.toLowerCase().indexOf(iy.ParentItemVariableName+".")){var o=this.data;if(o&&o.parentQuestion&&o.parent&&o.parent.data){var n=new QuestionPanelDynamicItemTextProcessor(o.parentQuestion,o.parent.data,iy.ItemVariableName),r=iy.ItemVariableName+e.name.substring(iy.ParentItemVariableName.length),i=n.processValue(r,e.returnDisplayValue);e.isExists=i.isExists,e.value=i.value}return!0}return!1},QuestionPanelDynamicItemTextProcessor}(oB),iy=function(){function QuestionPanelDynamicItem(e,t){this.data=e,this.panelValue=t,this.textPreProcessor=new ig(e,this,QuestionPanelDynamicItem.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(QuestionPanelDynamicItem.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),QuestionPanelDynamicItem.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},QuestionPanelDynamicItem.prototype.getValue=function(e){return this.getAllValues()[e]},QuestionPanelDynamicItem.prototype.setValue=function(e,t){var o=this.data.getPanelItemData(this),n=o?o[e]:void 0;if(!eQ.isTwoValueEquals(t,n,!1,!0,!1)){this.data.setPanelItemData(this,e,eQ.getUnbindValue(t));for(var r=this.panel.questions,i=QuestionPanelDynamicItem.ItemVariableName+"."+e,s=0;s<r.length;s++){var a=r[s];a.getValueName()!==e&&a.checkBindings(e,t),a.runTriggers(i,t)}}},QuestionPanelDynamicItem.prototype.getVariable=function(e){},QuestionPanelDynamicItem.prototype.setVariable=function(e,t){},QuestionPanelDynamicItem.prototype.getComment=function(e){return this.getValue(e+t0.commentSuffix)||""},QuestionPanelDynamicItem.prototype.setComment=function(e,t,o){this.setValue(e+t0.commentSuffix,t)},QuestionPanelDynamicItem.prototype.findQuestionByName=function(e){if(e){var t=QuestionPanelDynamicItem.ItemVariableName+".";if(0===e.indexOf(t))return this.panel.getQuestionByName(e.substring(t.length));var o=this.getSurvey();return o?o.getQuestionByName(e):null}},QuestionPanelDynamicItem.prototype.getEditingSurveyElement=function(){},QuestionPanelDynamicItem.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},QuestionPanelDynamicItem.prototype.getFilteredValues=function(){var e={},t=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var o in t)e[o]=t[o];if(e[QuestionPanelDynamicItem.ItemVariableName]=this.getAllValues(),this.data){var n=QuestionPanelDynamicItem.IndexVariableName,r=QuestionPanelDynamicItem.VisibleIndexVariableName;delete e[n],delete e[r],e[n.toLowerCase()]=this.data.getItemIndex(this),e[r.toLowerCase()]=this.data.getVisibleItemIndex(this);var i=this.data;i&&i.parentQuestion&&i.parent&&(e[QuestionPanelDynamicItem.ParentItemVariableName]=i.parent.getValue())}return e},QuestionPanelDynamicItem.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},QuestionPanelDynamicItem.prototype.getSurveyData=function(){return this},QuestionPanelDynamicItem.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},QuestionPanelDynamicItem.prototype.getTextProcessor=function(){return this.textPreProcessor},QuestionPanelDynamicItem.ItemVariableName="panel",QuestionPanelDynamicItem.ParentItemVariableName="parentpanel",QuestionPanelDynamicItem.IndexVariableName="panelIndex",QuestionPanelDynamicItem.VisibleIndexVariableName="visiblePanelIndex",QuestionPanelDynamicItem}(),im=function(){function QuestionPanelDynamicTemplateSurveyImpl(e){this.data=e}return QuestionPanelDynamicTemplateSurveyImpl.prototype.getSurveyData=function(){return null},QuestionPanelDynamicTemplateSurveyImpl.prototype.getSurvey=function(){return this.data.getSurvey()},QuestionPanelDynamicTemplateSurveyImpl.prototype.getTextProcessor=function(){return null},QuestionPanelDynamicTemplateSurveyImpl}(),iv=function(e){function QuestionPanelDynamicModel(t){var o=e.call(this,t)||this;return o._renderedPanels=[],o.isPanelsAnimationRunning=!1,o.isAddingNewPanels=!1,o.isSetPanelItemData={},o.createNewArray("panels",function(e){o.onPanelAdded(e)},function(e){o.onPanelRemoved(e)}),o.createNewArray("visiblePanels"),o.templateValue=o.createAndSetupNewPanelObject(),o.template.renderWidth="100%",o.template.selectedElementInDesign=o,o.template.addElementCallback=function(e){o.addOnPropertyChangedCallback(e),o.rebuildPanels()},o.template.removeElementCallback=function(){o.rebuildPanels()},o.createLocalizableString("confirmDeleteText",o,!1,"confirmDelete"),o.createLocalizableString("keyDuplicationError",o,!1,!0),o.createLocalizableString("panelAddText",o,!1,"addPanel"),o.createLocalizableString("panelRemoveText",o,!1,"removePanel"),o.createLocalizableString("panelPrevText",o,!1,"pagePrevText"),o.createLocalizableString("panelNextText",o,!1,"pageNextText"),o.createLocalizableString("noEntriesText",o,!1,"noEntriesText"),o.createLocalizableString("templateTabTitle",o,!0,"panelDynamicTabTextFormat"),o.createLocalizableString("tabTitlePlaceholder",o,!0,"tabTitlePlaceholder"),o.registerPropertyChangedHandlers(["panelsState"],function(){o.setPanelsState()}),o.registerPropertyChangedHandlers(["newPanelPosition","displayMode","showProgressBar"],function(){o.updateFooterActions()}),o.registerPropertyChangedHandlers(["allowAddPanel"],function(){o.updateNoEntriesTextDefaultLoc()}),o.registerPropertyChangedHandlers(["minPanelCount"],function(){o.onMinPanelCountChanged()}),o.registerPropertyChangedHandlers(["maxPanelCount"],function(){o.onMaxPanelCountChanged()}),o}return ih(QuestionPanelDynamicModel,e),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.getFirstQuestionToFocus=function(e){for(var t=0;t<this.visiblePanelsCore.length;t++){var o=this.visiblePanelsCore[t].getFirstQuestionToFocus(e);if(o)return o}return this.showAddPanelButton&&(!e||this.currentErrorCount>0)?this:null},QuestionPanelDynamicModel.prototype.getFirstInputElementId=function(){return this.showAddPanelButton?this.addButtonId:e.prototype.getFirstInputElementId.call(this)},QuestionPanelDynamicModel.prototype.setSurveyImpl=function(t,o){e.prototype.setSurveyImpl.call(this,t,o),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},QuestionPanelDynamicModel.prototype.assignOnPropertyChangedToTemplate=function(){for(var e=this.template.elements,t=0;t<e.length;t++)this.addOnPropertyChangedCallback(e[t])},QuestionPanelDynamicModel.prototype.addOnPropertyChangedCallback=function(e){var t=this;e.isQuestion&&e.setParentQuestion(this),e.onPropertyChanged.add(function(e,o){t.onTemplateElementPropertyChanged(e,o)}),e.isPanel&&(e.addElementCallback=function(e){t.addOnPropertyChangedCallback(e)})},QuestionPanelDynamicModel.prototype.onTemplateElementPropertyChanged=function(e,t){if(!this.isLoadingFromJson&&!this.useTemplatePanel&&0!=this.panelsCore.length&&eY.findProperty(e.getType(),t.name))for(var o=this.panelsCore,n=0;n<o.length;n++){var r=o[n].getQuestionByName(e.name);r&&r[t.name]!==t.newValue&&(r[t.name]=t.newValue)}},Object.defineProperty(QuestionPanelDynamicModel.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.getType=function(){return"paneldynamic"},QuestionPanelDynamicModel.prototype.clearOnDeletingContainer=function(){this.panelsCore.forEach(function(e){e.clearOnDeletingContainer()})},Object.defineProperty(QuestionPanelDynamicModel.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.removeElement=function(e){return this.template.removeElement(e)},Object.defineProperty(QuestionPanelDynamicModel.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.getPanel=function(){return this.template},Object.defineProperty(QuestionPanelDynamicModel.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"templateTitle",{get:function(){return this.template.title},set:function(e){this.template.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"templateTabTitle",{get:function(){return this.locTemplateTabTitle.text},set:function(e){this.locTemplateTabTitle.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locTemplateTabTitle",{get:function(){return this.getLocalizableString("templateTabTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"tabTitlePlaceholder",{get:function(){return this.locTabTitlePlaceholder.text},set:function(e){this.locTabTitlePlaceholder.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locTabTitlePlaceholder",{get:function(){return this.getLocalizableString("tabTitlePlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"templateDescription",{get:function(){return this.template.description},set:function(e){this.template.description=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"templateVisibleIf",{get:function(){return this.getPropertyValue("templateVisibleIf")},set:function(e){this.setPropertyValue("templateVisibleIf",e),this.template.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"items",{get:function(){for(var e=[],t=0;t<this.panelsCore.length;t++)e.push(this.panelsCore[t].data);return e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"panels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.panelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"visiblePanels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.visiblePanelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"panelsCore",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"visiblePanelsCore",{get:function(){return this.getPropertyValue("visiblePanels")},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.onPanelAdded=function(e){if(this.onPanelRemovedCore(e),e.visible){for(var t=0,o=this.panelsCore,n=0;n<o.length&&o[n]!==e;n++)o[n].visible&&t++;this.visiblePanelsCore.splice(t,0,e),this.addTabFromToolbar(e,t),this.currentPanel||(this.currentPanel=e),this.updateRenderedPanels()}},QuestionPanelDynamicModel.prototype.onPanelRemoved=function(e){var t=this.onPanelRemovedCore(e);if(this.currentPanel===e){var o=this.visiblePanelsCore;t>=o.length&&(t=o.length-1),this.currentPanel=t>=0?o[t]:null}this.updateRenderedPanels()},QuestionPanelDynamicModel.prototype.onPanelRemovedCore=function(e){var t=this.visiblePanelsCore,o=t.indexOf(e);return o>-1&&(t.splice(o,1),this.removeTabFromToolbar(e)),o},Object.defineProperty(QuestionPanelDynamicModel.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanelsCore.indexOf(this.currentPanel)},set:function(e){e<0||this.visiblePanelCount<1||(e>=this.visiblePanelCount&&(e=this.visiblePanelCount-1),this.currentPanel=this.visiblePanelsCore[e])},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"currentPanel",{get:function(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;var e=this.getPropertyValue("currentPanel",null);return!e&&this.visiblePanelCount>0&&(e=this.visiblePanelsCore[0],this.currentPanel=e),e},set:function(e){if(!this.isRenderModeList&&!this.useTemplatePanel){var t=this.getPropertyValue("currentPanel"),o=e?this.visiblePanelsCore.indexOf(e):-1;(!e||!(o<0))&&e!==t&&(t&&t.onHidingContent(),this.setPropertyValue("currentPanel",e),this.updateRenderedPanels(),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback),o>-1&&this.survey&&this.survey.dynamicPanelCurrentIndexChanged(this,{panel:e,visiblePanelIndex:o}))}},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.updateRenderedPanels=function(){this.isRenderModeList?this.renderedPanels=[].concat(this.visiblePanels):this.currentPanel?this.renderedPanels=[this.currentPanel]:this.renderedPanels=[]},Object.defineProperty(QuestionPanelDynamicModel.prototype,"renderedPanels",{get:function(){return this._renderedPanels},set:function(e){0==this.renderedPanels.length||0==e.length?(this.blockAnimations(),this.panelsAnimation.sync(e),this.releaseAnimations()):(this.isPanelsAnimationRunning=!0,this.panelsAnimation.sync(e))},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.getPanelsAnimationOptions=function(){var e=this,getDirectionCssClass=function(){if(e.isRenderModeList)return"";var t=new tP,o=!1,n=e.renderedPanels.filter(function(t){return t!==e.currentPanel})[0],r=e.visiblePanels.indexOf(n);return r<0&&(o=!0,r=e.removedPanelIndex),t.append("sv-pd-animation-adding",!!e.focusNewPanelCallback).append("sv-pd-animation-removing",o).append("sv-pd-animation-left",r<=e.currentIndex).append("sv-pd-animation-right",r>e.currentIndex).toString()};return{getRerenderEvent:function(){return e.onElementRerendered},getAnimatedElement:function(t){var o,n;if(t&&e.cssContent){var r=classesToSelector(e.cssContent);return null===(n=null===(o=e.getWrapperElement())||void 0===o?void 0:o.querySelector(":scope "+r+" #"+t.id))||void 0===n?void 0:n.parentElement}},getEnterOptions:function(){return{onBeforeRunAnimation:function(t){if(e.focusNewPanelCallback){var o=e.isRenderModeList?t:t.parentElement;t$.ScrollElementToViewCore(o,!1,!1,{behavior:"smooth"})}!e.isRenderModeList&&t.parentElement?setPropertiesOnElementForAnimation(t.parentElement,{heightTo:t.offsetHeight+"px"}):prepareElementForVerticalAnimation(t)},onAfterRunAnimation:function(e){cleanHtmlElementAfterAnimation(e),e.parentElement&&cleanHtmlElementAfterAnimation(e.parentElement)},cssClass:new tP().append(e.cssClasses.panelWrapperEnter).append(getDirectionCssClass()).toString()}},getLeaveOptions:function(){return{onBeforeRunAnimation:function(t){!e.isRenderModeList&&t.parentElement?setPropertiesOnElementForAnimation(t.parentElement,{heightFrom:t.offsetHeight+"px"}):prepareElementForVerticalAnimation(t)},onAfterRunAnimation:function(e){cleanHtmlElementAfterAnimation(e),e.parentElement&&cleanHtmlElementAfterAnimation(e.parentElement)},cssClass:new tP().append(e.cssClasses.panelWrapperLeave).append(getDirectionCssClass()).toString()}},isAnimationEnabled:function(){return e.animationAllowed&&!!e.getWrapperElement()}}},QuestionPanelDynamicModel.prototype.disablePanelsAnimations=function(){this.panelsCore.forEach(function(e){e.blockAnimations()})},QuestionPanelDynamicModel.prototype.enablePanelsAnimations=function(){this.panelsCore.forEach(function(e){e.releaseAnimations()})},QuestionPanelDynamicModel.prototype.updatePanelsAnimation=function(){var e=this;this._panelsAnimations=new(this.isRenderModeList?tz:tU)(this.getPanelsAnimationOptions(),function(t,o){e._renderedPanels=t,o||(e.isPanelsAnimationRunning=!1,e.focusNewPanel())},function(){return e._renderedPanels})},Object.defineProperty(QuestionPanelDynamicModel.prototype,"panelsAnimation",{get:function(){return this._panelsAnimations||this.updatePanelsAnimation(),this._panelsAnimations},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.onHidingContent=function(){e.prototype.onHidingContent.call(this),this.currentPanel?this.currentPanel.onHidingContent():this.visiblePanelsCore.forEach(function(e){return e.onHidingContent()})},Object.defineProperty(QuestionPanelDynamicModel.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(e){this.setLocalizableStringText("panelPrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(e){this.setLocalizableStringText("panelNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(e){this.setLocalizableStringText("panelAddText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(e){this.setLocalizableStringText("panelRemoveText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isProgressTopShowing",{get:function(){return"carousel"==this.displayMode&&("top"===this.progressBarLocation||"topBottom"===this.progressBarLocation)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isProgressBottomShowing",{get:function(){return"carousel"==this.displayMode&&("bottom"===this.progressBarLocation||"topBottom"===this.progressBarLocation)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isPrevButtonVisible",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isPrevButtonShowing",{get:function(){return this.isPrevButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isNextButtonVisible",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isNextButtonShowing",{get:function(){return this.isNextButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.visiblePanelCount>1},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.getElementsInDesign=function(e){return void 0===e&&(e=!1),e?[this.template]:this.templateElements},QuestionPanelDynamicModel.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},QuestionPanelDynamicModel.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},QuestionPanelDynamicModel.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:e.prototype.getValueCore.call(this)},QuestionPanelDynamicModel.prototype.setValueCore=function(t){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=t):e.prototype.setValueCore.call(this,t)},QuestionPanelDynamicModel.prototype.setIsMobile=function(t){e.prototype.setIsMobile.call(this,t),(this.panelsCore||[]).forEach(function(e){return e.getQuestions(!0).forEach(function(e){e.setIsMobile(t)})})},QuestionPanelDynamicModel.prototype.themeChanged=function(t){e.prototype.themeChanged.call(this,t),(this.panelsCore||[]).forEach(function(e){return e.getQuestions(!0).forEach(function(e){e.themeChanged(t)})})},Object.defineProperty(QuestionPanelDynamicModel.prototype,"panelCount",{get:function(){return!this.canBuildPanels||this.wasNotRenderedInSurvey?this.getPropertyValue("panelCount"):this.panelsCore.length},set:function(e){if(!(e<0)){if(!this.canBuildPanels||this.wasNotRenderedInSurvey){this.setPropertyValue("panelCount",e);return}if(e!=this.panelsCore.length&&!this.useTemplatePanel){this.updateBindings("panelCount",e),this.prepareValueForPanelCreating();for(var t=this.panelCount;t<e;t++){var o=this.createNewPanel();this.panelsCore.push(o),"list"==this.displayMode&&"default"!=this.panelsState&&("expanded"===this.panelsState?o.expand():o.title&&o.collapse())}e<this.panelCount&&this.panelsCore.splice(e,this.panelCount-e),this.disablePanelsAnimations(),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.enablePanelsAnimations()}}},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"visiblePanelCount",{get:function(){return this.visiblePanels.length},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(e){this.setPropertyValue("panelsState",e)},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new im(this))},QuestionPanelDynamicModel.prototype.setPanelsSurveyImpl=function(){for(var e=0;e<this.panelsCore.length;e++){var t=this.panelsCore[e];t!=this.template&&t.setSurveyImpl(t.data)}},QuestionPanelDynamicModel.prototype.setPanelsState=function(){if(!this.useTemplatePanel&&"list"==this.displayMode&&this.templateTitle)for(var e=0;e<this.panelsCore.length;e++){var t=this.panelsState;"firstExpanded"===t&&(t=0===e?"expanded":"collapsed"),this.panelsCore[e].state=t}},QuestionPanelDynamicModel.prototype.setValueBasedOnPanelCount=function(){var e=this.value;if(e&&Array.isArray(e)||(e=[]),e.length!=this.panelCount){for(var t=e.length;t<this.panelCount;t++){var o=this.panels[t].getValue(),n=eQ.isValueEmpty(o)?{}:o;e.push(n)}e.length>this.panelCount&&e.splice(this.panelCount,e.length-this.panelCount),this.isValueChangingInternally=!0,this.value=e,this.isValueChangingInternally=!1}},Object.defineProperty(QuestionPanelDynamicModel.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(e){e<0&&(e=0),this.setPropertyValue("minPanelCount",e)},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.onMinPanelCountChanged=function(){var e=this.minPanelCount;e>this.maxPanelCount&&(this.maxPanelCount=e),this.panelCount<e&&(this.panelCount=e)},Object.defineProperty(QuestionPanelDynamicModel.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(e){e<=0||(e>t0.panel.maxPanelCount&&(e=t0.panel.maxPanelCount),this.setPropertyValue("maxPanelCount",e),this.updateFooterActions())},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.onMaxPanelCountChanged=function(){var e=this.maxPanelCount;e<this.minPanelCount&&(this.minPanelCount=e),this.panelCount>e&&(this.panelCount=e),this.updateFooterActions()},Object.defineProperty(QuestionPanelDynamicModel.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(e){this.setPropertyValue("allowAddPanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"addButtonId",{get:function(){return this.id+"addPanel"},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"newPanelPosition",{get:function(){return this.getPropertyValue("newPanelPosition")},set:function(e){this.setPropertyValue("newPanelPosition",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(e){this.setPropertyValue("allowRemovePanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(e){this.setPropertyValue("templateTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"templateErrorLocation",{get:function(){return this.getPropertyValue("templateErrorLocation")},set:function(e){this.setPropertyValue("templateErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible,!0)},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.notifySurveyOnChildrenVisibilityChanged=function(){return"onSurvey"===this.showQuestionNumbers},Object.defineProperty(QuestionPanelDynamicModel.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(e){this.setPropertyValue("panelRemoveButtonLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"showRangeInProgress",{get:function(){return this.showProgressBar},set:function(e){this.showProgressBar=e},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"renderMode",{get:function(){var e=this.displayMode;if("carousel"==e){var t=this.progressBarLocation;if("top"==t)return"progressTop";if("bottom"==t)return"progressBottom";if("topBottom"==t)return"progressTopBottom"}return e},set:function(e){(e||"").startsWith("progress")?("progressTop"==e?this.progressBarLocation="top":"progressBottom"==e?this.progressBarLocation="bottom":"progressTopBottom"==e&&(this.progressBarLocation="topBottom"),this.displayMode="carousel"):this.displayMode=e},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.updatePanelView=function(){this.blockAnimations(),this.updateRenderedPanels(),this.releaseAnimations(),this.updatePanelsAnimation()},Object.defineProperty(QuestionPanelDynamicModel.prototype,"tabAlign",{get:function(){return this.getPropertyValue("tabAlign")},set:function(e){this.setPropertyValue("tabAlign",e),this.isRenderModeTab&&(this.additionalTitleToolbar.containerCss=this.getAdditionalTitleToolbarCss())},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isRenderModeList",{get:function(){return"list"===this.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"isRenderModeTab",{get:function(){return"tab"===this.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"hasTitleOnLeftTop",{get:function(){if(this.isRenderModeTab&&this.visiblePanelCount>0)return!0;if(!this.hasTitle)return!1;var e=this.getTitleLocation();return"left"===e||"top"===e},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.setVisibleIndex=function(t){if(!this.isVisible)return 0;for(var o="onSurvey"===this.showQuestionNumbers,n=o?t:0,r=this.isDesignMode?[this.template]:this.visiblePanelsCore,i=0;i<r.length;i++){var s=this.setPanelVisibleIndex(r[i],n,"off"!=this.showQuestionNumbers);o&&(n+=s)}return e.prototype.setVisibleIndex.call(this,o?-1:t),o?n-t:1},QuestionPanelDynamicModel.prototype.setPanelVisibleIndex=function(e,t,o){return o?e.setVisibleIndex(t):(e.setVisibleIndex(-1),0)},Object.defineProperty(QuestionPanelDynamicModel.prototype,"canAddPanel",{get:function(){return!this.isDesignMode&&(!this.isDefaultV2Theme||!!this.legacyNavigation||!!this.isRenderModeList||!(this.currentIndex<this.visiblePanelCount-1)||"next"===this.newPanelPosition)&&this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"canRemovePanel",{get:function(){return!this.isDesignMode&&this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.rebuildPanels=function(){if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var e,t=[];if(this.useTemplatePanel)new iy(this,this.template),t.push(this.template);else for(var o=0;o<this.panelCount;o++)this.createNewPanel(),t.push(this.createNewPanel());(e=this.panelsCore).splice.apply(e,question_paneldynamic_spreadArray([0,this.panelsCore.length],t)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}},Object.defineProperty(QuestionPanelDynamicModel.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(e){this.setPropertyValue("defaultPanelValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel")},set:function(e){this.setPropertyValue("defaultValueFromLastPanel",e)},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.isDefaultValueEmpty=function(){return e.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},QuestionPanelDynamicModel.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){e.prototype.setDefaultValue.call(this);return}if(this.isEmpty()&&0!=this.panelCount){for(var t=[],o=0;o<this.panelCount;o++)t.push(this.defaultPanelValue);this.value=t}},Object.defineProperty(QuestionPanelDynamicModel.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.isEmpty=function(){var e=this.value;if(!e||!Array.isArray(e))return!0;for(var t=0;t<e.length;t++)if(!this.isRowEmpty(e[t]))return!1;return!0},QuestionPanelDynamicModel.prototype.getProgressInfo=function(){return t$.getProgressInfoByElements(this.visiblePanelsCore,this.isRequired)},QuestionPanelDynamicModel.prototype.isRowEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},QuestionPanelDynamicModel.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var e=this.addPanel();return"list"===this.displayMode&&"default"!==this.panelsState&&e.expand(),this.focusNewPanelCallback=function(){e.focusFirstQuestion()},this.isPanelsAnimationRunning||this.focusNewPanel(),e},QuestionPanelDynamicModel.prototype.focusNewPanel=function(){this.focusNewPanelCallback&&(this.focusNewPanelCallback(),this.focusNewPanelCallback=void 0)},QuestionPanelDynamicModel.prototype.addPanel=function(e){var t=this.currentIndex;return void 0===e&&(e=t<0?this.panelCount:t+1),(e<0||e>this.panelCount)&&(e=this.panelCount),this.updateValueOnAddingPanel(t<0?this.panelCount-1:t,e),this.isRenderModeList||(this.currentIndex=e),this.survey&&this.survey.dynamicPanelAdded(this),this.panelsCore[e]},QuestionPanelDynamicModel.prototype.updateValueOnAddingPanel=function(e,t){this.panelCount++;var o=this.value;if(Array.isArray(o)&&o.length===this.panelCount){var n=!1,r=this.panelCount-1;if(t<r){n=!0;var i=o[r];o.splice(r,1),o.splice(t,0,i)}if(this.isValueEmpty(this.defaultPanelValue)||(n=!0,this.copyValue(o[t],this.defaultPanelValue)),this.defaultValueFromLastPanel&&o.length>1){var s=e>-1&&e<=r?e:r;n=!0,this.copyValue(o[t],o[s])}n&&(this.value=o)}},QuestionPanelDynamicModel.prototype.canLeaveCurrentPanel=function(){return!("list"!==this.displayMode&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))},QuestionPanelDynamicModel.prototype.copyValue=function(e,t){for(var o in t)e[o]=t[o]},QuestionPanelDynamicModel.prototype.removePanelUI=function(e){var t=this,o=this.getVisualPanelIndex(e);if(!(o<0)&&!(o>=this.visiblePanelCount)&&this.canRemovePanel){var removePanel=function(){t.removePanel(o);var e,n=t.visiblePanelCount,r=o>=n?n-1:o,i=0===n?t.addButtonId:r>-1?t.getPanelRemoveButtonId(t.visiblePanels[r]):"";i&&t$.FocusElement(i,!0,null===(e=t.survey)||void 0===e?void 0:e.rootElement)};this.isRequireConfirmOnDelete(e)?confirmActionAsync(this.confirmDeleteText,function(){removePanel()},void 0,this.getLocale(),this.survey.rootElement):removePanel()}},QuestionPanelDynamicModel.prototype.getPanelRemoveButtonId=function(e){return e.id+"_remove_button"},QuestionPanelDynamicModel.prototype.isRequireConfirmOnDelete=function(e){if(!this.confirmDelete)return!1;var t=this.getVisualPanelIndex(e);if(t<0||t>=this.visiblePanelCount)return!1;var o=this.visiblePanelsCore[t].getValue();return!this.isValueEmpty(o)&&(this.isValueEmpty(this.defaultPanelValue)||!this.isTwoValueEquals(o,this.defaultPanelValue))},QuestionPanelDynamicModel.prototype.goToNextPanel=function(){return!(this.currentIndex<0)&&!!this.canLeaveCurrentPanel()&&(this.currentIndex++,!0)},QuestionPanelDynamicModel.prototype.goToPrevPanel=function(){!(this.currentIndex<0)&&this.currentIndex--},QuestionPanelDynamicModel.prototype.removePanel=function(e){var t=this.getVisualPanelIndex(e);if(!(t<0)&&!(t>=this.visiblePanelCount)){this.removedPanelIndex=t;var o=this.visiblePanelsCore[t],n=this.panelsCore.indexOf(o);if(!(n<0)&&(!this.survey||this.survey.dynamicPanelRemoving(this,n,o))){this.panelsCore.splice(n,1),this.updateBindings("panelCount",this.panelCount);var e=this.value;e&&Array.isArray(e)&&!(n>=e.length)&&(this.isValueChangingInternally=!0,e.splice(n,1),this.value=e,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,n,o),this.isValueChangingInternally=!1)}}},QuestionPanelDynamicModel.prototype.getVisualPanelIndex=function(e){if(eQ.isNumber(e))return e;for(var t=this.visiblePanelsCore,o=0;o<t.length;o++)if(t[o]===e||t[o].data===e)return o;return -1},QuestionPanelDynamicModel.prototype.getPanelVisibleIndexById=function(e){for(var t=this.visiblePanelsCore,o=0;o<t.length;o++)if(t[o].id===e)return o;return -1},QuestionPanelDynamicModel.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this);for(var t=this.panelsCore,o=0;o<t.length;o++)t[o].locStrsChanged();this.additionalTitleToolbar&&this.additionalTitleToolbar.locStrsChanged()},QuestionPanelDynamicModel.prototype.clearIncorrectValues=function(){for(var e=0;e<this.panelsCore.length;e++)this.clearIncorrectValuesInPanel(e)},QuestionPanelDynamicModel.prototype.clearErrors=function(){e.prototype.clearErrors.call(this);for(var t=0;t<this.panelsCore.length;t++)this.panelsCore[t].clearErrors()},QuestionPanelDynamicModel.prototype.getQuestionFromArray=function(e,t){return t<0||t>=this.panelsCore.length?null:this.panelsCore[t].getQuestionByName(e)},QuestionPanelDynamicModel.prototype.clearIncorrectValuesInPanel=function(e){var t=this.panelsCore[e];t.clearIncorrectValues();var o=this.value,n=o&&e<o.length?o[e]:null;if(n){var r=!1;for(var i in n)!(this.getSharedQuestionFromArray(i,e)||t.getQuestionByName(i))&&(this.iscorrectValueWithPostPrefix(t,i,t0.commentSuffix)||this.iscorrectValueWithPostPrefix(t,i,t0.matrix.totalsSuffix)||(delete n[i],r=!0));r&&(o[e]=n,this.value=o)}},QuestionPanelDynamicModel.prototype.iscorrectValueWithPostPrefix=function(e,t,o){return t.indexOf(o)===t.length-o.length&&!!e.getQuestionByName(t.substring(0,t.indexOf(o)))},QuestionPanelDynamicModel.prototype.getSharedQuestionFromArray=function(e,t){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,t):null},QuestionPanelDynamicModel.prototype.addConditionObjectsByContext=function(e,t){for(var o=(null==t?void 0:t.isValidator)?t.errorOwner:t,n=!!t&&(!0===t||this.template.questions.indexOf(o)>-1),r=[],i=this.template.questions,s=0;s<i.length;s++)i[s].addConditionObjectsByContext(r,t);for(var a=0;a<t0.panel.maxPanelCountInCondition;a++)for(var l="["+a+"].",u=this.getValueName()+l,c=this.processedTitle+l,s=0;s<r.length;s++)r[s].context?e.push(r[s]):e.push({name:u+r[s].name,text:c+r[s].text,question:r[s].question});if(n){for(var u=!0===t?this.getValueName()+".":"",c=!0===t?this.processedTitle+".":"",s=0;s<r.length;s++)if(r[s].question!=t){var p={name:u+iy.ItemVariableName+"."+r[s].name,text:c+iy.ItemVariableName+"."+r[s].text,question:r[s].question};p.context=this,e.push(p)}}},QuestionPanelDynamicModel.prototype.collectNestedQuestionsCore=function(e,t){var o=t?this.visiblePanelsCore:this.panelsCore;Array.isArray(o)&&o.forEach(function(o){o.questions.forEach(function(o){return o.collectNestedQuestions(e,t)})})},QuestionPanelDynamicModel.prototype.getConditionJson=function(t,o){if(void 0===t&&(t=null),void 0===o&&(o=null),!o)return e.prototype.getConditionJson.call(this,t);var n=o,r=o.indexOf(".");r>-1&&(n=o.substring(0,r),o=o.substring(r+1));var i=this.template.getQuestionByName(n);return i?i.getConditionJson(t,o):null},QuestionPanelDynamicModel.prototype.onReadOnlyChanged=function(){var t=this.isReadOnly;this.template.readOnly=t;for(var o=0;o<this.panelsCore.length;o++)this.panelsCore[o].readOnly=t;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),e.prototype.onReadOnlyChanged.call(this)},QuestionPanelDynamicModel.prototype.updateNoEntriesTextDefaultLoc=function(){var e=this.getLocalizableString("noEntriesText");e&&(e.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText")},QuestionPanelDynamicModel.prototype.onSurveyLoad=function(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.panelCount<this.minPanelCount&&(this.panelCount=this.minPanelCount),this.panelCount>this.maxPanelCount&&(this.panelCount=this.maxPanelCount),this.buildPanelsFirstTime(),e.prototype.onSurveyLoad.call(this)},QuestionPanelDynamicModel.prototype.buildPanelsFirstTime=function(e){if(void 0===e&&(e=!1),!this.hasPanelBuildFirstTime&&(e||!this.wasNotRenderedInSurvey)){if(this.blockAnimations(),this.hasPanelBuildFirstTime=!0,this.isBuildingPanelsFirstTime=!0,this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var t=0;t<this.panelCount;t++)this.survey.dynamicPanelAdded(this);this.updateIsReady(),this.showAddPanelButton||this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),this.isBuildingPanelsFirstTime=!1,this.releaseAnimations()}},Object.defineProperty(QuestionPanelDynamicModel.prototype,"showAddPanelButton",{get:function(){return this.allowAddPanel&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"wasNotRenderedInSurvey",{get:function(){return!this.hasPanelBuildFirstTime&&!this.wasRendered&&!!this.survey},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"canBuildPanels",{get:function(){return!this.isLoadingFromJson&&!this.useTemplatePanel},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.onFirstRendering=function(){e.prototype.onFirstRendering.call(this),this.buildPanelsFirstTime(),this.template.onFirstRendering();for(var t=0;t<this.panelsCore.length;t++)this.panelsCore[t].onFirstRendering()},QuestionPanelDynamicModel.prototype.localeChanged=function(){e.prototype.localeChanged.call(this);for(var t=0;t<this.panelsCore.length;t++)this.panelsCore[t].localeChanged()},QuestionPanelDynamicModel.prototype.runCondition=function(t,o){e.prototype.runCondition.call(this,t,o),this.runPanelsCondition(this.panelsCore,t,o)},QuestionPanelDynamicModel.prototype.runTriggers=function(t,o){e.prototype.runTriggers.call(this,t,o),this.visiblePanelsCore.forEach(function(e){e.questions.forEach(function(e){return e.runTriggers(t,o)})})},QuestionPanelDynamicModel.prototype.reRunCondition=function(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},QuestionPanelDynamicModel.prototype.runPanelsCondition=function(e,t,o){var n={};t&&t instanceof Object&&(n=JSON.parse(JSON.stringify(t))),this.parentQuestion&&this.parent&&(n[iy.ParentItemVariableName]=this.parent.getValue()),this.isValueChangingInternally=!0;for(var r=0;r<e.length;r++){var i=e[r],s=this.getPanelItemData(i.data),a=eQ.createCopy(n),l=iy.ItemVariableName;a[l]=s,a[iy.IndexVariableName.toLowerCase()]=r;var u=eQ.createCopy(o);u[l]=i,i.runCondition(a,u)}this.isValueChangingInternally=!1},QuestionPanelDynamicModel.prototype.onAnyValueChanged=function(t,o){e.prototype.onAnyValueChanged.call(this,t,o);for(var n=0;n<this.panelsCore.length;n++)this.panelsCore[n].onAnyValueChanged(t,o),this.panelsCore[n].onAnyValueChanged(iy.ItemVariableName,"")},QuestionPanelDynamicModel.prototype.hasKeysDuplicated=function(e,t){void 0===t&&(t=null);for(var o,n=[],r=0;r<this.panelsCore.length;r++)o=this.isValueDuplicated(this.panelsCore[r],n,t,e)||o;return o},QuestionPanelDynamicModel.prototype.updatePanelsContainsErrors=function(){for(var e=this.changingValueQuestion.parent;e;)e.updateContainsErrors(),e=e.parent;this.updateContainsErrors()},QuestionPanelDynamicModel.prototype.hasErrors=function(t,o){if(void 0===t&&(t=!0),void 0===o&&(o=null),this.isValueChangingInternally||this.isBuildingPanelsFirstTime)return!1;var n=!1;if(this.changingValueQuestion){var n=this.changingValueQuestion.hasErrors(t,o);n=this.hasKeysDuplicated(t,o)||n,this.updatePanelsContainsErrors()}else n=this.hasErrorInPanels(t,o);return e.prototype.hasErrors.call(this,t,o)||n},QuestionPanelDynamicModel.prototype.getContainsErrors=function(){var t=e.prototype.getContainsErrors.call(this);if(t)return t;for(var o=this.panelsCore,n=0;n<o.length;n++)if(o[n].containsErrors)return!0;return!1},QuestionPanelDynamicModel.prototype.getIsAnswered=function(){if(!e.prototype.getIsAnswered.call(this))return!1;for(var t=this.visiblePanelsCore,o=0;o<t.length;o++){var n=[];t[o].addQuestionsToList(n,!0);for(var r=0;r<n.length;r++)if(!n[r].isAnswered)return!1}return!0},QuestionPanelDynamicModel.prototype.clearValueOnHidding=function(t){if(!t){if(this.survey&&"none"===this.survey.getQuestionClearIfInvisible("onHidden"))return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}e.prototype.clearValueOnHidding.call(this,t)},QuestionPanelDynamicModel.prototype.clearValueIfInvisible=function(t){void 0===t&&(t="onHidden");var o="onHidden"===t?"onHiddenContainer":t;this.clearValueInPanelsIfInvisible(o),e.prototype.clearValueIfInvisible.call(this,t)},QuestionPanelDynamicModel.prototype.clearValueInPanelsIfInvisible=function(e){for(var t=0;t<this.panelsCore.length;t++){var o=this.panelsCore[t],n=o.questions;this.isSetPanelItemData={};for(var r=0;r<n.length;r++){var i=n[r];(!i.visible||o.isVisible)&&(i.clearValueIfInvisible(e),this.isSetPanelItemData[i.getValueName()]=this.maxCheckCount+1)}}this.isSetPanelItemData={}},QuestionPanelDynamicModel.prototype.getIsRunningValidators=function(){if(e.prototype.getIsRunningValidators.call(this))return!0;for(var t=0;t<this.panelsCore.length;t++)for(var o=this.panelsCore[t].questions,n=0;n<o.length;n++)if(o[n].isRunningValidators)return!0;return!1},QuestionPanelDynamicModel.prototype.getAllErrors=function(){for(var t=e.prototype.getAllErrors.call(this),o=this.visiblePanelsCore,n=0;n<o.length;n++)for(var r=o[n].questions,i=0;i<r.length;i++){var s=r[i].getAllErrors();s&&s.length>0&&(t=t.concat(s))}return t},QuestionPanelDynamicModel.prototype.getDisplayValueCore=function(e,t){var o=this.getUnbindValue(t);if(!o||!Array.isArray(o))return o;for(var n=0;n<this.panelsCore.length&&n<o.length;n++){var r=o[n];r&&(o[n]=this.getPanelDisplayValue(n,r,e))}return o},QuestionPanelDynamicModel.prototype.getPanelDisplayValue=function(e,t,o){if(!t)return t;for(var n=this.panelsCore[e],r=Object.keys(t),i=0;i<r.length;i++){var s=r[i],a=n.getQuestionByValueName(s);if(a||(a=this.getSharedQuestionFromArray(s,e)),a){var l=a.getDisplayValue(o,t[s]);t[s]=l,o&&a.title&&a.title!==s&&(t[a.title]=l,delete t[s])}}return t},QuestionPanelDynamicModel.prototype.hasErrorInPanels=function(e,t){for(var o=!1,n=this.visiblePanels,r=[],i=0;i<n.length;i++)this.setOnCompleteAsyncInPanel(n[i]);for(var s=!!t&&t.focusOnFirstError,a=0;a<n.length;a++){var l=n[a].hasErrors(e,s,t);l=this.isValueDuplicated(n[a],r,t,e)||l,!this.isRenderModeList&&l&&!o&&s&&(this.currentIndex=a),o=l||o}return o},QuestionPanelDynamicModel.prototype.setOnCompleteAsyncInPanel=function(e){for(var t=this,o=e.questions,n=0;n<o.length;n++)o[n].onCompletedAsyncValidators=function(e){t.raiseOnCompletedAsyncValidators()}},QuestionPanelDynamicModel.prototype.isValueDuplicated=function(e,t,o,n){if(!this.keyName)return!1;var r=e.getQuestionByValueName(this.keyName);if(!r||r.isEmpty())return!1;var i=r.value;this.changingValueQuestion&&r!=this.changingValueQuestion&&r.hasErrors(n,o);for(var s=0;s<t.length;s++)if(i==t[s])return n&&r.addError(new oa(this.keyDuplicationError,this)),o&&!o.firstErrorQuestion&&(o.firstErrorQuestion=r),!0;return t.push(i),!1},QuestionPanelDynamicModel.prototype.getPanelActions=function(e){var t=this,o=e.footerActions;return"right"!==this.panelRemoveButtonLocation&&o.push(new tQ({id:"remove-panel-"+e.id,component:"sv-paneldynamic-remove-btn",visible:new tf(function(){return[t.canRemovePanel,"collapsed"!==e.state,"right"!==t.panelRemoveButtonLocation].every(function(e){return!0===e})}),data:{question:this,panel:e}})),this.survey&&(o=this.survey.getUpdatedPanelFooterActions(e,o,this)),o},QuestionPanelDynamicModel.prototype.createNewPanel=function(){var e=this,t=this.createAndSetupNewPanelObject(),o=this.template.toJSON();new eK().toObject(o,t),t.renderWidth="100%",t.updateCustomWidgets(),new iy(this,t),this.isDesignMode||this.isReadOnly||this.isValueEmpty(t.getValue())||this.runPanelsCondition([t],this.getDataFilteredValues(),this.getDataFilteredProperties()),t.onFirstRendering();for(var n=t.questions,r=0;r<n.length;r++)n[r].setParentQuestion(this);return t.locStrsChanged(),t.onGetFooterActionsCallback=function(){return e.getPanelActions(t)},t.onGetFooterToolbarCssCallback=function(){return e.cssClasses.panelFooter},t.registerPropertyChangedHandlers(["visible"],function(){t.visible?e.onPanelAdded(t):e.onPanelRemoved(t),e.updateFooterActions()}),t},QuestionPanelDynamicModel.prototype.createAndSetupNewPanelObject=function(){var e=this,t=this.createNewPanelObject();return t.isInteractiveDesignElement=!1,t.setParentQuestion(this),t.onGetQuestionTitleLocation=function(){return e.getTemplateQuestionTitleLocation()},t},QuestionPanelDynamicModel.prototype.getTemplateQuestionTitleLocation=function(){return"default"!=this.templateTitleLocation?this.templateTitleLocation:this.getTitleLocationCore()},QuestionPanelDynamicModel.prototype.getChildErrorLocation=function(t){return"default"!==this.templateErrorLocation?this.templateErrorLocation:e.prototype.getChildErrorLocation.call(this,t)},QuestionPanelDynamicModel.prototype.createNewPanelObject=function(){return eY.createClass("panel")},QuestionPanelDynamicModel.prototype.setPanelCountBasedOnValue=function(){if(!this.isValueChangingInternally&&!this.useTemplatePanel){var e=this.value,t=e&&Array.isArray(e)?e.length:0;0==t&&this.getPropertyValue("panelCount")>0&&(t=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=t,this.settingPanelCountBasedOnValue=!1}},QuestionPanelDynamicModel.prototype.setQuestionValue=function(t){if(!this.settingPanelCountBasedOnValue){e.prototype.setQuestionValue.call(this,t,!1),this.setPanelCountBasedOnValue();for(var o=0;o<this.panelsCore.length;o++)this.panelUpdateValueFromSurvey(this.panelsCore[o]);this.updateIsAnswered()}},QuestionPanelDynamicModel.prototype.onSurveyValueChanged=function(t){if(!(void 0===t&&this.isAllPanelsEmpty())){e.prototype.onSurveyValueChanged.call(this,t);for(var o=0;o<this.panelsCore.length;o++)this.panelSurveyValueChanged(this.panelsCore[o]);void 0===t&&this.setValueBasedOnPanelCount(),this.updateIsReady()}},QuestionPanelDynamicModel.prototype.isAllPanelsEmpty=function(){for(var e=0;e<this.panelsCore.length;e++)if(!eQ.isValueEmpty(this.panelsCore[e].getValue()))return!1;return!0},QuestionPanelDynamicModel.prototype.panelUpdateValueFromSurvey=function(e){for(var t=e.questions,o=this.getPanelItemData(e.data),n=0;n<t.length;n++){var r=t[n];r.updateValueFromSurvey(o[r.getValueName()]),r.updateCommentFromSurvey(o[r.getValueName()+t0.commentSuffix]),r.initDataUI()}},QuestionPanelDynamicModel.prototype.panelSurveyValueChanged=function(e){for(var t=e.questions,o=this.getPanelItemData(e.data),n=0;n<t.length;n++){var r=t[n];r.onSurveyValueChanged(o[r.getValueName()])}},QuestionPanelDynamicModel.prototype.onSetData=function(){e.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},QuestionPanelDynamicModel.prototype.isNewValueCorrect=function(e){return Array.isArray(e)},QuestionPanelDynamicModel.prototype.getItemIndex=function(e){var t=this.items.indexOf(e);return t>-1?t:this.items.length},QuestionPanelDynamicModel.prototype.getVisibleItemIndex=function(e){for(var t=this.visiblePanelsCore,o=0;o<t.length;o++)if(t[o].data===e)return o;return t.length},QuestionPanelDynamicModel.prototype.getPanelItemData=function(e){var t=this.items,o=t.indexOf(e),n=this.value;return(o<0&&Array.isArray(n)&&n.length>t.length&&(o=t.length),o<0||!n||!Array.isArray(n)||n.length<=o)?{}:n[o]},QuestionPanelDynamicModel.prototype.setPanelItemData=function(e,t,o){if(!(this.isSetPanelItemData[t]>this.maxCheckCount)){this.isSetPanelItemData[t]||(this.isSetPanelItemData[t]=0),this.isSetPanelItemData[t]++;var n=this.items,r=n.indexOf(e);r<0&&(r=n.length);var i=this.getUnbindValue(this.value);if(i&&Array.isArray(i)||(i=[]),i.length<=r)for(var s=i.length;s<=r;s++)i.push({});if(i[r]||(i[r]={}),this.isValueEmpty(o)?delete i[r][t]:i[r][t]=o,r>=0&&r<this.panelsCore.length&&(this.changingValueQuestion=this.panelsCore[r].getQuestionByValueName(t)),this.value=i,this.changingValueQuestion=null,this.survey){var a={question:this,panel:e.panel,name:t,itemIndex:r,itemValue:i[r],value:o};this.survey.dynamicPanelItemValueChanged(this,a)}this.isSetPanelItemData[t]--,this.isSetPanelItemData[t]-1&&delete this.isSetPanelItemData[t]}},QuestionPanelDynamicModel.prototype.getRootData=function(){return this.data},QuestionPanelDynamicModel.prototype.getPlainData=function(t){void 0===t&&(t={includeEmpty:!0});var o=e.prototype.getPlainData.call(this,t);if(o){o.isNode=!0;var n=Array.isArray(o.data)?[].concat(o.data):[];o.data=this.panels.map(function(e,o){var n={name:e.name||o,title:e.title||"Panel",value:e.getValue(),displayValue:e.getValue(),getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!0,data:e.questions.map(function(e){return e.getPlainData(t)}).filter(function(e){return!!e})};return(t.calculations||[]).forEach(function(t){n[t.propertyName]=e[t.propertyName]}),n}),o.data=o.data.concat(n)}return o},QuestionPanelDynamicModel.prototype.updateElementCss=function(t){e.prototype.updateElementCss.call(this,t);for(var o=0;o<this.panelsCore.length;o++)this.panelsCore[o].updateElementCss(t)},Object.defineProperty(QuestionPanelDynamicModel.prototype,"progressText",{get:function(){var e=this.visiblePanelCount;return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.getRootCss=function(){return new tP().append(e.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},Object.defineProperty(QuestionPanelDynamicModel.prototype,"cssHeader",{get:function(){var e=this.isRenderModeTab&&!!this.visiblePanelCount;return new tP().append(this.cssClasses.header).append(this.cssClasses.headerTop,this.hasTitleOnTop||e).append(this.cssClasses.headerTab,e).toString()},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.getPanelWrapperCss=function(e){return new tP().append(this.cssClasses.panelWrapper,!e||e.visible).append(this.cssClasses.panelWrapperList,this.isRenderModeList).append(this.cssClasses.panelWrapperInRow,"right"===this.panelRemoveButtonLocation).toString()},QuestionPanelDynamicModel.prototype.getPanelRemoveButtonCss=function(){return new tP().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,"right"===this.panelRemoveButtonLocation).toString()},QuestionPanelDynamicModel.prototype.getAddButtonCss=function(){return new tP().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode","list"===this.displayMode).toString()},QuestionPanelDynamicModel.prototype.getPrevButtonCss=function(){return new tP().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()},QuestionPanelDynamicModel.prototype.getNextButtonCss=function(){return new tP().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()},Object.defineProperty(QuestionPanelDynamicModel.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(e){this.setLocalizableStringText("noEntriesText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&0===this.visiblePanelCount},QuestionPanelDynamicModel.prototype.needResponsiveWidth=function(){var e=this.getPanel();return!!(e&&e.needResponsiveWidth())},Object.defineProperty(QuestionPanelDynamicModel.prototype,"hasAdditionalTitleToolbar",{get:function(){return this.isRenderModeTab&&this.visiblePanels.length>0},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.getAdditionalTitleToolbar=function(){return this.isRenderModeTab?(this.additionalTitleToolbarValue||(this.additionalTitleToolbarValue=new tk,this.additionalTitleToolbarValue.dotsItem.popupModel.showPointer=!1,this.additionalTitleToolbarValue.dotsItem.popupModel.verticalPosition="bottom",this.additionalTitleToolbarValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.additionalTitleToolbarValue):null},Object.defineProperty(QuestionPanelDynamicModel.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},QuestionPanelDynamicModel.prototype.initFooterToolbar=function(){var e=this;this.footerToolbarValue=this.createActionContainer();var t=[],o=new tQ({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){e.goToPrevPanel()}}),n=new tQ({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){e.goToNextPanel()}}),r=new tQ({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),i=new tQ({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),s=new tQ({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),a=new tQ({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});t.push(o,n,r,i,s,a),this.updateFooterActionsCallback=function(){var t=e.legacyNavigation,l=e.isRenderModeList,u=e.isMobile,c=!t&&!l;o.visible=c&&e.currentIndex>0,n.visible=c&&e.currentIndex<e.visiblePanelCount-1,n.needSpace=u&&n.visible&&o.visible,r.visible=e.canAddPanel,r.needSpace=e.isMobile&&!n.visible&&o.visible,s.visible=!e.isRenderModeList&&!u,s.needSpace=!t&&!e.isMobile;var p=t&&!l;i.visible=p,a.visible=p,i.needSpace=p},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(t)},QuestionPanelDynamicModel.prototype.createTabByPanel=function(e,t){var o=this;if(this.isRenderModeTab){var n=new tZ(e,!0);n.onGetTextCallback=function(n){if(n||(n=o.locTabTitlePlaceholder.renderedHtml),!o.survey)return n;var r={title:n,panel:e,visiblePanelIndex:t};return o.survey.dynamicPanelGetTabTitle(o,r),r.title},n.sharedData=this.locTemplateTabTitle;var r=this.getPanelVisibleIndexById(e.id)===this.currentIndex,i=new tQ({id:e.id,pressed:r,locTitle:n,disableHide:r,action:function(){o.currentIndex=o.getPanelVisibleIndexById(i.id)}});return i}},QuestionPanelDynamicModel.prototype.getAdditionalTitleToolbarCss=function(e){var t=null!=e?e:this.cssClasses;return new tP().append(t.tabsRoot).append(t.tabsLeft,"left"===this.tabAlign).append(t.tabsRight,"right"===this.tabAlign).append(t.tabsCenter,"center"===this.tabAlign).toString()},QuestionPanelDynamicModel.prototype.updateTabToolbarItemsPressedState=function(){if(this.isRenderModeTab&&!(this.currentIndex<0)&&!(this.currentIndex>=this.visiblePanelCount)){var e=this.visiblePanelsCore[this.currentIndex];this.additionalTitleToolbar.renderedActions.forEach(function(t){var o=t.id===e.id;t.pressed=o,t.disableHide=o,"popup"===t.mode&&t.disableHide&&t.raiseUpdate()})}},QuestionPanelDynamicModel.prototype.updateTabToolbar=function(){var e=this;if(this.isRenderModeTab){for(var t=[],o=this.visiblePanelsCore,_loop_1=function(r){n.visiblePanelsCore.forEach(function(n){return t.push(e.createTabByPanel(o[r],r))})},n=this,r=0;r<o.length;r++)_loop_1(r);this.additionalTitleToolbar.setItems(t)}},QuestionPanelDynamicModel.prototype.addTabFromToolbar=function(e,t){if(this.isRenderModeTab){var o=this.createTabByPanel(e,t);this.additionalTitleToolbar.actions.splice(t,0,o),this.updateTabToolbarItemsPressedState()}},QuestionPanelDynamicModel.prototype.removeTabFromToolbar=function(e){if(this.isRenderModeTab){var t=this.additionalTitleToolbar.getActionById(e.id);t&&(this.additionalTitleToolbar.actions.splice(this.additionalTitleToolbar.actions.indexOf(t),1),this.updateTabToolbarItemsPressedState())}},Object.defineProperty(QuestionPanelDynamicModel.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(QuestionPanelDynamicModel.prototype,"showNavigation",{get:function(){return(!this.isReadOnly||1!=this.visiblePanelCount)&&this.visiblePanelCount>0&&!this.showLegacyNavigation&&!!this.cssClasses.footer},enumerable:!1,configurable:!0}),QuestionPanelDynamicModel.prototype.showSeparator=function(e){return this.isRenderModeList&&e<this.renderedPanels.length-1},QuestionPanelDynamicModel.prototype.calcCssClasses=function(t){var o=e.prototype.calcCssClasses.call(this,t),n=this.additionalTitleToolbar;return n&&(n.containerCss=this.getAdditionalTitleToolbarCss(o),n.cssClasses=o.tabs,n.dotsItem.cssClasses=o.tabs,n.dotsItem.popupModel.contentComponentData.model.cssClasses=t.list),o},QuestionPanelDynamicModel.prototype.onMobileChanged=function(){e.prototype.onMobileChanged.call(this),this.updateFooterActions()},QuestionPanelDynamicModel.maxCheckCount=3,question_paneldynamic_decorate([propertyArray({})],QuestionPanelDynamicModel.prototype,"_renderedPanels",void 0),question_paneldynamic_decorate([jsonobject_property({onSet:function(e,t){t.fireCallback(t.renderModeChangedCallback),t.updatePanelView()}})],QuestionPanelDynamicModel.prototype,"displayMode",void 0),question_paneldynamic_decorate([jsonobject_property({onSet:function(e,t){t.fireCallback(t.currentIndexChangedCallback)}})],QuestionPanelDynamicModel.prototype,"showProgressBar",void 0),question_paneldynamic_decorate([jsonobject_property({onSet:function(e,t){}})],QuestionPanelDynamicModel.prototype,"progressBarLocation",void 0),question_paneldynamic_decorate([jsonobject_property({defaultValue:!1,onSet:function(e,t){t.updateFooterActions()}})],QuestionPanelDynamicModel.prototype,"legacyNavigation",void 0),QuestionPanelDynamicModel}(ox);eY.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:function(e){return"tab"===e.displayMode}},{name:"tabTitlePlaceholder",serializationProperty:"locTabTitlePlaceholder",visibleIf:function(e){return"tab"===e.displayMode}},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"newPanelPosition",choices:["next","last"],default:"last",category:"layout"},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",defaultFunc:function(){return t0.panel.maxPanelCount}},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"],visibleIf:function(e){return"list"===e.displayMode}},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText",visibleIf:function(e){return e.confirmDelete}},{name:"panelAddText",serializationProperty:"locPanelAddText",visibleIf:function(e){return e.allowAddPanel}},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText",visibleIf:function(e){return e.allowRemovePanel}},{name:"panelPrevText",serializationProperty:"locPanelPrevText",visibleIf:function(e){return"list"!==e.displayMode}},{name:"panelNextText",serializationProperty:"locPanelNextText",visibleIf:function(e){return"list"!==e.displayMode}},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0,visible:!1},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom","tab"],visible:!1},{name:"displayMode",default:"list",choices:["list","carousel","tab"]},{name:"showProgressBar:boolean",default:!0,visibleIf:function(e){return"carousel"===e.displayMode}},{name:"progressBarLocation",default:"top",choices:["top","bottom","topBottom"],visibleIf:function(e){return e.showProgressBar}},{name:"tabAlign",default:"center",choices:["left","center","right"],visibleIf:function(e){return"tab"===e.displayMode}},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"],visibleIf:function(e){return e.allowRemovePanel}}],function(){return new iv("")},"question"),oJ.Instance.registerQuestion("paneldynamic",function(e){return new iv(e)});var ib=function(){function SurveyProgressModel(){}return SurveyProgressModel.getProgressTextInBarCss=function(e){return new tP().append(e.progressText).append(e.progressTextInBar).toString()},SurveyProgressModel.getProgressTextUnderBarCss=function(e){return new tP().append(e.progressText).append(e.progressTextUnderBar).toString()},SurveyProgressModel}(),iC=(eb=function(e,t){return(eb=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eb(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),iw=function(e){function Trigger(){var t=e.call(this)||this;return t.idValue=Trigger.idCounter++,t.registerPropertyChangedHandlers(["operator","value","name"],function(){t.oldPropertiesChanged()}),t.registerPropertyChangedHandlers(["expression"],function(){t.onExpressionChanged()}),t}return iC(Trigger,e),Object.defineProperty(Trigger,"operators",{get:function(){return null!=Trigger.operatorsValue||(Trigger.operatorsValue={empty:function(e,t){return!e},notempty:function(e,t){return!!e},equal:function(e,t){return e==t},notequal:function(e,t){return e!=t},contains:function(e,t){return e&&e.indexOf&&e.indexOf(t)>-1},notcontains:function(e,t){return!e||!e.indexOf||-1==e.indexOf(t)},greater:function(e,t){return e>t},less:function(e,t){return e<t},greaterorequal:function(e,t){return e>=t},lessorequal:function(e,t){return e<=t}}),Trigger.operatorsValue},enumerable:!1,configurable:!0}),Object.defineProperty(Trigger.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Trigger.prototype.getType=function(){return"triggerbase"},Trigger.prototype.toString=function(){var e=this.getType().replace("trigger",""),t=this.expression?this.expression:this.buildExpression();return t&&(e+=", "+t),e},Object.defineProperty(Trigger.prototype,"isInternal",{get:function(){return!0===this.isGhost},enumerable:!1,configurable:!0}),Object.defineProperty(Trigger.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(e){e&&(e=e.toLowerCase(),Trigger.operators[e]&&this.setPropertyValue("operator",e))},enumerable:!1,configurable:!0}),Object.defineProperty(Trigger.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Trigger.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Trigger.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),Trigger.prototype.canBeExecuted=function(e){return!0},Trigger.prototype.canBeExecutedOnComplete=function(){return!1},Trigger.prototype.checkExpression=function(e,t,o,n,r){void 0===r&&(r=null),this.isExecutingOnNextPage=e,this.canBeExecuted(e)&&(!t||this.canBeExecutedOnComplete())&&this.isCheckRequired(o)&&(this.conditionRunner?this.perform(n,r):this.canSuccessOnEmptyExpression()&&this.triggerResult(!0,n,r))},Trigger.prototype.canSuccessOnEmptyExpression=function(){return!1},Trigger.prototype.check=function(e){Trigger.operators[this.operator](e,this.value)?this.onSuccess({},null):this.onFailure()},Object.defineProperty(Trigger.prototype,"requireValidQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Trigger.prototype.perform=function(e,t){var o=this;this.conditionRunner.onRunComplete=function(n){o.triggerResult(n,e,t)},this.conditionRunner.run(e,t)},Trigger.prototype.triggerResult=function(e,t,o){e?(this.onSuccess(t,o),this.onSuccessExecuted()):this.onFailure()},Trigger.prototype.onSuccess=function(e,t){},Trigger.prototype.onFailure=function(){},Trigger.prototype.onSuccessExecuted=function(){},Trigger.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},Trigger.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},Trigger.prototype.onExpressionChanged=function(){this.conditionRunner=null},Trigger.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+to.toOperandString(this.value)},Trigger.prototype.isCheckRequired=function(e){return!!e&&(this.createConditionRunner(),!!this.conditionRunner&&!0===this.conditionRunner.hasFunction()||new e1().isAnyKeyChanged(e,this.getUsedVariables()))},Trigger.prototype.getUsedVariables=function(){if(!this.conditionRunner)return[];var e=this.conditionRunner.getVariables();if(Array.isArray(e))for(var t="-unwrapped",o=e.length-1;o>=0;o--){var n=e[o];n.endsWith(t)&&e.push(n.substring(0,n.length-t.length))}return e},Trigger.prototype.createConditionRunner=function(){if(!this.conditionRunner){var e=this.expression;e||(e=this.buildExpression()),e&&(this.conditionRunner=new tc(e))}},Object.defineProperty(Trigger.prototype,"isRequireValue",{get:function(){return"empty"!==this.operator&&"notempty"!=this.operator},enumerable:!1,configurable:!0}),Trigger.idCounter=1,Trigger.operatorsValue=null,Trigger}(ty),iP=function(e){function SurveyTrigger(){var t=e.call(this)||this;return t.ownerValue=null,t}return iC(SurveyTrigger,e),Object.defineProperty(SurveyTrigger.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),SurveyTrigger.prototype.setOwner=function(e){this.ownerValue=e},SurveyTrigger.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},SurveyTrigger.prototype.isRealExecution=function(){return!0},SurveyTrigger.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},SurveyTrigger}(iw),ix=function(e){function SurveyTriggerVisible(){var t=e.call(this)||this;return t.pages=[],t.questions=[],t}return iC(SurveyTriggerVisible,e),SurveyTriggerVisible.prototype.getType=function(){return"visibletrigger"},SurveyTriggerVisible.prototype.onSuccess=function(e,t){this.onTrigger(this.onItemSuccess)},SurveyTriggerVisible.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},SurveyTriggerVisible.prototype.onTrigger=function(e){if(this.owner)for(var t=this.owner.getObjects(this.pages,this.questions),o=0;o<t.length;o++)e(t[o])},SurveyTriggerVisible.prototype.onItemSuccess=function(e){e.visible=!0},SurveyTriggerVisible.prototype.onItemFailure=function(e){e.visible=!1},SurveyTriggerVisible}(iP),iM=function(e){function SurveyTriggerComplete(){return e.call(this)||this}return iC(SurveyTriggerComplete,e),SurveyTriggerComplete.prototype.getType=function(){return"completetrigger"},Object.defineProperty(SurveyTriggerComplete.prototype,"requireValidQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),SurveyTriggerComplete.prototype.isRealExecution=function(){return!t0.triggers.executeCompleteOnValueChanged===this.isExecutingOnNextPage},SurveyTriggerComplete.prototype.onSuccess=function(e,t){this.owner&&(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))},SurveyTriggerComplete.prototype.onFailure=function(){this.owner.canBeCompleted(this,!1)},SurveyTriggerComplete}(iP),iV=function(e){function SurveyTriggerSetValue(){return e.call(this)||this}return iC(SurveyTriggerSetValue,e),SurveyTriggerSetValue.prototype.getType=function(){return"setvaluetrigger"},SurveyTriggerSetValue.prototype.canBeExecuted=function(e){return!e&&!!this.setToName},SurveyTriggerSetValue.prototype.onPropertyValueChanged=function(t,o,n){if(e.prototype.onPropertyValueChanged.call(this,t,o,n),"setToName"===t){var r=this.getSurvey();r&&!r.isLoadingFromJson&&r.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(SurveyTriggerSetValue.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTriggerSetValue.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(e){this.setPropertyValue("setValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTriggerSetValue.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable")},set:function(e){this.setPropertyValue("isVariable",e)},enumerable:!1,configurable:!0}),SurveyTriggerSetValue.prototype.onSuccess=function(e,t){this.setToName&&this.owner&&this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},SurveyTriggerSetValue}(iP),iS=function(e){function SurveyTriggerSkip(){return e.call(this)||this}return iC(SurveyTriggerSkip,e),SurveyTriggerSkip.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(SurveyTriggerSkip.prototype,"requireValidQuestion",{get:function(){return this.canBeExecuted(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTriggerSkip.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(e){this.setPropertyValue("gotoName",e)},enumerable:!1,configurable:!0}),SurveyTriggerSkip.prototype.canBeExecuted=function(e){return!t0.triggers.executeSkipOnValueChanged===e},SurveyTriggerSkip.prototype.onSuccess=function(e,t){this.gotoName&&this.owner&&this.owner.focusQuestion(this.gotoName)},SurveyTriggerSkip}(iP),i_=function(e){function SurveyTriggerRunExpression(){return e.call(this)||this}return iC(SurveyTriggerRunExpression,e),SurveyTriggerRunExpression.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(SurveyTriggerRunExpression.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTriggerRunExpression.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(e){this.setPropertyValue("runExpression",e)},enumerable:!1,configurable:!0}),SurveyTriggerRunExpression.prototype.canBeExecuted=function(e){return!e},SurveyTriggerRunExpression.prototype.onSuccess=function(e,t){var o=this;if(this.owner&&this.runExpression){var n=new tp(this.runExpression);n.canRun&&(n.onRunComplete=function(e){o.onCompleteRunExpression(e)},n.run(e,t))}},SurveyTriggerRunExpression.prototype.onCompleteRunExpression=function(e){this.setToName&&void 0!==e&&this.owner.setTriggerValue(this.setToName,eQ.convertValToQuestionVal(e),!1)},SurveyTriggerRunExpression}(iP),iT=function(e){function SurveyTriggerCopyValue(){return e.call(this)||this}return iC(SurveyTriggerCopyValue,e),SurveyTriggerCopyValue.prototype.canBeExecuted=function(e){return!e&&!!this.setToName&&!!this.fromName},Object.defineProperty(SurveyTriggerCopyValue.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTriggerCopyValue.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(e){this.setPropertyValue("fromName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SurveyTriggerCopyValue.prototype,"copyDisplayValue",{get:function(){return this.getPropertyValue("copyDisplayValue")},set:function(e){this.setPropertyValue("copyDisplayValue",e)},enumerable:!1,configurable:!0}),SurveyTriggerCopyValue.prototype.getType=function(){return"copyvaluetrigger"},SurveyTriggerCopyValue.prototype.onSuccess=function(e,t){this.setToName&&this.owner&&this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)},SurveyTriggerCopyValue.prototype.canSuccessOnEmptyExpression=function(){return!0},SurveyTriggerCopyValue.prototype.getUsedVariables=function(){var t=e.prototype.getUsedVariables.call(this);return 0===t.length&&this.fromName&&t.push(this.fromName),t},SurveyTriggerCopyValue}(iP);eY.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),eY.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),eY.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new ix},"surveytrigger"),eY.addClass("completetrigger",[],function(){return new iM},"surveytrigger"),eY.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(e){return!!e&&!!e.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new iV},"surveytrigger"),eY.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new iT},"surveytrigger"),eY.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new iS},"surveytrigger"),eY.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new i_},"surveytrigger");var iR=(eC=function(e,t){return(eC=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eC(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),popup_survey_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},iO=function(e){function PopupSurveyModel(t,o){void 0===o&&(o=null);var n=e.call(this)||this;return n.closeOnCompleteTimeout=0,o?n.surveyValue=o:n.surveyValue=n.createSurvey(t),n.surveyValue.fitToContainer=!0,n.windowElement=eD.createElement("div"),n.survey.onComplete.add(function(e,t){n.onSurveyComplete()}),n.registerPropertyChangedHandlers(["isShowing"],function(){n.showingChangedCallback&&n.showingChangedCallback()}),n.registerPropertyChangedHandlers(["isExpanded"],function(){n.onExpandedChanged()}),n.width=new tf(function(){return n.survey.width}),n.width=n.survey.width,n.updateCss(),n.onCreating(),n}return iR(PopupSurveyModel,e),PopupSurveyModel.prototype.onCreating=function(){},PopupSurveyModel.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(PopupSurveyModel.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(e){this.setPropertyValue("isShowing",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"isFullScreen",{get:function(){return this.getPropertyValue("isFullScreen",!1)},set:function(e){!this.isExpanded&&e&&(this.isExpanded=!0),this.setPropertyValue("isFullScreen",e),this.setCssRoot()},enumerable:!1,configurable:!0}),PopupSurveyModel.prototype.show=function(){this.isShowing=!0},PopupSurveyModel.prototype.hide=function(){this.isShowing=!1},PopupSurveyModel.prototype.toggleFullScreen=function(){this.isFullScreen=!this.isFullScreen},Object.defineProperty(PopupSurveyModel.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(e){this.isFullScreen&&!e&&(this.isFullScreen=!1),this.setPropertyValue("isExpanded",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"isCollapsed",{get:function(){return!this.isExpanded},enumerable:!1,configurable:!0}),PopupSurveyModel.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(PopupSurveyModel.prototype,"title",{get:function(){return this.survey.title},set:function(e){this.survey.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"locTitle",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"locDescription",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locDescription},enumerable:!1,configurable:!0}),PopupSurveyModel.prototype.expand=function(){this.isExpanded=!0},PopupSurveyModel.prototype.collapse=function(){this.isExpanded=!1},PopupSurveyModel.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(PopupSurveyModel.prototype,"allowClose",{get:function(){return this.getPropertyValue("allowClose",!1)},set:function(e){this.setPropertyValue("allowClose",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"allowFullScreen",{get:function(){return this.getPropertyValue("allowFullScreen",!1)},set:function(e){this.setPropertyValue("allowFullScreen",e)},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssRoot",{get:function(){var e=this.getPropertyValue("cssRoot","");return this.isCollapsed&&(e+=" "+this.getPropertyValue("cssRootCollapsedMod","")),e},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssRootCollapsedMod",{get:function(){return this.getPropertyValue("cssRootCollapsedMod")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssRootContent",{get:function(){return this.getPropertyValue("cssRootContent")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssHeaderTitleCollapsed",{get:function(){return this.getPropertyValue("cssHeaderTitleCollapsed","")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssHeaderButtonsContainer",{get:function(){return this.getPropertyValue("cssHeaderButtonsContainer","")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssHeaderCollapseButton",{get:function(){return this.getPropertyValue("cssHeaderCollapseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssHeaderCloseButton",{get:function(){return this.getPropertyValue("cssHeaderCloseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"cssHeaderFullScreenButton",{get:function(){return this.getPropertyValue("cssHeaderFullScreenButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(PopupSurveyModel.prototype,"renderedWidth",{get:function(){var e=this.getPropertyValue("width","60%");return e&&!isNaN(e)&&(e+="px"),e},enumerable:!1,configurable:!0}),PopupSurveyModel.prototype.updateCss=function(){if(this.css&&this.css.window){var e=this.css.window;this.setCssRoot(),this.setPropertyValue("cssRootCollapsedMod",e.rootCollapsedMod),this.setPropertyValue("cssRootContent",e.rootContent),this.setPropertyValue("cssBody",e.body);var t=e.header;t&&(this.setPropertyValue("cssHeaderRoot",t.root),this.setPropertyValue("cssHeaderTitleCollapsed",t.titleCollapsed),this.setPropertyValue("cssHeaderButtonsContainer",t.buttonsContainer),this.setPropertyValue("cssHeaderCollapseButton",t.collapseButton),this.setPropertyValue("cssHeaderCloseButton",t.closeButton),this.setPropertyValue("cssHeaderFullScreenButton",t.fullScreenButton),this.updateCssButton())}},PopupSurveyModel.prototype.setCssRoot=function(){var e=this.css.window;this.isFullScreen?this.setPropertyValue("cssRoot",e.root+" "+e.rootFullScreenMode):this.setPropertyValue("cssRoot",e.root)},PopupSurveyModel.prototype.updateCssButton=function(){var e=this.css.window?this.css.window.header:null;e&&this.setCssButton(this.isExpanded?e.buttonExpanded:e.buttonCollapsed)},PopupSurveyModel.prototype.setCssButton=function(e){e&&this.setPropertyValue("cssButton",e)},PopupSurveyModel.prototype.createSurvey=function(e){return new nX(e)},PopupSurveyModel.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0)){if(0==this.closeOnCompleteTimeout)this.hide();else{var e=this,t=null;t=setInterval(function(){e.hide(),clearInterval(t)},1e3*this.closeOnCompleteTimeout)}}},PopupSurveyModel.prototype.onScroll=function(){this.survey.onScroll()},popup_survey_decorate([jsonobject_property()],PopupSurveyModel.prototype,"width",void 0),PopupSurveyModel}(ty),iI=function(e){function SurveyWindowModel(){return null!==e&&e.apply(this,arguments)||this}return iR(SurveyWindowModel,e),SurveyWindowModel}(iO),iE=(ew=function(e,t){return(ew=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ew(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),iD=function(e){function PopupModalViewModel(t){var o=e.call(this,t)||this;return o.onScrollOutsideCallback=function(e){o.preventScrollOuside(e,e.deltaY)},o}return iE(PopupModalViewModel,e),PopupModalViewModel.prototype.getStyleClass=function(){return e.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},PopupModalViewModel.prototype.getShowFooter=function(){return!0},PopupModalViewModel.prototype.createFooterActionBar=function(){var t=this;e.prototype.createFooterActionBar.call(this),this.footerToolbar.containerCss="sv-footer-action-bar",this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply sd-btn sd-btn--action",action:function(){t.apply()}})},Object.defineProperty(PopupModalViewModel.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),PopupModalViewModel.prototype.apply=function(){(!this.model.onApply||this.model.onApply())&&this.hidePopup()},PopupModalViewModel.prototype.clickOutside=function(){},PopupModalViewModel.prototype.onKeyDown=function(t){("Escape"===t.key||27===t.keyCode)&&this.model.onCancel(),e.prototype.onKeyDown.call(this,t)},PopupModalViewModel.prototype.updateOnShowing=function(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),e.prototype.updateOnShowing.call(this)},PopupModalViewModel.prototype.updateOnHiding=function(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),e.prototype.updateOnHiding.call(this)},PopupModalViewModel}(n3),__assign=function(){return(__assign=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function createPopupModalViewModel(e,t){var o,n=__assign({},e);n.verticalPosition="top",n.horizontalPosition="left",n.showPointer=!1,n.isModal=!0,n.displayMode=e.displayMode||"popup";var r=new tI(e.componentName,e.data,n);r.isFocusedContent=null===(o=e.isFocusedContent)||void 0===o||o;var i=new iD(r);if(t&&t.appendChild){var s=eD.createElement("div");t.appendChild(s),i.setComponentElement(s)}i.container||i.initializePopupContainer();var onVisibilityChangedCallback=function(e,t){!t.isVisible&&s&&i.resetComponentElement(),i.onVisibilityChanged.remove(onVisibilityChangedCallback)};return i.onVisibilityChanged.add(onVisibilityChangedCallback),i}function createPopupViewModel(e){return e.isModal?new iD(e):new n8(e)}var iQ=(eP=function(e,t){return(eP=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eP(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),question_buttongroup_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},iA=function(e){function ButtonGroupItemValue(t,o,n){void 0===o&&(o=null),void 0===n&&(n="buttongroupitemvalue");var r=e.call(this,t,o,n)||this;return r.typeName=n,r}return iQ(ButtonGroupItemValue,e),ButtonGroupItemValue.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},question_buttongroup_decorate([jsonobject_property()],ButtonGroupItemValue.prototype,"iconName",void 0),question_buttongroup_decorate([jsonobject_property()],ButtonGroupItemValue.prototype,"iconSize",void 0),question_buttongroup_decorate([jsonobject_property()],ButtonGroupItemValue.prototype,"showCaption",void 0),ButtonGroupItemValue}(oV),iL=function(e){function QuestionButtonGroupModel(t){return e.call(this,t)||this}return iQ(QuestionButtonGroupModel,e),QuestionButtonGroupModel.prototype.getType=function(){return"buttongroup"},QuestionButtonGroupModel.prototype.getItemValueType=function(){return"buttongroupitemvalue"},QuestionButtonGroupModel.prototype.supportOther=function(){return!1},QuestionButtonGroupModel}(n2);eY.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new iL("")},"checkboxbase"),eY.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(e){return new iA(e)},"itemvalue");var ik=function(){function ButtonGroupItemModel(e,t,o){this.question=e,this.item=t,this.index=o}return Object.defineProperty(ButtonGroupItemModel.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"showCaption",{get:function(){return this.item.showCaption||void 0===this.item.showCaption},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"labelClass",{get:function(){return new tP().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonGroupItemModel.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),ButtonGroupItemModel.prototype.onChange=function(){this.question.renderedValue=this.item.value},ButtonGroupItemModel}(),ij=(ex=function(e,t){return(ex=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}ex(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),mask_base_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},iB=function(e){function InputMaskBase(){return null!==e&&e.apply(this,arguments)||this}return ij(InputMaskBase,e),InputMaskBase.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.owner},InputMaskBase.prototype.getType=function(){return"masksettings"},InputMaskBase.prototype.setData=function(e){var t=this;eY.getProperties(this.getType()).forEach(function(o){var n=e[o.name];t[o.name]=void 0!==n?n:o.defaultValue})},InputMaskBase.prototype.getData=function(){var e=this,t={};return eY.getProperties(this.getType()).forEach(function(o){var n=e[o.name];o.isDefaultValue(n)||(t[o.name]=n)}),t},InputMaskBase.prototype.processInput=function(e){return{value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1}},InputMaskBase.prototype.getUnmaskedValue=function(e){return e},InputMaskBase.prototype.getMaskedValue=function(e){return e},InputMaskBase.prototype.getTextAlignment=function(){return"auto"},InputMaskBase.prototype.getTypeForExpressions=function(){return"text"},mask_base_decorate([jsonobject_property()],InputMaskBase.prototype,"saveMaskedValue",void 0),InputMaskBase}(ty);eY.addClass("masksettings",[{name:"saveMaskedValue:boolean",visibleIf:function(e){return!!e&&"masksettings"!==e.getType()}}],function(){return new iB});var iF=(eM=function(e,t){return(eM=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eM(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),mask_pattern_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s};function getLiterals(e){for(var t=[],o=!1,n=Object.keys(t0.maskSettings.patternDefinitions),r=0;r<e.length;r++){var i=e[r];i===t0.maskSettings.patternEscapeChar?o=!0:o?(o=!1,t.push({type:"fixed",value:i})):t.push({type:-1!==n.indexOf(i)?"regex":"const",value:i})}return t}function getUnmaskedValueByPattern(e,t,o,n){void 0===n&&(n=!1);var r="";if(!e)return r;for(var i="string"==typeof t?getLiterals(t):t,s=0;s<i.length;s++)if("fixed"!==i[s].type||n||(r+=i[s].value),"regex"===i[s].type){var a=t0.maskSettings.patternDefinitions[i[s].value];if(e[s]&&e[s].match(a))r+=e[s];else if(o){r="";break}else break}return r}var iN=function(e){function InputMaskPattern(){var t=null!==e&&e.apply(this,arguments)||this;return t.literals=[],t}return iF(InputMaskPattern,e),InputMaskPattern.prototype.updateLiterals=function(){this.literals=getLiterals(this.pattern||"")},InputMaskPattern.prototype.onPropertyValueChanged=function(e,t,o){"pattern"===e&&this.updateLiterals()},InputMaskPattern.prototype.getType=function(){return"patternmask"},InputMaskPattern.prototype.fromJSON=function(t,o){e.prototype.fromJSON.call(this,t,o),this.updateLiterals()},InputMaskPattern.prototype._getMaskedValue=function(e,t){return void 0===t&&(t=!1),function(e,t,o){for(var n=null==e?"":e,r="",i=0,s="string"==typeof t?getLiterals(t):t,a=0;a<s.length;a++)switch(s[a].type){case"regex":if(i<n.length&&(i=function(e,t,o){for(var n=t0.maskSettings.patternDefinitions[o.value];t<e.length&&!e[t].match(n);)t++;return t}(n,i,s[a])),i<n.length)r+=n[i];else{if(!o)return r;r+=t0.maskSettings.patternPlaceholderChar}i++;break;case"const":case"fixed":r+=s[a].value,s[a].value===n[i]&&i++}return r}(null==e?"":e,this.literals,t)},InputMaskPattern.prototype._getUnmaskedValue=function(e,t){return void 0===t&&(t=!1),getUnmaskedValueByPattern(null==e?"":e,this.literals,t)},InputMaskPattern.prototype.processInput=function(e){var t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1};if(!e.insertedChars&&e.selectionStart===e.selectionEnd)return t;var o=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),n=getUnmaskedValueByPattern(e.prevValue.slice(0,e.selectionStart),this.literals.slice(0,e.selectionStart),!1),r=getUnmaskedValueByPattern(e.prevValue.slice(e.selectionEnd),this.literals.slice(e.selectionEnd),!1,!0);return t.value=this._getMaskedValue(n+(e.insertedChars||"")+r,!0),e.insertedChars||"backward"!==e.inputDirection?t.caretPosition=this._getMaskedValue(o).length:t.caretPosition=e.selectionStart,t},InputMaskPattern.prototype.getMaskedValue=function(e){return this._getMaskedValue(e,!0)},InputMaskPattern.prototype.getUnmaskedValue=function(e){return this._getUnmaskedValue(e,!0)},mask_pattern_decorate([jsonobject_property()],InputMaskPattern.prototype,"pattern",void 0),InputMaskPattern}(iB);eY.addClass("patternmask",[{name:"pattern"}],function(){return new iN},"masksettings");var iq=(eV=function(e,t){return(eV=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eV(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),mask_numeric_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},iH=function(e){function InputMaskNumeric(){return null!==e&&e.apply(this,arguments)||this}return iq(InputMaskNumeric,e),InputMaskNumeric.prototype.calccaretPosition=function(e,t,o){for(var n=e?this.displayNumber(this.parseNumber(e),!1).length:0,r=0,i=t.selectionStart,s=!t.insertedChars&&"forward"===t.inputDirection,a=0;a<o.length;a++)if(o[a]!==this.thousandsSeparator&&r++,r===n+(s?1:0)){i=s?a:a+1;break}return i},InputMaskNumeric.prototype.numericalCompositionIsEmpty=function(e){return!e.integralPart&&!e.fractionalPart},InputMaskNumeric.prototype.displayNumber=function(e,t,o){void 0===t&&(t=!0),void 0===o&&(o=!1);var n=e.integralPart;t&&n&&(n=(function(e,t,o){void 0===t&&(t=!0),void 0===o&&(o=3);var n=[];if(t){for(var r=e.length-o;r>-o;r-=o)n.push(e.substring(r,r+o));n=n.reverse()}else for(var r=0;r<e.length;r+=o)n.push(e.substring(r,r+o));return n})(n).join(this.thousandsSeparator));var r=e.fractionalPart,i=e.isNegative?"-":"";if(""!==r)return[i+(n=n||"0"),r=r.substring(0,this.precision)].join(this.decimalSeparator);if(o)return n&&"0"!==n?i+n:n;var s=n+(e.hasDecimalSeparator&&!o?this.decimalSeparator:"");return"0"===s?s:i+s},InputMaskNumeric.prototype.convertNumber=function(e){var t=e.isNegative?"-":"";return e.fractionalPart?parseFloat(t+(e.integralPart||"0")+"."+e.fractionalPart.substring(0,this.precision)):parseInt(t+e.integralPart||"0")},InputMaskNumeric.prototype.validateNumber=function(e,t){var o=this.min||Number.MIN_SAFE_INTEGER,n=this.max||Number.MAX_SAFE_INTEGER;if(this.numericalCompositionIsEmpty(e))return!0;if(void 0!==this.min||void 0!==this.max){var r=this.convertNumber(e);if(Number.isNaN(r)||r>=o&&r<=n)return!0;if(!t){if(e.hasDecimalSeparator||0==r){var i=Math.pow(.1,(e.fractionalPart||"").length);if(r>=0)return r+i>o&&r<=n;if(r<0)return r>=o&&r-i<n}else{var s=r,a=r;if(r>0){if(r+1>o&&r<=n)return!0;for(;s=10*s+9,!((a*=10)>n);)if(s>o)return!0;return!1}if(r<0){if(r>=o&&r-1<n)return!0;for(;a=10*a-9,!((s*=10)<o);)if(a<n)return!0;return!1}}return r>=0&&r<=n||r<0&&r>=o}return!1}return!0},InputMaskNumeric.prototype.parseNumber=function(e){for(var t={integralPart:"",fractionalPart:"",hasDecimalSeparator:!1,isNegative:!1},o=null==e?"":e.toString(),n=0,r=0;r<o.length;r++){var i=o[r];switch(i){case"-":this.allowNegativeValues&&(void 0===this.min||this.min<0)&&n++;break;case this.decimalSeparator:this.precision>0&&(t.hasDecimalSeparator=!0);break;case this.thousandsSeparator:break;default:i.match(rd)&&(t.hasDecimalSeparator?t.fractionalPart+=i:t.integralPart+=i)}}return t.isNegative=n%2!=0,t.integralPart.length>1&&"0"===t.integralPart[0]&&(t.integralPart=t.integralPart.slice(1)),t},InputMaskNumeric.prototype.getNumberMaskedValue=function(e,t){void 0===t&&(t=!1);var o=this.parseNumber(e);return this.validateNumber(o,t)?this.displayNumber(o,!0,t):null},InputMaskNumeric.prototype.getNumberUnmaskedValue=function(e){var t=this.parseNumber(e);if(!this.numericalCompositionIsEmpty(t))return this.convertNumber(t)},InputMaskNumeric.prototype.getTextAlignment=function(){return"right"},InputMaskNumeric.prototype.getMaskedValue=function(e){var t=null==e?"":e.toString();return t=t.replace(".",this.decimalSeparator),this.getNumberMaskedValue(t,!0)},InputMaskNumeric.prototype.getUnmaskedValue=function(e){return this.getNumberUnmaskedValue(e)},InputMaskNumeric.prototype.processInput=function(e){var t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},o=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),n=o+e.prevValue.slice(e.selectionEnd),r=this.parseNumber(n);if(!this.validateNumber(r,!1))return t;var i=this.getNumberMaskedValue(n),s=this.calccaretPosition(o,e,i);return t.value=i,t.caretPosition=s,t},InputMaskNumeric.prototype.getType=function(){return"numericmask"},InputMaskNumeric.prototype.isPropertyEmpty=function(e){return""===e||null==e},mask_numeric_decorate([jsonobject_property()],InputMaskNumeric.prototype,"allowNegativeValues",void 0),mask_numeric_decorate([jsonobject_property()],InputMaskNumeric.prototype,"decimalSeparator",void 0),mask_numeric_decorate([jsonobject_property()],InputMaskNumeric.prototype,"precision",void 0),mask_numeric_decorate([jsonobject_property()],InputMaskNumeric.prototype,"thousandsSeparator",void 0),mask_numeric_decorate([jsonobject_property()],InputMaskNumeric.prototype,"min",void 0),mask_numeric_decorate([jsonobject_property()],InputMaskNumeric.prototype,"max",void 0),InputMaskNumeric}(iB);eY.addClass("numericmask",[{name:"allowNegativeValues:boolean",default:!0},{name:"decimalSeparator",default:".",maxLength:1},{name:"thousandsSeparator",default:",",maxLength:1},{name:"precision:number",default:2,minValue:0},{name:"min:number"},{name:"max:number"}],function(){return new iH},"masksettings");var iz=(eS=function(e,t){return(eS=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}eS(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),mask_datetime_assign=function(){return(mask_datetime_assign=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},mask_datetime_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s};function getMaxCountLexem(e,t){switch(e){case"hour":case"minute":case"second":case"day":case"month":return 2;case"timeMarker":case"year":return t;default:return 1}}var iU=function(e){function InputMaskDateTime(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultDate="1970-01-01T",t.turnOfTheCentury=68,t.twelve=12,t.lexems=[],t.inputDateTimeData=[],t.validBeginningOfNumbers={hour:1,hourU:2,minute:5,second:5,day:3,month:1},t}return iz(InputMaskDateTime,e),Object.defineProperty(InputMaskDateTime.prototype,"hasDatePart",{get:function(){return this.lexems.some(function(e){return"day"===e.type||"month"===e.type||"year"===e.type})},enumerable:!1,configurable:!0}),Object.defineProperty(InputMaskDateTime.prototype,"hasTimePart",{get:function(){return this.lexems.some(function(e){return"hour"===e.type||"minute"===e.type||"second"===e.type})},enumerable:!1,configurable:!0}),Object.defineProperty(InputMaskDateTime.prototype,"is12Hours",{get:function(){return this.lexems.filter(function(e){return"hour"===e.type&&!e.upperCase}).length>0},enumerable:!1,configurable:!0}),InputMaskDateTime.prototype.getType=function(){return"datetimemask"},InputMaskDateTime.prototype.getTypeForExpressions=function(){return this.hasTimePart?"datetime-local":"datetime"},InputMaskDateTime.prototype.updateLiterals=function(){this.lexems=function(e){for(var t,o=[],createOrUpdateLexem=function(e,n,r){if(void 0===r&&(r=!1),t&&t===e){o[o.length-1].count++;var i=getMaxCountLexem(e,o[o.length-1].count);o[o.length-1].maxCount=i}else{var i=getMaxCountLexem(e,1);o.push({type:e,value:n,count:1,maxCount:i,upperCase:r})}},n=0;n<e.length;n++){var r=e[n];switch(r){case"m":createOrUpdateLexem("month",r);break;case"d":createOrUpdateLexem("day",r);break;case"y":createOrUpdateLexem("year",r);break;case"h":createOrUpdateLexem("hour",r,!1);break;case"H":createOrUpdateLexem("hour",r,!0);break;case"M":createOrUpdateLexem("minute",r);break;case"s":createOrUpdateLexem("second",r);break;case"t":createOrUpdateLexem("timeMarker",r);break;case"T":createOrUpdateLexem("timeMarker",r,!0);break;default:o.push({type:"separator",value:r,count:1,maxCount:1,upperCase:!1})}t=o[o.length-1].type}return o}(this.pattern||"")},InputMaskDateTime.prototype.leaveOnlyNumbers=function(e){for(var t="",o=0;o<e.length;o++)e[o].match(rd)&&(t+=e[o]);return t},InputMaskDateTime.prototype.getMaskedStrFromISO=function(e){var t=this,o=new Date(e);return this.initInputDateTimeData(),this.hasTimePart||(o=new Date(e+"T00:00:00")),this.hasDatePart||(o=new Date(this.defaultDate+e)),isNaN(o)||this.lexems.forEach(function(e,n){var r=t.inputDateTimeData[n];switch(r.isCompleted=!0,e.type){case"hour":t.is12Hours?r.value=((o.getHours()-1)%t.twelve+1).toString():r.value=o.getHours().toString();break;case"minute":r.value=o.getMinutes().toString();break;case"second":r.value=o.getSeconds().toString();break;case"timeMarker":var i=o.getHours()>=t.twelve?"pm":"am";r.value=e.upperCase?i.toUpperCase():i;break;case"day":r.value=o.getDate().toString();break;case"month":r.value=(o.getMonth()+1).toString();break;case"year":var s=o.getFullYear();2==e.count&&(s%=100),r.value=s.toString()}}),this.getFormatedString(!0)},InputMaskDateTime.prototype.initInputDateTimeData=function(){var e=this;this.inputDateTimeData=[],this.lexems.forEach(function(t){e.inputDateTimeData.push({lexem:t,isCompleted:!1,value:void 0})})},InputMaskDateTime.prototype.getISO_8601Format=function(e){var t=[],o=[];if(void 0!==e.year){var n=this.getPlaceholder(4,e.year.toString(),"0")+e.year;t.push(n)}if(void 0!==e.month&&void 0!==e.year){var r=this.getPlaceholder(2,e.month.toString(),"0")+e.month;t.push(r)}if(void 0!==e.day&&void 0!==e.month&&void 0!==e.year){var i=this.getPlaceholder(2,e.day.toString(),"0")+e.day;t.push(i)}if(void 0!==e.hour){var s=this.getPlaceholder(2,e.hour.toString(),"0")+e.hour;o.push(s)}if(void 0!==e.minute&&void 0!==e.hour){var a=this.getPlaceholder(2,e.minute.toString(),"0")+e.minute;o.push(a)}if(void 0!==e.second&&void 0!==e.minute&&void 0!==e.hour){var l=this.getPlaceholder(2,e.second.toString(),"0")+e.second;o.push(l)}var u=[];return t.length>0&&u.push(t.join("-")),o.length>1&&u.push(o.join(":")),u.join("T")},InputMaskDateTime.prototype.isYearValid=function(e){if(void 0===e.min&&void 0===e.max)return!1;var t=e.year.toString(),o=e.min.toISOString().slice(0,t.length),n=e.max.toISOString().slice(0,t.length);return e.year>=parseInt(o)&&e.year<=parseInt(n)},InputMaskDateTime.prototype.createIDateTimeCompositionWithDefaults=function(e,t){var o=29==e.day&&2==e.month,n=e.min.getFullYear(),r=e.max.getFullYear();o&&(r=4*Math.floor((n=4*Math.ceil(n/4))/4),n>r&&(n=void 0,r=void 0));var i=void 0!==e.year?e.year:t?r:n,s=void 0!==e.month?e.month:t&&this.hasDatePart?12:1,a=void 0!==e.day?e.day:t&&this.hasDatePart?this.getMaxDateForMonth(i,s):1;return{year:i,month:s,day:a,hour:void 0!==e.hour?e.hour:t?23:0,minute:void 0!==e.minute?e.minute:t?59:0,second:void 0!==e.second?e.second:t?59:0}},InputMaskDateTime.prototype.getMaxDateForMonth=function(e,t){return 2==t?e%4==0&&e%100!=0||e%400?29:28:[31,28,31,30,31,30,31,31,30,31,30,31][t-1]},InputMaskDateTime.prototype.isDateValid=function(e){var t=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!1))),o=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!0)));return!isNaN(t)&&(t.getDate()===e.day||void 0===e.day)&&(t.getMonth()===e.month-1||void 0===e.month)&&(t.getFullYear()===e.year||void 0===e.year)&&o>=e.min&&t<=e.max},InputMaskDateTime.prototype.getPlaceholder=function(e,t,o){var n=e-(t||"").length;return n>0?o.repeat(n):""},InputMaskDateTime.prototype.isDateValid12=function(e){return this.is12Hours?(!this.is12Hours||!(e.hour>this.twelve))&&(e.timeMarker?("p"===e.timeMarker[0].toLowerCase()?e.hour!==this.twelve&&(e.hour+=this.twelve):e.hour===this.twelve&&(e.hour=0),this.isDateValid(e)):!!this.isDateValid(e)||(e.hour+=this.twelve,this.isDateValid(e))):this.isDateValid(e)},InputMaskDateTime.prototype.updateTimeMarkerInputDateTimeData=function(e,t){var o=e.value;if(o){var n="timeMarker",r=mask_datetime_assign({},t);r[n]=o,this.isDateValid12(r)?e.isCompleted=!0:o=o.slice(0,o.length-1),e.value=o||void 0,t[n]=o||void 0}},InputMaskDateTime.prototype.updateInputDateTimeData=function(e,t){var o=e.value;if(o){var n=e.lexem.type,r=mask_datetime_assign({},t);if(r[n]=parseInt(this.parseTwoDigitYear(e)),o.length===e.lexem.maxCount){if(this.isDateValid12(r)){e.isCompleted=!0,e.value=o||void 0,t[n]=parseInt(o)>0?parseInt(o):void 0;return}o=o.slice(0,o.length-1)}r[n]=parseInt(o);var i=parseInt(o[0]),s=this.validBeginningOfNumbers[n+(e.lexem.upperCase?"U":"")];"year"!==n||this.isYearValid(r)?void 0!==s&&i>s?this.isDateValid12(r)?e.isCompleted=!0:o=o.slice(0,o.length-1):void 0!==s&&0!==i&&i<=s&&(this.checkValidationDateTimePart(r,n,e),e.isCompleted&&!this.isDateValid12(r)&&(o=o.slice(0,o.length-1))):(o=o.slice(0,o.length-1),e.isCompleted=!1),e.value=o||void 0,t[n]=parseInt(o)>0?parseInt(o):void 0}},InputMaskDateTime.prototype.checkValidationDateTimePart=function(e,t,o){var n=e[t],r=10*n,i=10;"month"===t&&(i=3),"hour"===t&&(i=this.is12Hours?3:5),o.isCompleted=!0;for(var s=0;s<i;s++)if(e[t]=r+s,this.isDateValid12(e)){o.isCompleted=!1;break}e[t]=n},InputMaskDateTime.prototype.getCorrectDatePartFormat=function(e,t){var o,n,r=e.lexem,i=e.value||"";return i&&"timeMarker"===r.type?t&&(i+=this.getPlaceholder(r.count,i,r.value)):(i&&e.isCompleted&&(i=parseInt(i).toString()),i&&e.isCompleted)?i=this.getPlaceholder(r.count,i,"0")+i:(n=o=i,r.count<r.maxCount&&("day"===r.type&&0===parseInt(o[0])||"month"===r.type&&0===parseInt(o[0]))&&(n=o.slice(1,o.length)),i=n,t&&(i+=this.getPlaceholder(r.count,i,r.value))),i},InputMaskDateTime.prototype.createIDateTimeComposition=function(){var e,t;return this.hasDatePart?(e=this.min||"0001-01-01",t=this.max||"9999-12-31"):(e=this.defaultDate+(this.min||"00:00:00"),t=this.defaultDate+(this.max||"23:59:59")),{hour:void 0,minute:void 0,second:void 0,day:void 0,month:void 0,year:void 0,min:new Date(e),max:new Date(t)}},InputMaskDateTime.prototype.parseTwoDigitYear=function(e){var t=e.value;return"year"!==e.lexem.type||e.lexem.count>2?t:(this.max&&this.max.length>=4&&(this.turnOfTheCentury=parseInt(this.max.slice(2,4))),(parseInt(t)>this.turnOfTheCentury?"19":"20")+t)},InputMaskDateTime.prototype.getFormatedString=function(e){var t="",o="",n=!1,r=this.inputDateTimeData.length-1;if(!e){var i=this.inputDateTimeData.filter(function(e){return!!e.value});r=this.inputDateTimeData.indexOf(i[i.length-1])}for(var s=0;s<this.inputDateTimeData.length;s++){var a=this.inputDateTimeData[s];switch(a.lexem.type){case"timeMarker":case"hour":case"minute":case"second":case"day":case"month":case"year":if(void 0===a.value&&!e)return t+(n?o:"");var l=e||r>s;t+=o+this.getCorrectDatePartFormat(a,l),n=a.isCompleted;break;case"separator":o=a.lexem.value}}return t},InputMaskDateTime.prototype.cleanTimeMarker=function(e,t){var o="";e=e.toUpperCase();for(var n=0;n<e.length;n++)(!o&&("P"==e[n]||"A"==e[n])||o&&"M"==e[n])&&(o+=e[n]);return t?o.toUpperCase():o.toLowerCase()},InputMaskDateTime.prototype.setInputDateTimeData=function(e){var t=this,o=0;this.initInputDateTimeData(),this.lexems.forEach(function(n,r){if(e.length>0&&o<e.length&&"separator"!==n.type){var i=t.inputDateTimeData[r],s=e[o],a=void 0;a="timeMarker"===n.type?t.cleanTimeMarker(s,n.upperCase):t.leaveOnlyNumbers(s),i.value=a.slice(0,n.maxCount),o++}})},InputMaskDateTime.prototype._getMaskedValue=function(e,t){var o=this;void 0===t&&(t=!0);var n=null==e?"":e.toString(),r=this.getParts(n);this.setInputDateTimeData(r);var i=this.createIDateTimeComposition();return this.inputDateTimeData.forEach(function(e){"timeMarker"===e.lexem.type?o.updateTimeMarkerInputDateTimeData(e,i):o.updateInputDateTimeData(e,i)}),this.getFormatedString(t)},InputMaskDateTime.prototype.getParts=function(e){for(var t=[],o=this.lexems.filter(function(e){return"separator"!==e.type}),n=this.lexems.filter(function(e){return"separator"===e.type}).map(function(e){return e.value}),r="",i=!1,s=!1,a=0;a<e.length;a++){var l=e[a];if(l.match(rd)||l===o[t.length].value?(i=!1,s=!1,r+=l):"timeMarker"===o[t.length].type?(i=!1,s=!1,r+=l):-1!==n.indexOf(l)?s||(i=!0,t.push(r),r=""):i||(s=!0,t.push(r),r=""),t.length>=o.length){i=!1;break}}return(""!=r||i)&&t.push(r),t},InputMaskDateTime.prototype.getUnmaskedValue=function(e){var t,o=this,n=null==e?"":e.toString(),r=this.getParts(n);this.setInputDateTimeData(r);var i=null===(t=this.inputDateTimeData.filter(function(e){return"timeMarker"===e.lexem.type})[0])||void 0===t?void 0:t.value.toLowerCase()[0],s=this.createIDateTimeComposition(),a=!1;return this.inputDateTimeData.forEach(function(e){var t=e.value;if("timeMarker"!=e.lexem.type&&"separator"!=e.lexem.type){if(!t||t.length<e.lexem.count){a=!0;return}var n=parseInt(o.parseTwoDigitYear(e));"hour"==e.lexem.type&&"p"===i&&n!=o.twelve&&(n+=o.twelve),s[e.lexem.type]=n}}),a?"":this.getISO_8601Format(s)},InputMaskDateTime.prototype.getMaskedValue=function(e){return this.getMaskedStrFromISO(e)},InputMaskDateTime.prototype.processInput=function(e){var t={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},o=e.prevValue.slice(0,e.selectionStart),n=e.prevValue.slice(e.selectionEnd);return t.value=this._getMaskedValue(o+(e.insertedChars||"")+n),e.insertedChars||"backward"!==e.inputDirection?t.caretPosition=this._getMaskedValue(o+(e.insertedChars||""),!1).length:t.caretPosition=e.selectionStart,t},mask_datetime_decorate([jsonobject_property()],InputMaskDateTime.prototype,"min",void 0),mask_datetime_decorate([jsonobject_property()],InputMaskDateTime.prototype,"max",void 0),InputMaskDateTime}(iN);eY.addClass("datetimemask",[{name:"min",type:"datetime",enableIf:function(e){return!!e.pattern}},{name:"max",type:"datetime",enableIf:function(e){return!!e.pattern}}],function(){return new iU},"patternmask");var iW=(e_=function(e,t){return(e_=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}e_(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),mask_currency_decorate=function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},iJ=function(e){function InputMaskCurrency(){return null!==e&&e.apply(this,arguments)||this}return iW(InputMaskCurrency,e),InputMaskCurrency.prototype.getType=function(){return"currencymask"},InputMaskCurrency.prototype.wrapText=function(e){var t=this.prefix||"",o=this.suffix||"",n=e;return n&&(-1===n.indexOf(t)&&(n=t+n),-1===n.indexOf(o)&&(n+=o)),n},InputMaskCurrency.prototype.unwrapInputArgs=function(e){var t=e.prevValue;if(t){if(this.prefix&&-1!==t.indexOf(this.prefix)){t=t.slice(t.indexOf(this.prefix)+this.prefix.length);var o=(this.prefix||"").length;e.selectionStart=Math.max(e.selectionStart-o,0),e.selectionEnd-=o}this.suffix&&-1!==t.indexOf(this.suffix)&&(t=t.slice(0,t.indexOf(this.suffix))),e.prevValue=t}},InputMaskCurrency.prototype.processInput=function(t){this.unwrapInputArgs(t);var o=e.prototype.processInput.call(this,t),n=(this.prefix||"").length;return o.value&&(o.caretPosition+=n),o.value=this.wrapText(o.value),o},InputMaskCurrency.prototype.getMaskedValue=function(t){var o=e.prototype.getMaskedValue.call(this,t);return this.wrapText(o)},mask_currency_decorate([jsonobject_property()],InputMaskCurrency.prototype,"prefix",void 0),mask_currency_decorate([jsonobject_property()],InputMaskCurrency.prototype,"suffix",void 0),InputMaskCurrency}(iH);function checkLibraryVersion(e,t){eO!=e&&console.error("survey-core has version '"+eO+"' and "+t+" has version '"+e+"'. SurveyJS libraries should have the same versions to work correctly.")}function setLicenseKey(e){slk(e)}function slk(e){!function(e,t,o){if(e){var n=function(e){var t,o,n,r={},i=0,s=0,a="",l=String.fromCharCode,u=e.length;for(t=0;t<64;t++)r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(o=0;o<u;o++)for(i=(i<<6)+r[e.charAt(o)],s+=6;s>=8;)((n=i>>>(s-=8)&255)||o<u-2)&&(a+=l(n));return a}(e);if(n){var r=n.indexOf(";");!(r<0)&&function(e){if(!e)return!0;var t="domains:",o=e.indexOf(t);if(o<0)return!0;var n=e.substring(o+t.length).toLowerCase().split(",");if(!Array.isArray(n)||0===n.length)return!0;var r=eE.getLocation();if(r&&r.hostname){var i=r.hostname.toLowerCase();n.push("localhost");for(var s=0;s<n.length;s++)if(i.indexOf(n[s])>-1)return!0;return!1}return!0}(n.substring(0,r))&&(n=n.substring(r+1)).split(",").forEach(function(e){var n=e.indexOf("=");n>0&&(t[e.substring(0,n)]=new Date(o)<=new Date(e.substring(n+1)))})}}}(e,i$,eI)}function hasLicense(e){return!0===i$[e.toString()]}eY.addClass("currencymask",[{name:"prefix"},{name:"suffix"}],function(){return new iJ},"numericmask"),eO="1.12.11",eI="2024-11-20";var i$={},iG={"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$checkmark-color":"#fff","$progress-buttons-color":"#8dd9ca","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$font-family":"Raleway"},iZ={"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},iK={"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},iY={"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},iX={"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},i1={"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},i0={"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},i2={"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"},i5=function(){function StylesManager(){StylesManager.autoApplyTheme()}return StylesManager.autoApplyTheme=function(){if("bootstrap"!==nC.currentType&&"bootstrapmaterial"!==nC.currentType){var e=StylesManager.getIncludedThemeCss();1===e.length&&StylesManager.applyTheme(e[0].name)}},StylesManager.getAvailableThemes=function(){return nC.getAvailableThemes().filter(function(e){return -1!==["defaultV2","default","modern"].indexOf(e)}).map(function(e){return{name:e,theme:nC[e]}})},StylesManager.getIncludedThemeCss=function(){if(void 0===t0.environment)return[];var e=t0.environment.rootElement,t=StylesManager.getAvailableThemes(),o=isShadowDOM(e)?e.host:e;if(o){var n=getComputedStyle(o);if(n.length)return t.filter(function(e){return e.theme.variables&&n.getPropertyValue(e.theme.variables.themeMark)})}return[]},StylesManager.findSheet=function(e){if(void 0===t0.environment)return null;for(var t=t0.environment.root.styleSheets,o=0;o<t.length;o++)if(t[o].ownerNode&&t[o].ownerNode.id===e)return t[o];return null},StylesManager.createSheet=function(e){var t=t0.environment.stylesSheetsMountContainer,o=eD.createElement("style");return o.id=e,o.appendChild(new Text("")),getElement(t).appendChild(o),StylesManager.Logger&&StylesManager.Logger.log("style sheet "+e+" created"),o.sheet},StylesManager.applyTheme=function(e,t){if(void 0===e&&(e="default"),void 0!==t0.environment){var o=t0.environment.rootElement,n=isShadowDOM(o)?o.host:o;if(nC.currentType=e,StylesManager.Enabled){if("bootstrap"!==e&&"bootstrapmaterial"!==e){(function(e,t){Object.keys(e||{}).forEach(function(o){var n=o.substring(1);t.style.setProperty("--"+n,e[o])})})(StylesManager.ThemeColors[e],n),StylesManager.Logger&&StylesManager.Logger.log("apply theme "+e+" completed");return}var r=StylesManager.ThemeCss[e];if(!r){nC.currentType="defaultV2";return}StylesManager.insertStylesRulesIntoDocument();var i=t||StylesManager.ThemeSelector[e]||StylesManager.ThemeSelector.default,s=(e+i).trim(),a=StylesManager.findSheet(s);if(!a){a=StylesManager.createSheet(s);var l=StylesManager.ThemeColors[e]||StylesManager.ThemeColors.default;Object.keys(r).forEach(function(e){var t=r[e];Object.keys(l||{}).forEach(function(e){return t=t.replace(RegExp("\\"+e,"g"),l[e])});try{0===e.indexOf("body")?a.insertRule(e+" { "+t+" }",0):a.insertRule(i+e+" { "+t+" }",0)}catch(e){}})}}StylesManager.Logger&&StylesManager.Logger.log("apply theme "+e+" completed")}},StylesManager.insertStylesRulesIntoDocument=function(){if(StylesManager.Enabled){var e=StylesManager.findSheet(StylesManager.SurveyJSStylesSheetId);e||(e=StylesManager.createSheet(StylesManager.SurveyJSStylesSheetId)),Object.keys(StylesManager.Styles).length&&Object.keys(StylesManager.Styles).forEach(function(t){try{e.insertRule(t+" { "+StylesManager.Styles[t]+" }",0)}catch(e){}}),Object.keys(StylesManager.Media).length&&Object.keys(StylesManager.Media).forEach(function(t){try{e.insertRule(StylesManager.Media[t].media+" { "+t+" { "+StylesManager.Media[t].style+" } }",0)}catch(e){}})}},StylesManager.SurveyJSStylesSheetId="surveyjs-styles",StylesManager.Styles={},StylesManager.Media={},StylesManager.ThemeColors={modern:iG,default:iZ,orange:iK,darkblue:iY,darkrose:iX,stone:i1,winter:i0,winterstone:i2},StylesManager.ThemeCss={},StylesManager.ThemeSelector={default:".sv_main ",modern:".sv-root-modern "},StylesManager.Enabled=!0,StylesManager}();nX.prototype.onBeforeRunConstructor=function(){eE.isAvailable()&&i5.autoApplyTheme()};var i7={root:"sv_main sv_default_css",rootProgress:"sv_progress",container:"sv_container",header:"sv_header",bodyContainer:"sv-components-row",body:"sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},comment:{remainingCharacterCounter:"sv-remaining-character-counter"},dropdown:{root:"",popup:"sv-dropdown-popup",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input",hintPrefix:"sv_q_dropdown__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image",noImage:"sv-image__no-image",noImageSvgIconId:"icon-no-image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv_q_m_cell_responsive_title"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",cellResponsiveTitle:"sv_matrix_cell_responsive_title",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",rowTextCell:"sv-table__cell--row-text",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"sv_matrix_dynamic_button--add",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",cellResponsiveTitle:"sv_matrix_cell_responsive_title",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",draggedRow:"sv-matrixdynamic-dragged-row"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",header:"sv-paneldynamic__header sv_header",headerTab:"sv-paneldynamic__header-tab",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column",itemNoImage:"sv_q_imgsel__no-image",itemNoImageSvgIcon:"sv_q_imgsel__no-image-svg",itemNoImageSvgIconId:"icon-no-image"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",itemFixedSize:"sv_q_rating_item_fixed",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",itemStar:"sv_q_rating__item-star",itemStarSelected:"sv_q_rating__item-star--selected",itemSmiley:"sv_q_rating__item-smiley",itemSmileySelected:"sv_q_rating__item-smiley--selected"},text:{root:"sv_q_text_root",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",previewItem:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-default-mark"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input",hint:"sv_q_tagbox__hint",hintPrefix:"sv_q_dropdown__hint-prefix sv_q_tagbox__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix sv_q_tagbox__hint-suffix",hintSuffixWrapper:"sv_q_tagbox__hint-suffix-wrapper"}};nC.default=i7,nC.orange=i7,nC.darkblue=i7,nC.darkrose=i7,nC.stone=i7,nC.winter=i7,nC.winterstone=i7;var i4={root:"sv-root-modern",rootProgress:"sv-progress",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",bodyContainer:"sv-components-row",body:"sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",number:"sv-page__num",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpandableSvg:"sd-element__title-expandable-svg",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",hintPrefix:"sv-dropdown__hint-prefix",hintSuffix:"sv-dropdown__hint-suffix"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-matrix__cell-responsive-title",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",cellResponsiveTitle:"sv-table__responsive-title",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowTextCell:"sv-table__cell--row-text",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",cellResponsiveTitle:"sv-table__responsive-title",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",draggedRow:"sv-matrixdynamic-dragged-row"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",itemSmiley:"sv-rating__item-smiley",itemStar:"sv-rating__item-star",itemSmileySelected:"sv-rating__item-smiley--selected",itemStarSelected:"sv-rating__item-star--selected"},comment:{root:"sv-comment",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",previewItem:"sd-file__preview-item",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-modern-mark"}};nC.modern=i4}})}}]);